  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (453.1ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "balance" decimal, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "currency" varchar)[0m
  [1m[35m (77.9ms)[0m  [1m[35mCREATE  INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "currencies"[0m
  [1m[35m (121.6ms)[0m  [1m[35mCREATE TABLE "currencies" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "symbol" varchar, "name" varchar, "code" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions"[0m
  [1m[35m (99.7ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "ammount" decimal, "description" text, "made_on_date" date, "currency" varchar, "account_id" integer, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (138.1ms)[0m  [1m[35mCREATE  INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.5ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_transactions_on_account_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_transactions_on_account_id' AND type='index'
[0m
  [1m[35m (173.3ms)[0m  [1m[35mCREATE  INDEX "index_transactions_on_user_id" ON "transactions" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (107.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (77.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.3ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (76.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (100.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (79.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20170802201757)[0m
  [1m[35m (54.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20170802192325),
(20170729174254),
(20170721111224),
(20170727092322),
(20170727093946);

[0m
  [1m[35m (131.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2017-08-07 18:47:42.248719"], ["updated_at", "2017-08-07 18:47:42.248719"]]
  [1m[35m (59.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-08-07 18:47:42.479191', '2017-08-07 18:47:42.479191', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-08-07 18:47:42.479191', '2017-08-07 18:47:42.479191', 298486374)[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-08-07 18:47:42.726084', '2017-08-07 18:47:42.726084', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-08-07 18:47:42.726084', '2017-08-07 18:47:42.726084', 298486374)[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-08-07 18:48:59.109679', '2017-08-07 18:48:59.109679', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-08-07 18:48:59.109679', '2017-08-07 18:48:59.109679', 298486374)[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-08-07 18:48:59.193672', '2017-08-07 18:48:59.193672', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-08-07 18:48:59.193672', '2017-08-07 18:48:59.193672', 298486374)[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-08-07 18:49:37.309700', '2017-08-07 18:49:37.309700', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-08-07 18:49:37.309700', '2017-08-07 18:49:37.309700', 298486374)[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-08-07 18:49:37.409736', '2017-08-07 18:49:37.409736', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-08-07 18:49:37.409736', '2017-08-07 18:49:37.409736', 298486374)[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-08-07 18:50:52.653780', '2017-08-07 18:50:52.653780', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-08-07 18:50:52.653780', '2017-08-07 18:50:52.653780', 298486374)[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-08-07 18:52:28.989232', '2017-08-07 18:52:28.989232', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-08-07 18:52:28.989232', '2017-08-07 18:52:28.989232', 298486374)[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-08-07 18:54:02.097083', '2017-08-07 18:54:02.097083', 980190962)[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-08-07 18:54:02.097083', '2017-08-07 18:54:02.097083', 298486374)[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-08-07 19:00:02.809129', '2017-08-07 19:00:02.809129', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-08-07 19:00:02.809129', '2017-08-07 19:00:02.809129', 298486374)[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-08-07 19:13:01.869853', '2017-08-07 19:13:01.869853', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-08-07 19:13:01.869853', '2017-08-07 19:13:01.869853', 298486374)[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-08-07 19:24:08.658338', '2017-08-07 19:24:08.658338', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2017-08-07 19:24:08.658338', '2017-08-07 19:24:08.658338', 298486374)[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 19:26:18.370914', '2017-08-07 19:26:18.370914', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 19:26:18.370914', '2017-08-07 19:26:18.370914', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 19:26:18.373608', '2017-08-07 19:26:18.373608', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 19:26:18.373608', '2017-08-07 19:26:18.373608', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 19:26:18.375331', '2017-08-07 19:26:18.375331', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 19:26:18.375331', '2017-08-07 19:26:18.375331', 298486374)[0m
  [1m[35m (63.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 19:26:52.590827', '2017-08-07 19:26:52.590827', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 19:26:52.590827', '2017-08-07 19:26:52.590827', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 19:26:52.593324', '2017-08-07 19:26:52.593324', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 19:26:52.593324', '2017-08-07 19:26:52.593324', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 19:26:52.595143', '2017-08-07 19:26:52.595143', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 19:26:52.595143', '2017-08-07 19:26:52.595143', 298486374)[0m
  [1m[35m (79.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 22:26:52 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (4.3ms)
Completed 200 OK in 7288ms (Views: 7281.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 19:28:31.966587', '2017-08-07 19:28:31.966587', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 19:28:31.966587', '2017-08-07 19:28:31.966587', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 19:28:31.968941', '2017-08-07 19:28:31.968941', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 19:28:31.968941', '2017-08-07 19:28:31.968941', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 19:28:31.970512', '2017-08-07 19:28:31.970512', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 19:28:31.970512', '2017-08-07 19:28:31.970512', 298486374)[0m
  [1m[35m (122.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 22:28:32 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.8ms)
Completed 200 OK in 382ms (Views: 375.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 19:32:31.129913', '2017-08-07 19:32:31.129913', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 19:32:31.129913', '2017-08-07 19:32:31.129913', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 19:32:31.134185', '2017-08-07 19:32:31.134185', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 19:32:31.134185', '2017-08-07 19:32:31.134185', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 19:32:31.136618', '2017-08-07 19:32:31.136618', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 19:32:31.136618', '2017-08-07 19:32:31.136618', 298486374)[0m
  [1m[35m (70.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 22:32:31 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.9ms)
Completed 200 OK in 433ms (Views: 427.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@mail.com"], ["encrypted_password", "$2a$04$qRJFOvh0THw/Y/nqEuxc9uytT4vD1Va7V9hGsjak/VYGdKSuDLLn."], ["created_at", "2017-08-07 19:41:48.117849"], ["updated_at", "2017-08-07 19:41:48.117849"]]
  [1m[35m (347.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:06:57.322424', '2017-08-07 20:06:57.322424', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:06:57.322424', '2017-08-07 20:06:57.322424', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:06:57.325696', '2017-08-07 20:06:57.325696', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:06:57.325696', '2017-08-07 20:06:57.325696', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:06:57.327578', '2017-08-07 20:06:57.327578', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:06:57.327578', '2017-08-07 20:06:57.327578', 298486374)[0m
  [1m[35m (108.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:06:57 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.8ms)
Completed 200 OK in 399ms (Views: 392.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-07 23:06:57 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (1.1ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (22.3ms)
Completed 200 OK in 91ms (Views: 30.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@mail.com"], ["encrypted_password", "$2a$04$DJcMMm0tCjDNKWI33ALJzOByMxEI7dXj881Nk98EMzwAD16p1J7QC"], ["created_at", "2017-08-07 20:06:58.112078"], ["updated_at", "2017-08-07 20:06:58.112078"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:08:03.537605', '2017-08-07 20:08:03.537605', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:08:03.537605', '2017-08-07 20:08:03.537605', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:08:03.540618', '2017-08-07 20:08:03.540618', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:08:03.540618', '2017-08-07 20:08:03.540618', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:08:03.542465', '2017-08-07 20:08:03.542465', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:08:03.542465', '2017-08-07 20:08:03.542465', 298486374)[0m
  [1m[35m (197.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:08:03 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (4.1ms)
Completed 200 OK in 513ms (Views: 506.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-07 23:08:04 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (1.4ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (19.5ms)
Completed 200 OK in 42ms (Views: 27.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@mail.com"], ["encrypted_password", "$2a$04$Hf1gJLrP94VUXIfsBMmkgebEJDurxBCa35lHR.fiHS7yBmvXQCf.q"], ["created_at", "2017-08-07 20:08:04.439643"], ["updated_at", "2017-08-07 20:08:04.439643"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:08:39.818704', '2017-08-07 20:08:39.818704', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:08:39.818704', '2017-08-07 20:08:39.818704', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:08:39.821661', '2017-08-07 20:08:39.821661', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:08:39.821661', '2017-08-07 20:08:39.821661', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:08:39.823735', '2017-08-07 20:08:39.823735', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:08:39.823735', '2017-08-07 20:08:39.823735', 298486374)[0m
  [1m[35m (1074.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:08:41 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (4.2ms)
Completed 200 OK in 426ms (Views: 419.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-07 23:08:41 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (1.1ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (18.8ms)
Completed 200 OK in 40ms (Views: 25.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@mail.com"], ["encrypted_password", "$2a$04$5ulyC3RbtsQnv.YG5NDHVOeFGv2CF5MAUdvghTheIgPDKfVPmuinC"], ["created_at", "2017-08-07 20:08:41.538997"], ["updated_at", "2017-08-07 20:08:41.538997"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:09:38.989509', '2017-08-07 20:09:38.989509', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:09:38.989509', '2017-08-07 20:09:38.989509', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:09:38.993565', '2017-08-07 20:09:38.993565', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:09:38.993565', '2017-08-07 20:09:38.993565', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:09:38.996442', '2017-08-07 20:09:38.996442', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:09:38.996442', '2017-08-07 20:09:38.996442', 298486374)[0m
  [1m[35m (481.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:09:39 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (4.1ms)
Completed 200 OK in 426ms (Views: 419.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-07 23:09:40 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.9ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (13.7ms)
Completed 200 OK in 53ms (Views: 20.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:10:01.928259', '2017-08-07 20:10:01.928259', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:10:01.928259', '2017-08-07 20:10:01.928259', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:10:01.931488', '2017-08-07 20:10:01.931488', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:10:01.931488', '2017-08-07 20:10:01.931488', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:10:01.933784', '2017-08-07 20:10:01.933784', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:10:01.933784', '2017-08-07 20:10:01.933784', 298486374)[0m
  [1m[35m (691.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:10:02 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (5.8ms)
Completed 200 OK in 449ms (Views: 443.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-07 23:10:03 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (1.1ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (13.1ms)
Completed 200 OK in 30ms (Views: 18.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@mail.com"], ["encrypted_password", "$2a$04$7IChgRBqpuRtNcapUnG8Guri97LvrfV01AyV/0TQusI2k73oDvSzy"], ["created_at", "2017-08-07 20:10:03.234398"], ["updated_at", "2017-08-07 20:10:03.234398"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:10:36.581353', '2017-08-07 20:10:36.581353', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:10:36.581353', '2017-08-07 20:10:36.581353', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:10:36.584381', '2017-08-07 20:10:36.584381', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:10:36.584381', '2017-08-07 20:10:36.584381', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:10:36.586848', '2017-08-07 20:10:36.586848', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:10:36.586848', '2017-08-07 20:10:36.586848', 298486374)[0m
  [1m[35m (130.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-07 23:10:36 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.8ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (13.1ms)
Completed 200 OK in 403ms (Views: 381.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@mail.com"], ["encrypted_password", "$2a$04$IFQzSmLwNK0RxRnCrk1ERO.RldBfymrwRN5tMQmL7673DqT2BU7cS"], ["created_at", "2017-08-07 20:10:37.287114"], ["updated_at", "2017-08-07 20:10:37.287114"]]
  [1m[35m (1.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in" for 127.0.0.1 at 2017-08-07 23:10:37 +0300
Processing by Devise::SessionsController#create as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.2ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (4.9ms)
Completed 200 OK in 10ms (Views: 8.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:10:37 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.5ms)
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:11:17.037571', '2017-08-07 20:11:17.037571', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:11:17.037571', '2017-08-07 20:11:17.037571', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:11:17.041964', '2017-08-07 20:11:17.041964', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:11:17.041964', '2017-08-07 20:11:17.041964', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:11:17.044359', '2017-08-07 20:11:17.044359', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:11:17.044359', '2017-08-07 20:11:17.044359', 298486374)[0m
  [1m[35m (1164.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:11:18 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (4.2ms)
Completed 200 OK in 414ms (Views: 404.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-07 23:11:18 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (1.2ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (22.8ms)
Completed 200 OK in 63ms (Views: 31.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@mail.com"], ["encrypted_password", "$2a$04$.BaflV1BPG.988Pklw9bSeK/q39y4B61NfgWEZO6SZlIlQTvo.XhW"], ["created_at", "2017-08-07 20:11:18.854028"], ["updated_at", "2017-08-07 20:11:18.854028"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in" for 127.0.0.1 at 2017-08-07 23:11:18 +0300
Processing by Devise::SessionsController#create as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.1ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:11:29.404128', '2017-08-07 20:11:29.404128', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:11:29.404128', '2017-08-07 20:11:29.404128', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:11:29.406880', '2017-08-07 20:11:29.406880', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:11:29.406880', '2017-08-07 20:11:29.406880', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:11:29.408712', '2017-08-07 20:11:29.408712', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:11:29.408712', '2017-08-07 20:11:29.408712', 298486374)[0m
  [1m[35m (1157.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:11:30 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.8ms)
Completed 200 OK in 444ms (Views: 438.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-07 23:11:31 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.8ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (13.1ms)
Completed 200 OK in 30ms (Views: 18.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@mail.com"], ["encrypted_password", "$2a$04$bm6wlFVlZ9BA8vA6nsNvB.bg3qhH4c151pnCPHQVR4e6PgLzfxgFq"], ["created_at", "2017-08-07 20:11:31.187621"], ["updated_at", "2017-08-07 20:11:31.187621"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in" for 127.0.0.1 at 2017-08-07 23:11:31 +0300
Processing by Devise::SessionsController#create as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.1ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:13:14.688728', '2017-08-07 20:13:14.688728', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:13:14.688728', '2017-08-07 20:13:14.688728', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:13:14.691679', '2017-08-07 20:13:14.691679', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:13:14.691679', '2017-08-07 20:13:14.691679', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:13:14.694016', '2017-08-07 20:13:14.694016', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:13:14.694016', '2017-08-07 20:13:14.694016', 298486374)[0m
  [1m[35m (64.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:13:14 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (4.1ms)
Completed 200 OK in 360ms (Views: 354.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-07 23:13:15 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (3.5ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (33.7ms)
Completed 200 OK in 87ms (Views: 44.2ms | ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@mail.com"], ["encrypted_password", "$2a$04$3HF.FuZIXLxKpY.1JLBMIO4zegLdMfCnD09iilKQYT7V.H7eGGTwC"], ["created_at", "2017-08-07 20:13:15.384694"], ["updated_at", "2017-08-07 20:13:15.384694"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:14:17.892845', '2017-08-07 20:14:17.892845', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:14:17.892845', '2017-08-07 20:14:17.892845', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:14:17.902761', '2017-08-07 20:14:17.902761', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:14:17.902761', '2017-08-07 20:14:17.902761', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:14:17.904666', '2017-08-07 20:14:17.904666', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:14:17.904666', '2017-08-07 20:14:17.904666', 298486374)[0m
  [1m[35m (102.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:14:18 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (4.3ms)
Completed 200 OK in 404ms (Views: 398.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-07 23:14:18 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (1.4ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (14.2ms)
Completed 200 OK in 52ms (Views: 20.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@mail.com"], ["encrypted_password", "$2a$04$wTSdlEIP.EnsNhdvVZHaM.0IplLBzOCoAh3GuDbi0ezINhXnyEe8W"], ["created_at", "2017-08-07 20:14:18.610178"], ["updated_at", "2017-08-07 20:14:18.610178"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-07 23:14:18 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 20:14:18.620582"], ["last_sign_in_at", "2017-08-07 20:14:18.620582"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 20:14:18.621135"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 13ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:15:28.259469', '2017-08-07 20:15:28.259469', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:15:28.259469', '2017-08-07 20:15:28.259469', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:15:28.262145', '2017-08-07 20:15:28.262145', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:15:28.262145', '2017-08-07 20:15:28.262145', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:15:28.264005', '2017-08-07 20:15:28.264005', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:15:28.264005', '2017-08-07 20:15:28.264005', 298486374)[0m
  [1m[35m (249.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:15:28 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (6.6ms)
Completed 200 OK in 420ms (Views: 414.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-07 23:15:29 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.9ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (13.8ms)
Completed 200 OK in 31ms (Views: 19.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@mail.com"], ["encrypted_password", "$2a$04$nOs8OemTYub6y20Lgy.0BOLdKQ7SS.KycP/ZIPMzSjd6lgnXKPI22"], ["created_at", "2017-08-07 20:15:29.105578"], ["updated_at", "2017-08-07 20:15:29.105578"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-07 23:15:29 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 20:15:29.118487"], ["last_sign_in_at", "2017-08-07 20:15:29.118487"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 20:15:29.119285"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2017-08-07 23:15:29 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.3ms)
Completed 302 Found in 3ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:16:12.032774', '2017-08-07 20:16:12.032774', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:16:12.032774', '2017-08-07 20:16:12.032774', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:16:12.035820', '2017-08-07 20:16:12.035820', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:16:12.035820', '2017-08-07 20:16:12.035820', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:16:12.037952', '2017-08-07 20:16:12.037952', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:16:12.037952', '2017-08-07 20:16:12.037952', 298486374)[0m
  [1m[35m (87.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:16:12 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (4.2ms)
Completed 200 OK in 365ms (Views: 358.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-07 23:16:12 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (2.7ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (33.8ms)
Completed 200 OK in 88ms (Views: 45.6ms | ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@mail.com"], ["encrypted_password", "$2a$04$go7W/6UFKGPaOUqowCHdZeMqwYZpwovHlzuUspoeZOBt6776P0t36"], ["created_at", "2017-08-07 20:16:12.747957"], ["updated_at", "2017-08-07 20:16:12.747957"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-07 23:16:12 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 20:16:12.765086"], ["last_sign_in_at", "2017-08-07 20:16:12.765086"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 20:16:12.765710"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-07 23:16:12 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (2.0ms)
Completed 302 Found in 6ms (Views: 5.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:16:59.510867', '2017-08-07 20:16:59.510867', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:16:59.510867', '2017-08-07 20:16:59.510867', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:16:59.513847', '2017-08-07 20:16:59.513847', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:16:59.513847', '2017-08-07 20:16:59.513847', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:16:59.515751', '2017-08-07 20:16:59.515751', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:16:59.515751', '2017-08-07 20:16:59.515751', 298486374)[0m
  [1m[35m (113.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:16:59 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (4.5ms)
Completed 200 OK in 414ms (Views: 398.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-07 23:17:00 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (3.3ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (15.9ms)
Completed 200 OK in 33ms (Views: 21.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@mail.com"], ["encrypted_password", "$2a$04$YPaTHa7yy0lm/Zvs30cJDeHJSgPZzUFwiIavoY4Qsx4SFEzBwCUOS"], ["created_at", "2017-08-07 20:17:00.225048"], ["updated_at", "2017-08-07 20:17:00.225048"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-07 23:17:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 20:17:00.254706"], ["last_sign_in_at", "2017-08-07 20:17:00.254706"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 20:17:00.255330"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 33ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-07 23:17:00 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.2ms)
Completed 302 Found in 4ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:17:14.957197', '2017-08-07 20:17:14.957197', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:17:14.957197', '2017-08-07 20:17:14.957197', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:17:14.960513', '2017-08-07 20:17:14.960513', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:17:14.960513', '2017-08-07 20:17:14.960513', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:17:14.962418', '2017-08-07 20:17:14.962418', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:17:14.962418', '2017-08-07 20:17:14.962418', 298486374)[0m
  [1m[35m (122.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:17:15 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (4.0ms)
Completed 200 OK in 387ms (Views: 381.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-07 23:17:15 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.8ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (23.6ms)
Completed 200 OK in 74ms (Views: 31.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "davids@mail.com"], ["encrypted_password", "$2a$04$Ygk35MAxWhNb4vIgwqSfZOJemO4LR.UTGbcQZZvRv5MfVuyFrSy0u"], ["created_at", "2017-08-07 20:17:15.699460"], ["updated_at", "2017-08-07 20:17:15.699460"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=davids%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-07 23:17:15 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"davids@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 20:17:15.709460"], ["last_sign_in_at", "2017-08-07 20:17:15.709460"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 20:17:15.709979"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 13ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-07 23:17:15 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 302 Found in 3ms (Views: 2.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:17:51.261760', '2017-08-07 20:17:51.261760', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:17:51.261760', '2017-08-07 20:17:51.261760', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:17:51.264513', '2017-08-07 20:17:51.264513', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:17:51.264513', '2017-08-07 20:17:51.264513', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:17:51.266235', '2017-08-07 20:17:51.266235', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:17:51.266235', '2017-08-07 20:17:51.266235', 298486374)[0m
  [1m[35m (54.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:17:51 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.9ms)
Completed 200 OK in 406ms (Views: 399.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-07 23:17:51 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.8ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (13.3ms)
Completed 200 OK in 32ms (Views: 18.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "davids@mail.com"], ["encrypted_password", "$2a$04$O8WvXj9QWH/KnqonVbiZ3.sLri7T0NSYHafglKcrL.eHODl8n1a16"], ["created_at", "2017-08-07 20:17:51.903088"], ["updated_at", "2017-08-07 20:17:51.903088"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=davids%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-07 23:17:51 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"davids@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 20:17:51.915089"], ["last_sign_in_at", "2017-08-07 20:17:51.915089"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 20:17:51.915592"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 13ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.9ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:19:25.750832', '2017-08-07 20:19:25.750832', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:19:25.750832', '2017-08-07 20:19:25.750832', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:19:25.753632', '2017-08-07 20:19:25.753632', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:19:25.753632', '2017-08-07 20:19:25.753632', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:19:25.755429', '2017-08-07 20:19:25.755429', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:19:25.755429', '2017-08-07 20:19:25.755429', 298486374)[0m
  [1m[35m (149.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:19:26 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.8ms)
Completed 200 OK in 388ms (Views: 381.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-07 23:19:26 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.8ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (15.3ms)
Completed 200 OK in 32ms (Views: 20.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "davids@mail.com"], ["encrypted_password", "$2a$04$PN99BhvqYpZuOWCaUJouPeBUZCkYvM6T2HM7LOkC/ZrsthOgnu8Hi"], ["created_at", "2017-08-07 20:19:26.476309"], ["updated_at", "2017-08-07 20:19:26.476309"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=davids%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-07 23:19:26 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"davids@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 20:19:26.507636"], ["last_sign_in_at", "2017-08-07 20:19:26.507636"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 20:19:26.508330"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 13ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:20:49.642886', '2017-08-07 20:20:49.642886', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:20:49.642886', '2017-08-07 20:20:49.642886', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:20:49.646528', '2017-08-07 20:20:49.646528', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:20:49.646528', '2017-08-07 20:20:49.646528', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:20:49.648359', '2017-08-07 20:20:49.648359', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:20:49.648359', '2017-08-07 20:20:49.648359', 298486374)[0m
  [1m[35m (196.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:20:49 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (4.1ms)
Completed 200 OK in 386ms (Views: 379.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-07 23:20:50 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.9ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (14.5ms)
Completed 200 OK in 51ms (Views: 20.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:21:03.942549', '2017-08-07 20:21:03.942549', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:21:03.942549', '2017-08-07 20:21:03.942549', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:21:03.945648', '2017-08-07 20:21:03.945648', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:21:03.945648', '2017-08-07 20:21:03.945648', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:21:03.947543', '2017-08-07 20:21:03.947543', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:21:03.947543', '2017-08-07 20:21:03.947543', 298486374)[0m
  [1m[35m (153.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-07 23:21:04 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.9ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (15.9ms)
Completed 200 OK in 469ms (Views: 445.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "davids@mail.com"], ["encrypted_password", "$2a$04$ZdJlGWZV94wsG6Y3C.Vbne8q2xXgXbGw63SomM5Iv79s8ThvRp3v6"], ["created_at", "2017-08-07 20:21:04.710848"], ["updated_at", "2017-08-07 20:21:04.710848"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=davids%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-07 23:21:04 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"davids@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 20:21:04.721791"], ["last_sign_in_at", "2017-08-07 20:21:04.721791"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 20:21:04.722629"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 15ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:21:04 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.5ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:22:58.303232', '2017-08-07 20:22:58.303232', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:22:58.303232', '2017-08-07 20:22:58.303232', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:22:58.306202', '2017-08-07 20:22:58.306202', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:22:58.306202', '2017-08-07 20:22:58.306202', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:22:58.308034', '2017-08-07 20:22:58.308034', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:22:58.308034', '2017-08-07 20:22:58.308034', 298486374)[0m
  [1m[35m (1055.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:22:59 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.7ms)
Completed 200 OK in 380ms (Views: 373.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-07 23:22:59 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (2.1ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (35.6ms)
Completed 200 OK in 97ms (Views: 45.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "davids@mail.com"], ["encrypted_password", "$2a$04$tKhYDfRXRTKzPrgSAYGXpuzFUTDaZH8rFdu8AFtUasT79T9KgpXBK"], ["created_at", "2017-08-07 20:23:00.031549"], ["updated_at", "2017-08-07 20:23:00.031549"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=davids%40mail.com&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confiramtion%5D=[FILTERED]" for 127.0.0.1 at 2017-08-07 23:23:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"davids@mail.com", "password"=>"[FILTERED]", "password_confiramtion"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 20:23:00.042649"], ["last_sign_in_at", "2017-08-07 20:23:00.042649"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 20:23:00.043184"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 13ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:23:45.923866', '2017-08-07 20:23:45.923866', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:23:45.923866', '2017-08-07 20:23:45.923866', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:23:45.926865', '2017-08-07 20:23:45.926865', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:23:45.926865', '2017-08-07 20:23:45.926865', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:23:45.928571', '2017-08-07 20:23:45.928571', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:23:45.928571', '2017-08-07 20:23:45.928571', 298486374)[0m
  [1m[35m (192.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:23:46 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (6.3ms)
Completed 200 OK in 454ms (Views: 444.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-07 23:23:46 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (1.1ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (14.1ms)
Completed 200 OK in 31ms (Views: 19.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "davids@mail.com"], ["encrypted_password", "$2a$04$CputiEUfJDxrUwrAkF9c3u9Vy5EYlwaw/n9yEXvyF55MqjSQEBIhu"], ["created_at", "2017-08-07 20:23:46.736995"], ["updated_at", "2017-08-07 20:23:46.736995"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=davids%40mail.com&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confiramtion%5D=[FILTERED]" for 127.0.0.1 at 2017-08-07 23:23:46 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"davids@mail.com", "password"=>"[FILTERED]", "password_confiramtion"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 20:23:46.752177"], ["last_sign_in_at", "2017-08-07 20:23:46.752177"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 20:23:46.753090"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 22ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:24:59.001155', '2017-08-07 20:24:59.001155', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:24:59.001155', '2017-08-07 20:24:59.001155', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:24:59.004425', '2017-08-07 20:24:59.004425', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:24:59.004425', '2017-08-07 20:24:59.004425', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:24:59.007254', '2017-08-07 20:24:59.007254', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:24:59.007254', '2017-08-07 20:24:59.007254', 298486374)[0m
  [1m[35m (173.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-07 23:24:59 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.8ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (13.1ms)
Completed 200 OK in 398ms (Views: 378.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "davids@mail.com"], ["encrypted_password", "$2a$04$5EYchLXNDEBWwyOeM67G1.TdB8tDQT7PaxYSFL0GVgj5oZWzc1YQK"], ["created_at", "2017-08-07 20:24:59.754709"], ["updated_at", "2017-08-07 20:24:59.754709"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=davids%40mail.com&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confiramtion%5D=[FILTERED]" for 127.0.0.1 at 2017-08-07 23:24:59 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"davids@mail.com", "password"=>"[FILTERED]", "password_confiramtion"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 20:24:59.777736"], ["last_sign_in_at", "2017-08-07 20:24:59.777736"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 20:24:59.778390"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2017-08-07 23:24:59 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (4.0ms)
Completed 302 Found in 15ms (Views: 12.8ms | ActiveRecord: 0.4ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:24:59 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:25:46.571829', '2017-08-07 20:25:46.571829', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:25:46.571829', '2017-08-07 20:25:46.571829', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:25:46.575249', '2017-08-07 20:25:46.575249', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:25:46.575249', '2017-08-07 20:25:46.575249', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:25:46.577644', '2017-08-07 20:25:46.577644', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:25:46.577644', '2017-08-07 20:25:46.577644', 298486374)[0m
  [1m[35m (106.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-07 23:25:46 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (1.4ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (22.7ms)
Completed 200 OK in 472ms (Views: 451.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "davids@mail.com"], ["encrypted_password", "$2a$04$8VpFNyHHa0lHMZrRdTBS..K6f9uxNR9Zf.olW2MylhLwxnYS4lvsC"], ["created_at", "2017-08-07 20:25:47.296484"], ["updated_at", "2017-08-07 20:25:47.296484"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=davids%40mail.com&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confiramtion%5D=[FILTERED]" for 127.0.0.1 at 2017-08-07 23:25:47 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"davids@mail.com", "password"=>"[FILTERED]", "password_confiramtion"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 20:25:47.308085"], ["last_sign_in_at", "2017-08-07 20:25:47.308085"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 20:25:47.308658"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 15ms (ActiveRecord: 0.7ms)
Started GET "/" for 127.0.0.1 at 2017-08-07 23:25:47 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.5ms)
Completed 302 Found in 6ms (Views: 4.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:25:47 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:26:58.989321', '2017-08-07 20:26:58.989321', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:26:58.989321', '2017-08-07 20:26:58.989321', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:26:58.992278', '2017-08-07 20:26:58.992278', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:26:58.992278', '2017-08-07 20:26:58.992278', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:26:58.993924', '2017-08-07 20:26:58.993924', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:26:58.993924', '2017-08-07 20:26:58.993924', 298486374)[0m
  [1m[35m (884.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:27:00 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (4.0ms)
Completed 200 OK in 443ms (Views: 433.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-07 23:27:00 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.8ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (14.6ms)
Completed 200 OK in 32ms (Views: 19.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "davids@mail.com"], ["encrypted_password", "$2a$04$F1hCfOnVoq70Qy.uxPOev.fKj7pkeqd9U1Hc00SnzUbF86l8FTyDq"], ["created_at", "2017-08-07 20:27:00.539757"], ["updated_at", "2017-08-07 20:27:00.539757"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=davids%40mail.com&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confiramtion%5D=[FILTERED]" for 127.0.0.1 at 2017-08-07 23:27:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"davids@mail.com", "password"=>"[FILTERED]", "password_confiramtion"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 20:27:00.550366"], ["last_sign_in_at", "2017-08-07 20:27:00.550366"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 20:27:00.551049"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 15ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-07 23:27:00 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 302 Found in 3ms (Views: 2.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:27:41.125259', '2017-08-07 20:27:41.125259', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:27:41.125259', '2017-08-07 20:27:41.125259', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:27:41.128541', '2017-08-07 20:27:41.128541', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:27:41.128541', '2017-08-07 20:27:41.128541', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:27:41.130329', '2017-08-07 20:27:41.130329', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:27:41.130329', '2017-08-07 20:27:41.130329', 298486374)[0m
  [1m[35m (530.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:27:41 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (4.2ms)
Completed 200 OK in 366ms (Views: 360.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-07 23:27:42 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (2.6ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (31.1ms)
Completed 200 OK in 85ms (Views: 40.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "davids@mail.com"], ["encrypted_password", "$2a$04$LYPYjxsRARfjm0eVmMEiYunN4hNFyHYmr8u2gySmFrCr4wCXfMiRW"], ["created_at", "2017-08-07 20:27:42.284697"], ["updated_at", "2017-08-07 20:27:42.284697"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=davids%40mail.com&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confiramtion%5D=[FILTERED]" for 127.0.0.1 at 2017-08-07 23:27:42 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"davids@mail.com", "password"=>"[FILTERED]", "password_confiramtion"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 20:27:42.303998"], ["last_sign_in_at", "2017-08-07 20:27:42.303998"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 20:27:42.304840"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 17ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-07 23:27:42 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.3ms)
Completed 302 Found in 4ms (Views: 3.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:31:29.448259', '2017-08-07 20:31:29.448259', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:31:29.448259', '2017-08-07 20:31:29.448259', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:31:29.451186', '2017-08-07 20:31:29.451186', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:31:29.451186', '2017-08-07 20:31:29.451186', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:31:29.452925', '2017-08-07 20:31:29.452925', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:31:29.452925', '2017-08-07 20:31:29.452925', 298486374)[0m
  [1m[35m (83.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:31:29 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (4.0ms)
Completed 200 OK in 417ms (Views: 411.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-07 23:31:30 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.8ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (13.0ms)
Completed 200 OK in 66ms (Views: 19.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "davids@mail.com"], ["encrypted_password", "$2a$04$Nyl34OuH557ZJg7dW7y5peA0Qm14yY4vwhJJ000FrfvIEmmVg7aBO"], ["created_at", "2017-08-07 20:31:30.172805"], ["updated_at", "2017-08-07 20:31:30.172805"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in" for 127.0.0.1 at 2017-08-07 23:31:30 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"davids@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 20:31:30.183031"], ["last_sign_in_at", "2017-08-07 20:31:30.183031"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 20:31:30.183540"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 14ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2017-08-07 23:31:30 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.2ms)
Completed 302 Found in 3ms (Views: 2.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:32:01.728320', '2017-08-07 20:32:01.728320', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:32:01.728320', '2017-08-07 20:32:01.728320', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:32:01.731298', '2017-08-07 20:32:01.731298', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:32:01.731298', '2017-08-07 20:32:01.731298', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:32:01.733105', '2017-08-07 20:32:01.733105', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:32:01.733105', '2017-08-07 20:32:01.733105', 298486374)[0m
  [1m[35m (59.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:32:01 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (4.0ms)
Completed 200 OK in 426ms (Views: 419.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-07 23:32:02 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.8ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (12.8ms)
Completed 200 OK in 30ms (Views: 18.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "davids@mail.com"], ["encrypted_password", "$2a$04$PsQ6mOAltPqsuX5eA1i3yehsQ.rmZXT1JKDdoAqqvb7n2gb9/Cgvq"], ["created_at", "2017-08-07 20:32:02.402698"], ["updated_at", "2017-08-07 20:32:02.402698"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2017-08-07 23:32:02 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"user"=>{"email"=>"davids@mail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.2ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/registrations/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 38ms (Views: 6.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:32:24.496586', '2017-08-07 20:32:24.496586', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:32:24.496586', '2017-08-07 20:32:24.496586', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:32:24.499624', '2017-08-07 20:32:24.499624', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:32:24.499624', '2017-08-07 20:32:24.499624', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:32:24.502318', '2017-08-07 20:32:24.502318', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:32:24.502318', '2017-08-07 20:32:24.502318', 298486374)[0m
  [1m[35m (91.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:32:24 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (4.2ms)
Completed 200 OK in 382ms (Views: 376.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-07 23:32:25 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (2.0ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (30.1ms)
Completed 200 OK in 107ms (Views: 56.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "davids@mail.com"], ["encrypted_password", "$2a$04$mCa0Foi8jHOQNPKxlN8nW.dbjyqHclV/nS0enpORZ2mLn7BPZdB7C"], ["created_at", "2017-08-07 20:32:25.263397"], ["updated_at", "2017-08-07 20:32:25.263397"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2017-08-07 23:32:25 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"user"=>{"email"=>"davids@mail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/registrations/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 20ms (Views: 8.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:33:43.030569', '2017-08-07 20:33:43.030569', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:33:43.030569', '2017-08-07 20:33:43.030569', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:33:43.033678', '2017-08-07 20:33:43.033678', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:33:43.033678', '2017-08-07 20:33:43.033678', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:33:43.035539', '2017-08-07 20:33:43.035539', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:33:43.035539', '2017-08-07 20:33:43.035539', 298486374)[0m
  [1m[35m (51.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:33:43 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.9ms)
Completed 200 OK in 439ms (Views: 431.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/users/sign_up" for 127.0.0.1 at 2017-08-07 23:33:43 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.9ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/registrations/new.html.erb within layouts/application (12.2ms)
Completed 200 OK in 29ms (Views: 18.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "davids@mail.com"], ["encrypted_password", "$2a$04$hUGe3O9tsyfsi99ZCOzBouq12KRsW8EFluIcg5YeutFScHI.gd9u6"], ["created_at", "2017-08-07 20:33:43.689210"], ["updated_at", "2017-08-07 20:33:43.689210"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2017-08-07 23:33:43 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"user"=>{"email"=>"davids@mail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.1ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/registrations/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 13ms (Views: 3.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:34:57.374040', '2017-08-07 20:34:57.374040', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:34:57.374040', '2017-08-07 20:34:57.374040', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:34:57.378173', '2017-08-07 20:34:57.378173', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:34:57.378173', '2017-08-07 20:34:57.378173', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:34:57.380245', '2017-08-07 20:34:57.380245', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:34:57.380245', '2017-08-07 20:34:57.380245', 298486374)[0m
  [1m[35m (233.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:34:57 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (4.2ms)
Completed 200 OK in 418ms (Views: 412.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/users/sign_up" for 127.0.0.1 at 2017-08-07 23:34:58 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (2.5ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/registrations/new.html.erb within layouts/application (14.9ms)
Completed 200 OK in 31ms (Views: 20.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "davids@mail.com"], ["encrypted_password", "$2a$04$vRTPKnZuvr5Jc3SO1TjmqOX2L7cqh2ij/tu8sTSR3Dy6ccxz1xRwK"], ["created_at", "2017-08-07 20:34:58.214309"], ["updated_at", "2017-08-07 20:34:58.214309"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2017-08-07 23:34:58 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"user"=>{"email"=>"davids@mail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.1ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/registrations/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 39ms (Views: 3.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:35:25.096125', '2017-08-07 20:35:25.096125', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:35:25.096125', '2017-08-07 20:35:25.096125', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:35:25.099976', '2017-08-07 20:35:25.099976', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:35:25.099976', '2017-08-07 20:35:25.099976', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:35:25.102167', '2017-08-07 20:35:25.102167', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:35:25.102167', '2017-08-07 20:35:25.102167', 298486374)[0m
  [1m[35m (932.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:35:26 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.8ms)
Completed 200 OK in 403ms (Views: 396.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/users/sign_up" for 127.0.0.1 at 2017-08-07 23:35:26 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.9ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/registrations/new.html.erb within layouts/application (29.1ms)
Completed 200 OK in 78ms (Views: 36.9ms | ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "davids@mail.com"], ["encrypted_password", "$2a$04$pG9xD7WO0P47r2wsi6jqwex/Zq56PWKv1Gj/NTxvoiq4FvUxReas."], ["created_at", "2017-08-07 20:35:26.672887"], ["updated_at", "2017-08-07 20:35:26.672887"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2017-08-07 23:35:26 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"user"=>{"email"=>"davids@mail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.1ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/registrations/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 13ms (Views: 3.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:36:10.327540', '2017-08-07 20:36:10.327540', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:36:10.327540', '2017-08-07 20:36:10.327540', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:36:10.330481', '2017-08-07 20:36:10.330481', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:36:10.330481', '2017-08-07 20:36:10.330481', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:36:10.332544', '2017-08-07 20:36:10.332544', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:36:10.332544', '2017-08-07 20:36:10.332544', 298486374)[0m
  [1m[35m (257.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:36:10 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (4.3ms)
Completed 200 OK in 444ms (Views: 437.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/users/sign_up" for 127.0.0.1 at 2017-08-07 23:36:11 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (1.0ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/registrations/new.html.erb within layouts/application (12.5ms)
Completed 200 OK in 28ms (Views: 17.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "davids@mail.com"], ["encrypted_password", "$2a$04$0ePXcydJGX/tE9Tw2nZg6u1H5sm6xLLBwnREyfwqrRu2F7du.SDmu"], ["created_at", "2017-08-07 20:36:11.203281"], ["updated_at", "2017-08-07 20:36:11.203281"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2017-08-07 23:36:11 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"user"=>{"email"=>"davids@mail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.2ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/registrations/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 14ms (Views: 3.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:39:01.465427', '2017-08-07 20:39:01.465427', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:39:01.465427', '2017-08-07 20:39:01.465427', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:39:01.469343', '2017-08-07 20:39:01.469343', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:39:01.469343', '2017-08-07 20:39:01.469343', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:39:01.471397', '2017-08-07 20:39:01.471397', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:39:01.471397', '2017-08-07 20:39:01.471397', 298486374)[0m
  [1m[35m (108.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:39:01 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.8ms)
Completed 200 OK in 421ms (Views: 414.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/users/sign_up" for 127.0.0.1 at 2017-08-07 23:39:02 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.9ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/registrations/new.html.erb within layouts/application (15.4ms)
Completed 200 OK in 31ms (Views: 20.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "davids@mail.com"], ["encrypted_password", "$2a$04$gpRY5D/P5L9F8NWLnyEsX.9mFsyRP2gT5QhhN/ztc9uJH0NEav2yy"], ["created_at", "2017-08-07 20:39:02.184485"], ["updated_at", "2017-08-07 20:39:02.184485"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=davids%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-07 23:39:02 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"davids@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 20:39:02.216905"], ["last_sign_in_at", "2017-08-07 20:39:02.216905"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 20:39:02.217418"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 14ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2017-08-07 23:39:02 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 302 Found in 3ms (Views: 2.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:39:17.975765', '2017-08-07 20:39:17.975765', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:39:17.975765', '2017-08-07 20:39:17.975765', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:39:17.978597', '2017-08-07 20:39:17.978597', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:39:17.978597', '2017-08-07 20:39:17.978597', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:39:17.980452', '2017-08-07 20:39:17.980452', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:39:17.980452', '2017-08-07 20:39:17.980452', 298486374)[0m
  [1m[35m (100.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:39:18 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.9ms)
Completed 200 OK in 432ms (Views: 425.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/users/sign_up" for 127.0.0.1 at 2017-08-07 23:39:18 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.9ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/registrations/new.html.erb within layouts/application (13.3ms)
Completed 200 OK in 50ms (Views: 18.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "davids@mail.com"], ["encrypted_password", "$2a$04$vh.MtBfujy7Nl8kLqwz2XeqBXFVG1hpzXQPw2LDj6byW/NkHK/d5C"], ["created_at", "2017-08-07 20:39:18.709537"], ["updated_at", "2017-08-07 20:39:18.709537"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=davids%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-07 23:39:18 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"davids@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 20:39:18.723200"], ["last_sign_in_at", "2017-08-07 20:39:18.723200"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 20:39:18.723718"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 13ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-07 23:39:18 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 302 Found in 3ms (Views: 2.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:40:17.147951', '2017-08-07 20:40:17.147951', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:40:17.147951', '2017-08-07 20:40:17.147951', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:40:17.151167', '2017-08-07 20:40:17.151167', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:40:17.151167', '2017-08-07 20:40:17.151167', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:40:17.152888', '2017-08-07 20:40:17.152888', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:40:17.152888', '2017-08-07 20:40:17.152888', 298486374)[0m
  [1m[35m (153.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:40:17 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (4.5ms)
Completed 200 OK in 424ms (Views: 417.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:40:17 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.6ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "davids@mail.com"], ["encrypted_password", "$2a$04$krcXK2.txeY3HXB0S3zaCOejG00WOHcZOPddPTF7AqFLlII02vKRu"], ["created_at", "2017-08-07 20:40:17.902680"], ["updated_at", "2017-08-07 20:40:17.902680"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=davids%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-07 23:40:17 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"davids@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 20:40:17.919811"], ["last_sign_in_at", "2017-08-07 20:40:17.919811"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 20:40:17.920414"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 19ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2017-08-07 23:40:17 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.2ms)
Completed 302 Found in 4ms (Views: 3.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:41:18.327177', '2017-08-07 20:41:18.327177', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:41:18.327177', '2017-08-07 20:41:18.327177', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:41:18.330014', '2017-08-07 20:41:18.330014', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:41:18.330014', '2017-08-07 20:41:18.330014', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:41:18.332012', '2017-08-07 20:41:18.332012', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:41:18.332012', '2017-08-07 20:41:18.332012', 298486374)[0m
  [1m[35m (110.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:41:18 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.7ms)
Completed 200 OK in 408ms (Views: 401.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:41:18 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "davids@mail.com"], ["encrypted_password", "$2a$04$lIGbnZwr60vWlHCIKhi1KOSepx7UmHrLWzOtUnv7jyl1d9DGuiq0W"], ["created_at", "2017-08-07 20:41:19.001994"], ["updated_at", "2017-08-07 20:41:19.001994"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2017-08-07 23:41:19 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"user"=>{"email"=>"davids@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.8ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/registrations/new.html.erb within layouts/application (8.6ms)
Completed 200 OK in 49ms (Views: 13.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:45:22.951285', '2017-08-07 20:45:22.951285', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:45:22.951285', '2017-08-07 20:45:22.951285', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:45:22.954436', '2017-08-07 20:45:22.954436', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:45:22.954436', '2017-08-07 20:45:22.954436', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:45:22.956032', '2017-08-07 20:45:22.956032', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:45:22.956032', '2017-08-07 20:45:22.956032', 298486374)[0m
  [1m[35m (364.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:45:23 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.8ms)
Completed 200 OK in 437ms (Views: 430.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:45:23 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "davids@mail.com"], ["encrypted_password", "$2a$04$e5BHQZGGh3ZpoUXBc/PPjOHZlQBV1qUfmbYZ9VxdlSDeCQcAm/YQ2"], ["created_at", "2017-08-07 20:45:23.890967"], ["updated_at", "2017-08-07 20:45:23.890967"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2017-08-07 23:45:23 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"user"=>{"email"=>"davids@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.7ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/registrations/new.html.erb within layouts/application (8.3ms)
Completed 200 OK in 28ms (Views: 13.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:48:07.145509', '2017-08-07 20:48:07.145509', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:48:07.145509', '2017-08-07 20:48:07.145509', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:48:07.148139', '2017-08-07 20:48:07.148139', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:48:07.148139', '2017-08-07 20:48:07.148139', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:48:07.149713', '2017-08-07 20:48:07.149713', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:48:07.149713', '2017-08-07 20:48:07.149713', 298486374)[0m
  [1m[35m (68.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:48:07 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.8ms)
Completed 200 OK in 397ms (Views: 391.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:48:07 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "davids@mail.com"], ["encrypted_password", "$2a$04$gA2Ryirxt3GmdUiIUOD12.yOVTgJh9o2X5gDcv4r.wgA91XonI08q"], ["created_at", "2017-08-07 20:48:07.750313"], ["updated_at", "2017-08-07 20:48:07.750313"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in" for 127.0.0.1 at 2017-08-07 23:48:07 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"davids@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 20:48:07.764327"], ["last_sign_in_at", "2017-08-07 20:48:07.764327"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 20:48:07.764847"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 18ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-07 23:48:07 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:48:46.565105', '2017-08-07 20:48:46.565105', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:48:46.565105', '2017-08-07 20:48:46.565105', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:48:46.567624', '2017-08-07 20:48:46.567624', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:48:46.567624', '2017-08-07 20:48:46.567624', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:48:46.569227', '2017-08-07 20:48:46.569227', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:48:46.569227', '2017-08-07 20:48:46.569227', 298486374)[0m
  [1m[35m (51.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:48:46 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.8ms)
Completed 200 OK in 347ms (Views: 341.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:48:47 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.2ms)
Completed 200 OK in 5ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "davids@mail.com"], ["encrypted_password", "$2a$04$QP4GD8NbkVw.FN65lKM6/.z.F.s9W3UBz7imaV6g7NgiosKRSM26q"], ["created_at", "2017-08-07 20:48:47.153341"], ["updated_at", "2017-08-07 20:48:47.153341"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in" for 127.0.0.1 at 2017-08-07 23:48:47 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"davids@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 20:48:47.180113"], ["last_sign_in_at", "2017-08-07 20:48:47.180113"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 20:48:47.180640"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 24ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-07 23:48:47 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 302 Found in 3ms (Views: 2.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.0ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:49:28.763505', '2017-08-07 20:49:28.763505', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:49:28.763505', '2017-08-07 20:49:28.763505', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:49:28.765869', '2017-08-07 20:49:28.765869', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:49:28.765869', '2017-08-07 20:49:28.765869', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:49:28.767734', '2017-08-07 20:49:28.767734', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:49:28.767734', '2017-08-07 20:49:28.767734', 298486374)[0m
  [1m[35m (67.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:49:28 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.6ms)
Completed 200 OK in 394ms (Views: 387.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "davids@mail.com"], ["encrypted_password", "$2a$04$NwPEcworXzwTb/QrmOvFVOz7eZMtPD9HZdHf4PsfvmOxbgSIcZj56"], ["created_at", "2017-08-07 20:49:29.355396"], ["updated_at", "2017-08-07 20:49:29.355396"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in" for 127.0.0.1 at 2017-08-07 23:49:29 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"davids@mail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 20:49:29.369319"], ["last_sign_in_at", "2017-08-07 20:49:29.369319"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 20:49:29.369770"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 0.4ms)
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:49:29 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.0ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:50:28.005123', '2017-08-07 20:50:28.005123', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:50:28.005123', '2017-08-07 20:50:28.005123', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:50:28.007805', '2017-08-07 20:50:28.007805', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:50:28.007805', '2017-08-07 20:50:28.007805', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:50:28.009466', '2017-08-07 20:50:28.009466', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:50:28.009466', '2017-08-07 20:50:28.009466', 298486374)[0m
  [1m[35m (61.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:50:28 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.6ms)
Completed 200 OK in 403ms (Views: 396.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:50:28 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "davids@mail.com"], ["encrypted_password", "$2a$04$jMtmC8US8.gBHU.AopJc9umOiUpbwfNmAur.A35FtkiTcpNOSx2Da"], ["created_at", "2017-08-07 20:50:28.608461"], ["updated_at", "2017-08-07 20:50:28.608461"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in" for 127.0.0.1 at 2017-08-07 23:50:28 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"davids@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 20:50:28.622808"], ["last_sign_in_at", "2017-08-07 20:50:28.622808"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 20:50:28.623529"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 19ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:50:57.140481', '2017-08-07 20:50:57.140481', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:50:57.140481', '2017-08-07 20:50:57.140481', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:50:57.143193', '2017-08-07 20:50:57.143193', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:50:57.143193', '2017-08-07 20:50:57.143193', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:50:57.145522', '2017-08-07 20:50:57.145522', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:50:57.145522', '2017-08-07 20:50:57.145522', 298486374)[0m
  [1m[35m (60.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:50:57 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.7ms)
Completed 200 OK in 356ms (Views: 350.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:50:57 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.7ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "davids@mail.com"], ["encrypted_password", "$2a$04$0J8xXWuLaH2zp5O.lrFDduPG1uYOsAvbbmZFMdtUJOqAFmF76arIi"], ["created_at", "2017-08-07 20:50:57.736422"], ["updated_at", "2017-08-07 20:50:57.736422"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=davids%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-07 23:50:57 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"davids@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 20:50:57.765384"], ["last_sign_in_at", "2017-08-07 20:50:57.765384"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 20:50:57.766065"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 19ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:51:40.551131', '2017-08-07 20:51:40.551131', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 20:51:40.551131', '2017-08-07 20:51:40.551131', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:51:40.553838', '2017-08-07 20:51:40.553838', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 20:51:40.553838', '2017-08-07 20:51:40.553838', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:51:40.555458', '2017-08-07 20:51:40.555458', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 20:51:40.555458', '2017-08-07 20:51:40.555458', 298486374)[0m
  [1m[35m (64.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:51:40 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.6ms)
Completed 200 OK in 393ms (Views: 387.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-07 23:51:41 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "davids@mail.com"], ["encrypted_password", "$2a$04$n1QaL0M/xHytugiTVeqnuO4h8vVy3P5RoipX1dPJug2CaLLTW9qh."], ["created_at", "2017-08-07 20:51:41.148148"], ["updated_at", "2017-08-07 20:51:41.148148"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=davids%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-07 23:51:41 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"davids@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 20:51:41.163047"], ["last_sign_in_at", "2017-08-07 20:51:41.163047"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 20:51:41.163500"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 0.5ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-07 23:51:41 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:03:56.484064', '2017-08-07 21:03:56.484064', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:03:56.484064', '2017-08-07 21:03:56.484064', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:03:56.487600', '2017-08-07 21:03:56.487600', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:03:56.487600', '2017-08-07 21:03:56.487600', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:03:56.489243', '2017-08-07 21:03:56.489243', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:03:56.489243', '2017-08-07 21:03:56.489243', 298486374)[0m
  [1m[35m (71.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:03:56 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.7ms)
Completed 200 OK in 380ms (Views: 374.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:03:57 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "davids@mail.com"], ["encrypted_password", "$2a$04$MP72YwrT2Ashkl7qu/4exuMeCU38j3NIwARQYSIkrvMs9dy.Glf4S"], ["created_at", "2017-08-07 21:03:57.077390"], ["updated_at", "2017-08-07 21:03:57.077390"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=davids%40mail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:03:57 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"davids@mail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "davids@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:03:57.092841"], ["last_sign_in_at", "2017-08-07 21:03:57.092841"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:03:57.093285"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 18ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:06:08.326442', '2017-08-07 21:06:08.326442', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:06:08.326442', '2017-08-07 21:06:08.326442', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:06:08.330131', '2017-08-07 21:06:08.330131', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:06:08.330131', '2017-08-07 21:06:08.330131', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:06:08.331951', '2017-08-07 21:06:08.331951', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:06:08.331951', '2017-08-07 21:06:08.331951', 298486374)[0m
  [1m[35m (63.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:06:08 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.9ms)
Completed 200 OK in 372ms (Views: 365.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 00:06:08 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 7ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-08 00:06:08 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.9ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (15.5ms)
Completed 200 OK in 49ms (Views: 20.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:07:08.426303', '2017-08-07 21:07:08.426303', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:07:08.426303', '2017-08-07 21:07:08.426303', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:07:08.429240', '2017-08-07 21:07:08.429240', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:07:08.429240', '2017-08-07 21:07:08.429240', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:07:08.430907', '2017-08-07 21:07:08.430907', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:07:08.430907', '2017-08-07 21:07:08.430907', 298486374)[0m
  [1m[35m (56.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:07:08 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.7ms)
Completed 200 OK in 391ms (Views: 385.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 00:07:08 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-08 00:07:08 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.7ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (7.7ms)
Completed 200 OK in 24ms (Views: 13.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 00:07:09 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-08 00:07:09 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.1ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:09:00.566578', '2017-08-07 21:09:00.566578', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:09:00.566578', '2017-08-07 21:09:00.566578', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:09:00.569305', '2017-08-07 21:09:00.569305', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:09:00.569305', '2017-08-07 21:09:00.569305', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:09:00.570951', '2017-08-07 21:09:00.570951', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:09:00.570951', '2017-08-07 21:09:00.570951', 298486374)[0m
  [1m[35m (67.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 00:09:00 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 10ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-08 00:09:00 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.8ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (7.9ms)
Completed 200 OK in 347ms (Views: 336.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 00:09:01 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-08 00:09:01 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.1ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (3.8ms)
Completed 200 OK in 9ms (Views: 7.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.9ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:09:01 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.8ms)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:09:01 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.2ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "davids@gmail.com"], ["encrypted_password", "$2a$04$LDbnkPGuVz5u.bkWHCsY6uKhd8mUGG4TDPeX0JuRP7BzvkkaXtHXO"], ["created_at", "2017-08-07 21:09:01.187735"], ["updated_at", "2017-08-07 21:09:01.187735"]]
  [1m[35m (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=davids%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:09:01 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"davids@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "davids@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:09:01.214278"], ["last_sign_in_at", "2017-08-07 21:09:01.214278"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:09:01.215334"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 18ms (ActiveRecord: 0.5ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:10:04.676106', '2017-08-07 21:10:04.676106', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:10:04.676106', '2017-08-07 21:10:04.676106', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:10:04.678721', '2017-08-07 21:10:04.678721', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:10:04.678721', '2017-08-07 21:10:04.678721', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:10:04.680331', '2017-08-07 21:10:04.680331', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:10:04.680331', '2017-08-07 21:10:04.680331', 298486374)[0m
  [1m[35m (62.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:10:04 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.7ms)
Completed 200 OK in 373ms (Views: 367.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 00:10:05 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-08 00:10:05 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.9ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (10.4ms)
Completed 200 OK in 41ms (Views: 16.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:10:05 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "davids@gmail.com"], ["encrypted_password", "$2a$04$SmTdbiKLHadXv00Xc7vH4uyLH/EavceZdvnhSXvpiduD.OoPaKDuq"], ["created_at", "2017-08-07 21:10:05.333508"], ["updated_at", "2017-08-07 21:10:05.333508"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=davids%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:10:05 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"davids@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "davids@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:10:05.345245"], ["last_sign_in_at", "2017-08-07 21:10:05.345245"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:10:05.345936"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 15ms (ActiveRecord: 0.8ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 00:10:05 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.2ms)
Completed 302 Found in 3ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 00:10:05 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-08 00:10:05 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.1ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:22:17.516887', '2017-08-07 21:22:17.516887', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:22:17.516887', '2017-08-07 21:22:17.516887', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:22:17.519362', '2017-08-07 21:22:17.519362', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:22:17.519362', '2017-08-07 21:22:17.519362', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:22:17.521013', '2017-08-07 21:22:17.521013', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:22:17.521013', '2017-08-07 21:22:17.521013', 298486374)[0m
  [1m[35m (63.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 00:22:17 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 10ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-08 00:22:17 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.9ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (8.1ms)
Completed 200 OK in 422ms (Views: 411.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:22:18 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.7ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 00:22:18 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-08 00:22:18 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.1ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:22:18 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "davids@gmail.com"], ["encrypted_password", "$2a$04$0QBsDO1lsIZ0MvlNHG8JQuoF/3zaBpxEippHhHO7QcGUhz0xXwqN6"], ["created_at", "2017-08-07 21:22:18.169247"], ["updated_at", "2017-08-07 21:22:18.169247"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=davids%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:22:18 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"davids@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "davids@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:22:18.180168"], ["last_sign_in_at", "2017-08-07 21:22:18.180168"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:22:18.180819"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 14ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 00:22:18 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:22:55.753176', '2017-08-07 21:22:55.753176', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:22:55.753176', '2017-08-07 21:22:55.753176', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:22:55.755951', '2017-08-07 21:22:55.755951', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:22:55.755951', '2017-08-07 21:22:55.755951', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:22:55.758399', '2017-08-07 21:22:55.758399', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:22:55.758399', '2017-08-07 21:22:55.758399', 298486374)[0m
  [1m[35m (60.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 00:22:55 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 10ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-08 00:22:55 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.9ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (9.0ms)
Completed 200 OK in 361ms (Views: 350.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:22:56 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (2.2ms)
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 00:22:56 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-08 00:22:56 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.2ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (4.0ms)
Completed 200 OK in 10ms (Views: 9.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:22:56 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "davids@gmail.com"], ["encrypted_password", "$2a$04$N4ny1biHlVTynsr15pY64OTtBf1TgkTVWWr93t6lERF6uOGmeMeuK"], ["created_at", "2017-08-07 21:22:56.375147"], ["updated_at", "2017-08-07 21:22:56.375147"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=davids%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:22:56 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"davids@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "davids@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:22:56.402438"], ["last_sign_in_at", "2017-08-07 21:22:56.402438"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:22:56.403556"], ["id", 2]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 20ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:23:31.455844', '2017-08-07 21:23:31.455844', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:23:31.455844', '2017-08-07 21:23:31.455844', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:23:31.458749', '2017-08-07 21:23:31.458749', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:23:31.458749', '2017-08-07 21:23:31.458749', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:23:31.460438', '2017-08-07 21:23:31.460438', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:23:31.460438', '2017-08-07 21:23:31.460438', 298486374)[0m
  [1m[35m (60.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:23:31 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (4.5ms)
Completed 200 OK in 372ms (Views: 366.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 00:23:32 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 5ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-08 00:23:32 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.8ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (8.9ms)
Completed 200 OK in 25ms (Views: 13.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 00:23:32 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-08 00:23:32 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.1ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:23:32 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "davids@gmail.com"], ["encrypted_password", "$2a$04$6/CZlnxxZAwXoe48T5LKDOLAZf6VKs3lsBU0HxsbYD09vPs0uL5qC"], ["created_at", "2017-08-07 21:23:32.096218"], ["updated_at", "2017-08-07 21:23:32.096218"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=davids%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:23:32 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"davids@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "davids@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:23:32.106725"], ["last_sign_in_at", "2017-08-07 21:23:32.106725"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:23:32.107199"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 0.5ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:24:25.185426', '2017-08-07 21:24:25.185426', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:24:25.185426', '2017-08-07 21:24:25.185426', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:24:25.188077', '2017-08-07 21:24:25.188077', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:24:25.188077', '2017-08-07 21:24:25.188077', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:24:25.189647', '2017-08-07 21:24:25.189647', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:24:25.189647', '2017-08-07 21:24:25.189647', 298486374)[0m
  [1m[35m (68.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:24:25 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.7ms)
Completed 200 OK in 412ms (Views: 405.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:24:25 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "davids@gmail.com"], ["encrypted_password", "$2a$04$gPpIIYLuIiLFVRBmu/qwhu4yKxI16tJllz1ihYf1oKT/yyDnW8dhe"], ["created_at", "2017-08-07 21:24:25.807404"], ["updated_at", "2017-08-07 21:24:25.807404"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=davids%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:24:25 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"davids@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "davids@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:24:25.821495"], ["last_sign_in_at", "2017-08-07 21:24:25.821495"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:24:25.822007"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 17ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 00:24:25 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-08 00:24:25 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.8ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (26.7ms)
Completed 200 OK in 34ms (Views: 31.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 00:24:25 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-08 00:24:25 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.1ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:27:10.107205', '2017-08-07 21:27:10.107205', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:27:10.107205', '2017-08-07 21:27:10.107205', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:27:10.109871', '2017-08-07 21:27:10.109871', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:27:10.109871', '2017-08-07 21:27:10.109871', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:27:10.111595', '2017-08-07 21:27:10.111595', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:27:10.111595', '2017-08-07 21:27:10.111595', 298486374)[0m
  [1m[35m (182.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:27:10 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.8ms)
Completed 200 OK in 456ms (Views: 450.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "davids@gmail.com"], ["encrypted_password", "$2a$04$.8wPF8zzYky2rxAjxMJJQulByxAfqoce.OyN6ByHu78EAiDC0EEVO"], ["created_at", "2017-08-07 21:27:10.887285"], ["updated_at", "2017-08-07 21:27:10.887285"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=davids%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:27:10 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"davids@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "davids@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:27:10.901469"], ["last_sign_in_at", "2017-08-07 21:27:10.901469"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:27:10.902005"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 00:27:10 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.3ms | ActiveRecord: 0.1ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 00:27:10 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 00:27:10 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-08 00:27:10 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.8ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (9.9ms)
Completed 200 OK in 16ms (Views: 14.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 00:27:10 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-08 00:27:10 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.1ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:27:10 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:27:42.441058', '2017-08-07 21:27:42.441058', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:27:42.441058', '2017-08-07 21:27:42.441058', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:27:42.443803', '2017-08-07 21:27:42.443803', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:27:42.443803', '2017-08-07 21:27:42.443803', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:27:42.445366', '2017-08-07 21:27:42.445366', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:27:42.445366', '2017-08-07 21:27:42.445366', 298486374)[0m
  [1m[35m (66.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:27:42 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.9ms)
Completed 200 OK in 426ms (Views: 419.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 00:27:43 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-08 00:27:43 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.8ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (10.9ms)
Completed 200 OK in 35ms (Views: 16.8ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:27:43 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "davids@gmail.com"], ["encrypted_password", "$2a$04$vfxcLjJa/qEhiPuPFc0oyueibZNWmCTdHh1NcsDhweLosCrbwTAeW"], ["created_at", "2017-08-07 21:27:43.166777"], ["updated_at", "2017-08-07 21:27:43.166777"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=davids%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:27:43 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"davids@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "davids@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:27:43.177315"], ["last_sign_in_at", "2017-08-07 21:27:43.177315"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:27:43.177824"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 13ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 00:27:43 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 00:27:43 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-08 00:27:43 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.1ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:28:00.013003', '2017-08-07 21:28:00.013003', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:28:00.013003', '2017-08-07 21:28:00.013003', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:28:00.015579', '2017-08-07 21:28:00.015579', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:28:00.015579', '2017-08-07 21:28:00.015579', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:28:00.017446', '2017-08-07 21:28:00.017446', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:28:00.017446', '2017-08-07 21:28:00.017446', 298486374)[0m
  [1m[35m (243.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:28:00 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (4.0ms)
Completed 200 OK in 399ms (Views: 393.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "davids@gmail.com"], ["encrypted_password", "$2a$04$l6Ay4uWWgkQmU7Uvi.KNMOXbkVe.YxgIIgsVgMD.NOc1KZ08SVYnW"], ["created_at", "2017-08-07 21:28:00.850660"], ["updated_at", "2017-08-07 21:28:00.850660"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=davids%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:28:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"davids@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "davids@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:28:00.880454"], ["last_sign_in_at", "2017-08-07 21:28:00.880454"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:28:00.881171"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 25ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:28:00 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 00:28:00 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-08 00:28:00 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.8ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (8.4ms)
Completed 200 OK in 15ms (Views: 13.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 00:28:00 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-08 00:28:00 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.1ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:28:12.037967', '2017-08-07 21:28:12.037967', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:28:12.037967', '2017-08-07 21:28:12.037967', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:28:12.040907', '2017-08-07 21:28:12.040907', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:28:12.040907', '2017-08-07 21:28:12.040907', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:28:12.043366', '2017-08-07 21:28:12.043366', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:28:12.043366', '2017-08-07 21:28:12.043366', 298486374)[0m
  [1m[35m (337.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:28:12 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.8ms)
Completed 200 OK in 424ms (Views: 417.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "davids@gmail.com"], ["encrypted_password", "$2a$04$96bVSSr1CgJvSt6gEwAUJuKqO2OAPl3G7hE0t3HfnFpuV1DDhwmMe"], ["created_at", "2017-08-07 21:28:12.938991"], ["updated_at", "2017-08-07 21:28:12.938991"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=davids%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:28:12 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"davids@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "davids@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:28:12.954288"], ["last_sign_in_at", "2017-08-07 21:28:12.954288"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:28:12.954850"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 18ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 00:28:12 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 00:28:12 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-08 00:28:12 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.9ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (9.0ms)
Completed 200 OK in 15ms (Views: 13.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:28:12 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 00:28:13 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-08 00:28:13 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (0.1ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:29:20.843488', '2017-08-07 21:29:20.843488', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:29:20.843488', '2017-08-07 21:29:20.843488', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:29:20.846487', '2017-08-07 21:29:20.846487', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:29:20.846487', '2017-08-07 21:29:20.846487', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:29:20.848097', '2017-08-07 21:29:20.848097', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:29:20.848097', '2017-08-07 21:29:20.848097', 298486374)[0m
  [1m[35m (4704.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 00:29:25 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 11ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:29:25 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 200 OK in 412ms (Views: 411.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 00:29:26 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2017-08-08 00:29:26 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (3.3ms)
  Rendered /home/ira/.rvm/gems/ruby-2.3.3/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (10.9ms)
Completed 200 OK in 27ms (Views: 16.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:29:26 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "davids@gmail.com"], ["encrypted_password", "$2a$04$trgaZ6HWnYNzP8NlMB/aP.0r.TmO8MzfTYMbbuyeNW9JEBKhR7C7u"], ["created_at", "2017-08-07 21:29:26.177625"], ["updated_at", "2017-08-07 21:29:26.177625"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=davids%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:29:26 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"davids@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "davids@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:29:26.206549"], ["last_sign_in_at", "2017-08-07 21:29:26.206549"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:29:26.207025"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 00:29:26 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 302 Found in 3ms (Views: 2.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:29:46.177674', '2017-08-07 21:29:46.177674', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:29:46.177674', '2017-08-07 21:29:46.177674', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:29:46.183029', '2017-08-07 21:29:46.183029', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:29:46.183029', '2017-08-07 21:29:46.183029', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:29:46.185286', '2017-08-07 21:29:46.185286', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:29:46.185286', '2017-08-07 21:29:46.185286', 298486374)[0m
  [1m[35m (92.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 00:29:46 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 10ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 00:29:46 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:29:46 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.3ms)
Completed 200 OK in 404ms (Views: 402.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:29:46 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "davids@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "davids@gmail.com"], ["encrypted_password", "$2a$04$afFJRaYqkxxl9rb/aUc0Ku67g.n1EC5w0rR9Pim533QEQwbWXzGdC"], ["created_at", "2017-08-07 21:29:46.879079"], ["updated_at", "2017-08-07 21:29:46.879079"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=davids%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:29:46 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"davids@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "davids@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:29:46.892331"], ["last_sign_in_at", "2017-08-07 21:29:46.892331"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:29:46.892811"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 00:29:46 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 302 Found in 3ms (Views: 2.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:30:10.937811', '2017-08-07 21:30:10.937811', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:30:10.937811', '2017-08-07 21:30:10.937811', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:30:10.941660', '2017-08-07 21:30:10.941660', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:30:10.941660', '2017-08-07 21:30:10.941660', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:30:10.944404', '2017-08-07 21:30:10.944404', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:30:10.944404', '2017-08-07 21:30:10.944404', 298486374)[0m
  [1m[35m (566.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 00:30:11 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 10ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 00:30:11 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:30:11 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.3ms)
Completed 200 OK in 426ms (Views: 425.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:30:12 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$dng0yeCLLcl9743t11tTb.SnQXfL1LpCmOan9F12O61O4aWnmXPlW"], ["created_at", "2017-08-07 21:30:12.105597"], ["updated_at", "2017-08-07 21:30:12.105597"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:30:12 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:30:12.118417"], ["last_sign_in_at", "2017-08-07 21:30:12.118417"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:30:12.119088"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 13ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 00:30:12 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:31:40.120128', '2017-08-07 21:31:40.120128', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:31:40.120128', '2017-08-07 21:31:40.120128', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:31:40.122857', '2017-08-07 21:31:40.122857', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:31:40.122857', '2017-08-07 21:31:40.122857', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:31:40.124597', '2017-08-07 21:31:40.124597', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:31:40.124597', '2017-08-07 21:31:40.124597', 298486374)[0m
  [1m[35m (206.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:31:40 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.8ms)
Completed 200 OK in 395ms (Views: 388.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 00:31:40 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:31:40 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$/T2MWaN9R8SD6P2mDZ0tCOTXybNPx1V9CabMlZt9R6bHAZeOKW9N6"], ["created_at", "2017-08-07 21:31:40.912708"], ["updated_at", "2017-08-07 21:31:40.912708"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:31:40 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:31:40.930890"], ["last_sign_in_at", "2017-08-07 21:31:40.930890"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:31:40.931599"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 38ms (ActiveRecord: 0.8ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 00:31:40 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 00:31:40 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:32:29.549741', '2017-08-07 21:32:29.549741', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:32:29.549741', '2017-08-07 21:32:29.549741', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:32:29.552316', '2017-08-07 21:32:29.552316', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:32:29.552316', '2017-08-07 21:32:29.552316', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:32:29.554007', '2017-08-07 21:32:29.554007', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:32:29.554007', '2017-08-07 21:32:29.554007', 298486374)[0m
  [1m[35m (256.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:32:29 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.8ms)
Completed 200 OK in 413ms (Views: 407.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 00:32:30 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:32:30 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$AiRirJseTvMry6mndiX6eeJtpw9hPGNxEd109roAL33MRdnVtdZom"], ["created_at", "2017-08-07 21:32:30.404002"], ["updated_at", "2017-08-07 21:32:30.404002"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:32:30 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:32:30.416407"], ["last_sign_in_at", "2017-08-07 21:32:30.416407"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:32:30.416978"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 13ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 00:32:30 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$wquCA0o5f1LZJfxIs/lXhOgdQl3m5B5mHPSUAvChHPgk3p2q3gqNa"], ["created_at", "2017-08-07 21:32:30.437246"], ["updated_at", "2017-08-07 21:32:30.437246"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:32:30 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:32:30.443395"], ["last_sign_in_at", "2017-08-07 21:32:30.443395"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:32:30.444065"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 00:32:30 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 00:32:30 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:33:01.652502', '2017-08-07 21:33:01.652502', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:33:01.652502', '2017-08-07 21:33:01.652502', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:33:01.655752', '2017-08-07 21:33:01.655752', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:33:01.655752', '2017-08-07 21:33:01.655752', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:33:01.657823', '2017-08-07 21:33:01.657823', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:33:01.657823', '2017-08-07 21:33:01.657823', 298486374)[0m
  [1m[35m (266.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:33:02 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.8ms)
Completed 200 OK in 415ms (Views: 409.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in
----------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:33:02 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$/5eg1zqlc0arosERq9XK.OVJs9ZUgmRLzSf.IR23bXAyAGWeJaNVm"], ["created_at", "2017-08-07 21:33:02.500612"], ["updated_at", "2017-08-07 21:33:02.500612"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:33:02 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:33:02.516000"], ["last_sign_in_at", "2017-08-07 21:33:02.516000"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:33:02.516624"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 00:33:02 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$ka4fm9nFbEHBx477cPlzCO3ZMwXEieGeMNXbJ3gXoonRMkTwL/xyi"], ["created_at", "2017-08-07 21:33:02.539281"], ["updated_at", "2017-08-07 21:33:02.539281"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:33:02 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:33:02.544643"], ["last_sign_in_at", "2017-08-07 21:33:02.544643"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:33:02.545051"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 00:33:02 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$Ika/HylzljijcrTRyc1AgObKc0wKaZ4ytCacnV0AfS0g2EU/upsiO"], ["created_at", "2017-08-07 21:33:02.559745"], ["updated_at", "2017-08-07 21:33:02.559745"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:33:02 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:33:02.566382"], ["last_sign_in_at", "2017-08-07 21:33:02.566382"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:33:02.566790"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 00:33:02 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 00:33:02 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 00:33:02 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:35:40.899893', '2017-08-07 21:35:40.899893', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:35:40.899893', '2017-08-07 21:35:40.899893', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:35:40.902661', '2017-08-07 21:35:40.902661', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:35:40.902661', '2017-08-07 21:35:40.902661', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:35:40.904444', '2017-08-07 21:35:40.904444', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:35:40.904444', '2017-08-07 21:35:40.904444', 298486374)[0m
  [1m[35m (82.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$pM4w0KIrjFA3yUuTggTMaOznKfbTqdBvDGJrz8h7p9nzxPlk4qOkq"], ["created_at", "2017-08-07 21:35:41.092866"], ["updated_at", "2017-08-07 21:35:41.092866"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:35:41 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:35:41.148345"], ["last_sign_in_at", "2017-08-07 21:35:41.148345"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:35:41.148878"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 00:35:41 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (1.3ms)
Completed 200 OK in 407ms (Views: 405.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 00:35:41 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:35:41 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.6ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$HSWFPntlufBn6lkooGIa.uIUKdte34FLSx9ArHxa1CPjFBKOgLfZG"], ["created_at", "2017-08-07 21:35:41.608770"], ["updated_at", "2017-08-07 21:35:41.608770"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:35:41 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:35:41.615972"], ["last_sign_in_at", "2017-08-07 21:35:41.615972"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:35:41.617061"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 00:35:41 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.2ms)
Completed 200 OK in 6ms (Views: 3.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:35:41 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$7GK/YUYR.2/bXHryeiP7/uf7Ztz0755WZ9/AOt3jRPjkCLorAwali"], ["created_at", "2017-08-07 21:35:41.654156"], ["updated_at", "2017-08-07 21:35:41.654156"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:35:41 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:35:41.662797"], ["last_sign_in_at", "2017-08-07 21:35:41.662797"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:35:41.663236"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 00:35:41 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (2.2ms)
Completed 302 Found in 10ms (Views: 8.7ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 00:35:41 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 00:35:41 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:44:35.585805', '2017-08-07 21:44:35.585805', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:44:35.585805', '2017-08-07 21:44:35.585805', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:44:35.588765', '2017-08-07 21:44:35.588765', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:44:35.588765', '2017-08-07 21:44:35.588765', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:44:35.590553', '2017-08-07 21:44:35.590553', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:44:35.590553', '2017-08-07 21:44:35.590553', 298486374)[0m
  [1m[35m (92.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
AccountsControllerTest: test_should_be_valid
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "m@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
AccountsControllerTest: test_user_id_should_be_present
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "m@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 00:44:35 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 11ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$7R.gykfye5QSIu2PSW4g.OZ3cuq1W041hABX9X4ccDiZ41Y5rcg1u"], ["created_at", "2017-08-07 21:44:35.870640"], ["updated_at", "2017-08-07 21:44:35.870640"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:44:35 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:44:35.884905"], ["last_sign_in_at", "2017-08-07 21:44:35.884905"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:44:35.885729"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 0.6ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 00:44:35 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.7ms)
Completed 200 OK in 451ms (Views: 449.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 00:44:36 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$tyqTDDlOqj0Au5oHKwQ5cu4NLjPx9G17qL5kn1EOb5Ao5Beo5jx.S"], ["created_at", "2017-08-07 21:44:36.360455"], ["updated_at", "2017-08-07 21:44:36.360455"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:44:36 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:44:36.365423"], ["last_sign_in_at", "2017-08-07 21:44:36.365423"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:44:36.365858"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 00:44:36 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:44:36 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:44:36 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$EGlkMcT2uVfhnIO44l1LMuZtjfx4kR2HY6wi9qTbo5QLG/ugl6ytW"], ["created_at", "2017-08-07 21:44:36.387569"], ["updated_at", "2017-08-07 21:44:36.387569"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:44:36 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:44:36.392823"], ["last_sign_in_at", "2017-08-07 21:44:36.392823"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:44:36.393298"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 00:44:36 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 00:44:36 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:45:00.196491', '2017-08-07 21:45:00.196491', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:45:00.196491', '2017-08-07 21:45:00.196491', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:45:00.199065', '2017-08-07 21:45:00.199065', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:45:00.199065', '2017-08-07 21:45:00.199065', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:45:00.200989', '2017-08-07 21:45:00.200989', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:45:00.200989', '2017-08-07 21:45:00.200989', 298486374)[0m
  [1m[35m (115.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
AccountsControllerTest: test_should_be_valid
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "m@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
AccountsControllerTest: test_user_id_should_be_present
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "m@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$G/9aJ9lldTqEOmtxjD5oz.Y1HLiLFLW2p0gMB73.IMHhYQWIIrZ7e"], ["created_at", "2017-08-07 21:45:00.418054"], ["updated_at", "2017-08-07 21:45:00.418054"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:45:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:45:00.477369"], ["last_sign_in_at", "2017-08-07 21:45:00.477369"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:45:00.478032"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 34ms (ActiveRecord: 0.7ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 00:45:00 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.7ms)
Completed 200 OK in 392ms (Views: 390.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$eqhXpIM9F24bI2Vrz00wPuPuXHfzTS08oRplqhCAYi2Bff3Q72gc2"], ["created_at", "2017-08-07 21:45:00.910959"], ["updated_at", "2017-08-07 21:45:00.910959"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:45:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:45:00.916042"], ["last_sign_in_at", "2017-08-07 21:45:00.916042"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:45:00.916471"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 00:45:00 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:45:00 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 00:45:00 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 00:45:00 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:45:00 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$TbNEesDulKj/w5qlKphdA.5uQtCYcxJbv9t2FNxfl8cSViLznVu3u"], ["created_at", "2017-08-07 21:45:00.947820"], ["updated_at", "2017-08-07 21:45:00.947820"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:45:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:45:00.952856"], ["last_sign_in_at", "2017-08-07 21:45:00.952856"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:45:00.953349"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 00:45:00 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 302 Found in 3ms (Views: 2.6ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 00:45:00 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:45:37.810023', '2017-08-07 21:45:37.810023', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:45:37.810023', '2017-08-07 21:45:37.810023', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:45:37.813563', '2017-08-07 21:45:37.813563', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:45:37.813563', '2017-08-07 21:45:37.813563', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:45:37.815485', '2017-08-07 21:45:37.815485', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:45:37.815485', '2017-08-07 21:45:37.815485', 298486374)[0m
  [1m[35m (159.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
AccountsControllerTest: test_should_be_valid
--------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$l5rmy2wSDth/6JkDytSZhu/WEqA3BjLIEujMoudtiUe78cz8TwDvG"], ["created_at", "2017-08-07 21:45:38.100852"], ["updated_at", "2017-08-07 21:45:38.100852"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-07 21:45:38.117834"], ["updated_at", "2017-08-07 21:45:38.117834"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
AccountsControllerTest: test_user_id_should_be_present
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$F9hdozekFr5UOZ0eVA.9TOF5vLnGVUWFPpmyMcUXhZ3o/i4uUBgQ6"], ["created_at", "2017-08-07 21:45:38.124230"], ["updated_at", "2017-08-07 21:45:38.124230"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-07 21:45:38.127311"], ["updated_at", "2017-08-07 21:45:38.127311"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:45:38 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.7ms)
Completed 200 OK in 409ms (Views: 402.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 00:45:38 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 6ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$oA7NJIWKiw8gUhRdkms6rOEoArUfSb/qaQm2zDXKPlDYYeW7QZS0q"], ["created_at", "2017-08-07 21:45:38.618012"], ["updated_at", "2017-08-07 21:45:38.618012"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:45:38 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:45:38.643390"], ["last_sign_in_at", "2017-08-07 21:45:38.643390"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:45:38.643916"], ["id", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 17ms (ActiveRecord: 0.6ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 00:45:38 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.2ms)
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 00:45:38 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:45:38 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$.vOnOc0TssuC6GHK7O4J9ubT0BafmxE2qCy1ftHx1YjbbuVxnycRa"], ["created_at", "2017-08-07 21:45:38.674027"], ["updated_at", "2017-08-07 21:45:38.674027"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:45:38 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:45:38.679646"], ["last_sign_in_at", "2017-08-07 21:45:38.679646"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:45:38.680166"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 00:45:38 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.2ms)
Completed 302 Found in 3ms (Views: 2.6ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 00:45:38 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$oLi48P1XWFNGAlHiAcKUHuUCaxSiVt2wP3hwyguXmaWUQxuyAWQD2"], ["created_at", "2017-08-07 21:45:38.707423"], ["updated_at", "2017-08-07 21:45:38.707423"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:45:38 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:45:38.712493"], ["last_sign_in_at", "2017-08-07 21:45:38.712493"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:45:38.712917"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 00:45:38 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:56:12.071860', '2017-08-07 21:56:12.071860', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:56:12.071860', '2017-08-07 21:56:12.071860', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:56:12.074770', '2017-08-07 21:56:12.074770', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:56:12.074770', '2017-08-07 21:56:12.074770', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:56:12.076458', '2017-08-07 21:56:12.076458', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:56:12.076458', '2017-08-07 21:56:12.076458', 298486374)[0m
  [1m[35m (60.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$arInDUIxzGBlsEXWZkyBGugZFXAqFEvj96O/zc//8KhQ7ZzqE.i/S"], ["created_at", "2017-08-07 21:56:12.231665"], ["updated_at", "2017-08-07 21:56:12.231665"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:56:12 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:56:12.292356"], ["last_sign_in_at", "2017-08-07 21:56:12.292356"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:56:12.292913"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 00:56:12 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.7ms)
Completed 200 OK in 430ms (Views: 428.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:56:12 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$GS/EpVS2XU9msp0aMlcsHucTsHWyKQ9Ay/G6r39NLJA6LbeTYEEiC"], ["created_at", "2017-08-07 21:56:12.762277"], ["updated_at", "2017-08-07 21:56:12.762277"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:56:12 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:56:12.772328"], ["last_sign_in_at", "2017-08-07 21:56:12.772328"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:56:12.773083"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 1.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 00:56:12 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.5ms)
Completed 302 Found in 4ms (Views: 3.2ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 00:56:12 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (2.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 00:56:12 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:56:12 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 00:56:12 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$9BrKalJzhuwRVt2GzHbPrOSHJU1ignLMmyP59zQCV7ik/NE/ysA0y"], ["created_at", "2017-08-07 21:56:12.816338"], ["updated_at", "2017-08-07 21:56:12.816338"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:56:12 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:56:12.821881"], ["last_sign_in_at", "2017-08-07 21:56:12.821881"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:56:12.822556"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 00:56:12 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
AccountsControllerTest: test_should_be_valid
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ira0812@ya.ru"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
AccountsControllerTest: test_user_id_should_be_present
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ira0812@ya.ru"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.0ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:56:30.093772', '2017-08-07 21:56:30.093772', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:56:30.093772', '2017-08-07 21:56:30.093772', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:56:30.096658', '2017-08-07 21:56:30.096658', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:56:30.096658', '2017-08-07 21:56:30.096658', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:56:30.098849', '2017-08-07 21:56:30.098849', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:56:30.098849', '2017-08-07 21:56:30.098849', 298486374)[0m
  [1m[35m (95.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$44dgVFlGNwrWbb4LFDN05..L4sS2mvlqslNyI4nSJMPRq0RByMfFG"], ["created_at", "2017-08-07 21:56:30.307397"], ["updated_at", "2017-08-07 21:56:30.307397"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:56:30 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:56:30.371109"], ["last_sign_in_at", "2017-08-07 21:56:30.371109"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:56:30.371629"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 00:56:30 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.7ms)
Completed 200 OK in 380ms (Views: 378.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 00:56:30 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$T9yF63sgfYAI.rzapzh1h.12Pk7OwRYbQcOj4Aqt9OaTMpINpvsui"], ["created_at", "2017-08-07 21:56:30.805539"], ["updated_at", "2017-08-07 21:56:30.805539"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:56:30 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:56:30.820400"], ["last_sign_in_at", "2017-08-07 21:56:30.820400"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:56:30.821765"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 2.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 00:56:30 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 11ms (Views: 6.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 00:56:30 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:56:30 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.7ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$UT7Ic0LnooB8cIkz31qK7OMRqrf3YC3kDRqyMQrXeeVRKoQu8oS0G"], ["created_at", "2017-08-07 21:56:30.867842"], ["updated_at", "2017-08-07 21:56:30.867842"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:56:30 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:56:30.876539"], ["last_sign_in_at", "2017-08-07 21:56:30.876539"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:56:30.887969"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 19ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 00:56:30 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.5ms)
Completed 302 Found in 5ms (Views: 4.1ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 00:56:30 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:56:30 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
AccountsControllerTest: test_should_be_valid
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
AccountsControllerTest: test_user_id_should_be_present
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:57:33.634421', '2017-08-07 21:57:33.634421', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:57:33.634421', '2017-08-07 21:57:33.634421', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:57:33.637535', '2017-08-07 21:57:33.637535', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:57:33.637535', '2017-08-07 21:57:33.637535', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:57:33.639365', '2017-08-07 21:57:33.639365', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:57:33.639365', '2017-08-07 21:57:33.639365', 298486374)[0m
  [1m[35m (58.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$1srO6Vi0wjqvBPZk9sQ1kuYKaUesgHaZ8klIgWDSBhf/8eW/qs.0C"], ["created_at", "2017-08-07 21:57:33.804360"], ["updated_at", "2017-08-07 21:57:33.804360"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:57:33 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:57:33.868746"], ["last_sign_in_at", "2017-08-07 21:57:33.868746"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:57:33.869292"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 0.6ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 00:57:33 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (1.0ms)
Completed 200 OK in 426ms (Views: 423.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:57:34 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$GqDLCwDBfMS/a6P/kAsTwuZdlp6uKGu/AyUGE8BQYUiA6CB5eO9Oa"], ["created_at", "2017-08-07 21:57:34.326842"], ["updated_at", "2017-08-07 21:57:34.326842"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:57:34 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:57:34.332842"], ["last_sign_in_at", "2017-08-07 21:57:34.332842"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:57:34.333400"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.6ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 00:57:34 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.2ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 00:57:34 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 00:57:34 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:57:34 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$RMBt2IplX6Lee/c62qcQ2.v.0IfJVu.oxuv8ir4cSVOHhg6ukyix2"], ["created_at", "2017-08-07 21:57:34.363866"], ["updated_at", "2017-08-07 21:57:34.363866"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:57:34 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:57:34.369170"], ["last_sign_in_at", "2017-08-07 21:57:34.369170"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:57:34.369559"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 00:57:34 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.5ms)
Completed 302 Found in 4ms (Views: 3.2ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 00:57:34 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
AccountsControllerTest: test_should_be_valid
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ira0812@ya.ru"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
AccountsControllerTest: test_user_id_should_be_present
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ira0812@ya.ru"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:58:41.598276', '2017-08-07 21:58:41.598276', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 21:58:41.598276', '2017-08-07 21:58:41.598276', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:58:41.601259', '2017-08-07 21:58:41.601259', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 21:58:41.601259', '2017-08-07 21:58:41.601259', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:58:41.602947', '2017-08-07 21:58:41.602947', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 21:58:41.602947', '2017-08-07 21:58:41.602947', 298486374)[0m
  [1m[35m (88.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:58:41 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.9ms)
Completed 200 OK in 425ms (Views: 418.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$qMdsDDMm7/xZum3RUDHSfucERJ0Ixso/ibo51L8oYjYOkLaw6eRa."], ["created_at", "2017-08-07 21:58:42.251796"], ["updated_at", "2017-08-07 21:58:42.251796"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:58:42 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:58:42.268177"], ["last_sign_in_at", "2017-08-07 21:58:42.268177"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:58:42.268710"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 20ms (ActiveRecord: 0.6ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 00:58:42 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 00:58:42 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$PGuv7oqvdz.zUd/3VIcVHu/8NvuMtEIzVfAMUlNk2R6wDZ17Uz.2y"], ["created_at", "2017-08-07 21:58:42.300789"], ["updated_at", "2017-08-07 21:58:42.300789"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:58:42 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:58:42.306420"], ["last_sign_in_at", "2017-08-07 21:58:42.306420"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:58:42.306822"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 00:58:42 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 00:58:42 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 23ms (ActiveRecord: 0.3ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 00:58:42 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 00:58:42 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$j3gGrmrAVK62oM/t3QawFuCiQMxRqhF68akf0GNs.Sk77c7fZYs/q"], ["created_at", "2017-08-07 21:58:42.353457"], ["updated_at", "2017-08-07 21:58:42.353457"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 00:58:42 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 21:58:42.358483"], ["last_sign_in_at", "2017-08-07 21:58:42.358483"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 21:58:42.358888"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 00:58:42 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
AccountsControllerTest: test_should_be_valid
--------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (email = 'ira0812@ya.ru') ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
AccountsControllerTest: test_user_id_should_be_present
------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (email = 'ira0812@ya.ru') ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 22:00:25.142042', '2017-08-07 22:00:25.142042', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 22:00:25.142042', '2017-08-07 22:00:25.142042', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 22:00:25.145033', '2017-08-07 22:00:25.145033', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 22:00:25.145033', '2017-08-07 22:00:25.145033', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 22:00:25.146706', '2017-08-07 22:00:25.146706', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 22:00:25.146706', '2017-08-07 22:00:25.146706', 298486374)[0m
  [1m[35m (190.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 01:00:25 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 16ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 01:00:25 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$mE.4NuEeNJxNHpLR89TDmuK2U4SLreXdNni4D0i2mrmVzPjfHh9Ca"], ["created_at", "2017-08-07 22:00:25.517513"], ["updated_at", "2017-08-07 22:00:25.517513"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 01:00:25 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 22:00:25.531220"], ["last_sign_in_at", "2017-08-07 22:00:25.531220"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 22:00:25.531734"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 15ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 01:00:25 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.7ms)
Completed 200 OK in 379ms (Views: 377.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 01:00:25 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.6ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$e/PEUIzkj13WIbzFqx8Ue.IsxM2KuCVCR3LJ68u6M77piZPNCM7xO"], ["created_at", "2017-08-07 22:00:25.946126"], ["updated_at", "2017-08-07 22:00:25.946126"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 01:00:25 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 22:00:25.957177"], ["last_sign_in_at", "2017-08-07 22:00:25.957177"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 22:00:25.957897"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 0.6ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 01:00:25 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.5ms)
Completed 200 OK in 24ms (Views: 20.6ms | ActiveRecord: 0.2ms)
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 01:00:25 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.5ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.0ms)
  [1m[35m (1.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$1Vvi0cCISC2HrGMPHxYn5.bgzuono/yOEldtLK.aBVXR1AOr2RoNm"], ["created_at", "2017-08-07 22:00:26.013393"], ["updated_at", "2017-08-07 22:00:26.013393"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 01:00:26 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 22:00:26.022293"], ["last_sign_in_at", "2017-08-07 22:00:26.022293"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 22:00:26.022958"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 01:00:26 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.6ms)
Completed 302 Found in 5ms (Views: 4.8ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 01:00:26 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
AccountsControllerTest: test_should_be_valid
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "ira0812@ya.ru"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
AccountsControllerTest: test_user_id_should_be_present
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "ira0812@ya.ru"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 22:00:55.097721', '2017-08-07 22:00:55.097721', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 22:00:55.097721', '2017-08-07 22:00:55.097721', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 22:00:55.101185', '2017-08-07 22:00:55.101185', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 22:00:55.101185', '2017-08-07 22:00:55.101185', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 22:00:55.102959', '2017-08-07 22:00:55.102959', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 22:00:55.102959', '2017-08-07 22:00:55.102959', 298486374)[0m
  [1m[35m (71.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 01:00:55 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.9ms)
Completed 200 OK in 435ms (Views: 428.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 01:00:55 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 01:00:55 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 01:00:55 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$BY.bhqh5tAPKA8xbaC2.z.0MGyQKsnUVL5pbEVdp7CAzjQQaB/pDG"], ["created_at", "2017-08-07 22:00:55.820882"], ["updated_at", "2017-08-07 22:00:55.820882"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 01:00:55 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 22:00:55.834506"], ["last_sign_in_at", "2017-08-07 22:00:55.834506"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 22:00:55.835055"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 13ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 01:00:55 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.4ms)
Completed 302 Found in 3ms (Views: 2.7ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 01:00:55 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$hJ16iUk2KYRxFuht6CxQXOUMIhmBccG9DfvIW0yMdccpbQLu8bbJW"], ["created_at", "2017-08-07 22:00:55.861014"], ["updated_at", "2017-08-07 22:00:55.861014"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 01:00:55 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 22:00:55.866333"], ["last_sign_in_at", "2017-08-07 22:00:55.866333"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 22:00:55.866804"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 01:00:55 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$inIpT5Qj9796KuVgLcg/eeHh.pKzZGtwfoBb1tMMhl6DUj4.pfkVW"], ["created_at", "2017-08-07 22:00:55.880487"], ["updated_at", "2017-08-07 22:00:55.880487"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 01:00:55 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 22:00:55.886111"], ["last_sign_in_at", "2017-08-07 22:00:55.886111"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 22:00:55.886628"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 01:00:55 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
AccountsControllerTest: test_should_be_valid
--------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
AccountsControllerTest: test_user_id_should_be_present
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 22:01:12.391504', '2017-08-07 22:01:12.391504', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 22:01:12.391504', '2017-08-07 22:01:12.391504', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 22:01:12.394749', '2017-08-07 22:01:12.394749', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 22:01:12.394749', '2017-08-07 22:01:12.394749', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 22:01:12.396406', '2017-08-07 22:01:12.396406', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 22:01:12.396406', '2017-08-07 22:01:12.396406', 298486374)[0m
  [1m[35m (59.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$W/jRK3cF9vsaRkjD/.SSUeKusdbT7JAKqGGqbsepJNUh0nBpil4pq"], ["created_at", "2017-08-07 22:01:12.566999"], ["updated_at", "2017-08-07 22:01:12.566999"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 01:01:12 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 22:01:12.624525"], ["last_sign_in_at", "2017-08-07 22:01:12.624525"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 22:01:12.625075"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 27ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 01:01:12 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.7ms)
Completed 200 OK in 421ms (Views: 419.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 01:01:13 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 01:01:13 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 01:01:13 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$PNLY.2D7l9z1aw/FG.y1ReFmJGkwBJIkwn2E8FIxvIue5McuH3aYi"], ["created_at", "2017-08-07 22:01:13.091455"], ["updated_at", "2017-08-07 22:01:13.091455"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 01:01:13 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 22:01:13.096744"], ["last_sign_in_at", "2017-08-07 22:01:13.096744"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 22:01:13.097209"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 01:01:13 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.1ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 01:01:13 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$Hu4NwcZDHluwlw024zR/lOKxUr5PgI95AHlWD67Vkt96BZ4TFYn6O"], ["created_at", "2017-08-07 22:01:13.116296"], ["updated_at", "2017-08-07 22:01:13.116296"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 01:01:13 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 22:01:13.121565"], ["last_sign_in_at", "2017-08-07 22:01:13.121565"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 22:01:13.121966"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 01:01:13 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.4ms)
Completed 200 OK in 6ms (Views: 3.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 01:01:13 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
AccountsControllerTest: test_user_id_should_be_present
------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
AccountsControllerTest: test_should_be_valid
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 22:02:28.021589', '2017-08-07 22:02:28.021589', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 22:02:28.021589', '2017-08-07 22:02:28.021589', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 22:02:28.024782', '2017-08-07 22:02:28.024782', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 22:02:28.024782', '2017-08-07 22:02:28.024782', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 22:02:28.027848', '2017-08-07 22:02:28.027848', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 22:02:28.027848', '2017-08-07 22:02:28.027848', 298486374)[0m
  [1m[35m (565.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
AccountsControllerTest: test_user_id_should_be_present
------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
AccountsControllerTest: test_should_be_valid
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 01:02:28 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (4.0ms)
Completed 200 OK in 423ms (Views: 416.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.9ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 01:02:29 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.2ms)
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$5bJtCtu2/Z5oNWFWxRcI5eLYnqNkMms3vIAAnElEOmHId0nVhh2Fy"], ["created_at", "2017-08-07 22:02:29.214678"], ["updated_at", "2017-08-07 22:02:29.214678"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 01:02:29 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 22:02:29.252375"], ["last_sign_in_at", "2017-08-07 22:02:29.252375"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 22:02:29.253748"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 32ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 01:02:29 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.2ms)
Completed 302 Found in 4ms (Views: 3.0ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 01:02:29 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$mYrWzwAzuijMXKO0nDyPmuumQpn9oQGuMA0T4gr9MMi1s5nSamxTe"], ["created_at", "2017-08-07 22:02:29.302207"], ["updated_at", "2017-08-07 22:02:29.302207"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 01:02:29 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 22:02:29.311509"], ["last_sign_in_at", "2017-08-07 22:02:29.311509"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 22:02:29.312489"], ["id", 2]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 01:02:29 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 6ms (Views: 3.2ms | ActiveRecord: 0.4ms)
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 01:02:29 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 01:02:29 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$TCY4JXjfl1414V9OfUo3ieqqG/rG58oScJDmHGdVtx31vDeuLnLuO"], ["created_at", "2017-08-07 22:02:29.350453"], ["updated_at", "2017-08-07 22:02:29.350453"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 01:02:29 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 22:02:29.357267"], ["last_sign_in_at", "2017-08-07 22:02:29.357267"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 22:02:29.357980"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 01:02:29 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.1ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 22:02:44.938125', '2017-08-07 22:02:44.938125', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 22:02:44.938125', '2017-08-07 22:02:44.938125', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 22:02:44.940939', '2017-08-07 22:02:44.940939', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 22:02:44.940939', '2017-08-07 22:02:44.940939', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 22:02:44.942589', '2017-08-07 22:02:44.942589', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 22:02:44.942589', '2017-08-07 22:02:44.942589', 298486374)[0m
  [1m[35m (163.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 01:02:45 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (4.0ms)
Completed 200 OK in 438ms (Views: 431.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$K2eSbT7WBFoOxsVy/Bzii.kwmucggK4nZ823LYt9.3J5qhegKjCAK"], ["created_at", "2017-08-07 22:02:45.695777"], ["updated_at", "2017-08-07 22:02:45.695777"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 01:02:45 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 22:02:45.714022"], ["last_sign_in_at", "2017-08-07 22:02:45.714022"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 22:02:45.714960"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 21ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 01:02:45 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.2ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 01:02:45 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 01:02:45 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$nGTCHuEfyoH0Q0mIfsHnd.C2profaJL.GEpIyYbP/MG34NAMBN5LO"], ["created_at", "2017-08-07 22:02:45.753066"], ["updated_at", "2017-08-07 22:02:45.753066"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 01:02:45 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 22:02:45.758810"], ["last_sign_in_at", "2017-08-07 22:02:45.758810"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 22:02:45.759396"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 01:02:45 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.2ms)
Completed 302 Found in 4ms (Views: 3.6ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 01:02:45 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 01:02:45 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$wRpnVEx1cws1O6kfFnK/3u1D5tXk6wCPzbzgPlYuxn6g.veY66HZm"], ["created_at", "2017-08-07 22:02:45.792603"], ["updated_at", "2017-08-07 22:02:45.792603"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 01:02:45 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 22:02:45.797903"], ["last_sign_in_at", "2017-08-07 22:02:45.797903"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 22:02:45.798379"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 01:02:45 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 5ms (Views: 2.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
AccountsControllerTest: test_should_be_valid
--------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
AccountsControllerTest: test_user_id_should_be_present
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 22:02:56.330922', '2017-08-07 22:02:56.330922', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 22:02:56.330922', '2017-08-07 22:02:56.330922', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 22:02:56.334879', '2017-08-07 22:02:56.334879', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 22:02:56.334879', '2017-08-07 22:02:56.334879', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 22:02:56.337766', '2017-08-07 22:02:56.337766', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 22:02:56.337766', '2017-08-07 22:02:56.337766', 298486374)[0m
  [1m[35m (158.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$jiGlAvZJhJlerqc/OWq3PO88JvqagByHmpvWNkJkWvEnzbz.lDLae"], ["created_at", "2017-08-07 22:02:56.603936"], ["updated_at", "2017-08-07 22:02:56.603936"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 01:02:56 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 22:02:56.659979"], ["last_sign_in_at", "2017-08-07 22:02:56.659979"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 22:02:56.660514"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 35ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 01:02:56 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.7ms)
Completed 200 OK in 409ms (Views: 407.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 01:02:57 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 01:02:57 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$RqsulSROltyRuTcPfgvVBOu94dUETpJ0M8dnL18uZ6CRzym/GBodS"], ["created_at", "2017-08-07 22:02:57.126301"], ["updated_at", "2017-08-07 22:02:57.126301"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 01:02:57 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 22:02:57.133467"], ["last_sign_in_at", "2017-08-07 22:02:57.133467"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 22:02:57.133878"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 01:02:57 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.2ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 01:02:57 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 01:02:57 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$a.XXcizYXoDf2UudPkR4nuI.wYCdvyTpl5KjerbmoMkRh1Q3VCzAq"], ["created_at", "2017-08-07 22:02:57.160502"], ["updated_at", "2017-08-07 22:02:57.160502"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 01:02:57 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 22:02:57.165970"], ["last_sign_in_at", "2017-08-07 22:02:57.165970"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 22:02:57.166518"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 01:02:57 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 01:02:57 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
AccountsControllerTest: test_should_be_valid
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
AccountsControllerTest: test_user_id_should_be_present
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 22:09:12.742853', '2017-08-07 22:09:12.742853', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 22:09:12.742853', '2017-08-07 22:09:12.742853', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 22:09:12.745929', '2017-08-07 22:09:12.745929', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 22:09:12.745929', '2017-08-07 22:09:12.745929', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 22:09:12.747616', '2017-08-07 22:09:12.747616', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 22:09:12.747616', '2017-08-07 22:09:12.747616', 298486374)[0m
  [1m[35m (60.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
AccountsControllerTest: test_user_id_should_be_present
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
AccountsControllerTest: test_should_be_valid
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 01:09:12 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 17ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 01:09:12 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 200 OK in 373ms (Views: 372.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 01:09:13 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$BBJhcTb0XpGHbxMAcieYAuu2XAM5FM2VgNoFaF7LvULkjfA.04KEa"], ["created_at", "2017-08-07 22:09:13.410408"], ["updated_at", "2017-08-07 22:09:13.410408"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 01:09:13 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 22:09:13.442732"], ["last_sign_in_at", "2017-08-07 22:09:13.442732"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 22:09:13.443605"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 18ms (ActiveRecord: 0.6ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 01:09:13 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$d8s1aj1H4QJDjHv8KNZL/uIDwOi3.POUYnrnM2L2fM0cMe4nww0d."], ["created_at", "2017-08-07 22:09:13.466735"], ["updated_at", "2017-08-07 22:09:13.466735"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 01:09:13 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 22:09:13.472429"], ["last_sign_in_at", "2017-08-07 22:09:13.472429"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 22:09:13.473040"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 01:09:13 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.4ms)
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 01:09:13 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$wSv17m11O2CsTDCXUeETROYqSRFzI4WqgtgDDtajgWi68gnogwKD2"], ["created_at", "2017-08-07 22:09:13.492510"], ["updated_at", "2017-08-07 22:09:13.492510"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 01:09:13 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 22:09:13.498068"], ["last_sign_in_at", "2017-08-07 22:09:13.498068"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 22:09:13.498633"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 01:09:13 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.7ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 01:09:13 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 22:10:12.043382', '2017-08-07 22:10:12.043382', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-07 22:10:12.043382', '2017-08-07 22:10:12.043382', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 22:10:12.046122', '2017-08-07 22:10:12.046122', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-07 22:10:12.046122', '2017-08-07 22:10:12.046122', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 22:10:12.048022', '2017-08-07 22:10:12.048022', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-07 22:10:12.048022', '2017-08-07 22:10:12.048022', 298486374)[0m
  [1m[35m (55.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 01:10:12 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 14ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$WIQ3T.CMxfw7Qyn9YE6BduG/D/2knELmBHww21YZ1ap93MpJbIlV."], ["created_at", "2017-08-07 22:10:12.265258"], ["updated_at", "2017-08-07 22:10:12.265258"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 01:10:12 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 22:10:12.279512"], ["last_sign_in_at", "2017-08-07 22:10:12.279512"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 22:10:12.280068"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 15ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 01:10:12 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.7ms)
Completed 200 OK in 421ms (Views: 419.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 01:10:12 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$zUVDlyuQldfpsC4Liy4vOOAfsOWGTLP4Lq1/QpuGHbQmox9Ns6kUy"], ["created_at", "2017-08-07 22:10:12.728255"], ["updated_at", "2017-08-07 22:10:12.728255"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 01:10:12 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 22:10:12.733937"], ["last_sign_in_at", "2017-08-07 22:10:12.733937"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 22:10:12.734672"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 01:10:12 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.4ms)
Completed 200 OK in 5ms (Views: 3.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 01:10:12 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$RWRfkLa0m3jxufWwQ1u8cu5AaXLUbsESl97kEzupq5JHcgIzDXRl."], ["created_at", "2017-08-07 22:10:12.758650"], ["updated_at", "2017-08-07 22:10:12.758650"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 01:10:12 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-07 22:10:12.764514"], ["last_sign_in_at", "2017-08-07 22:10:12.764514"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-07 22:10:12.764988"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 01:10:12 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 01:10:12 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 01:10:12 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
AccountsControllerTest: test_should_be_valid
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
AccountsControllerTest: test_user_id_should_be_present
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:05:28.715984', '2017-08-08 07:05:28.715984', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:05:28.715984', '2017-08-08 07:05:28.715984', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:05:28.718709', '2017-08-08 07:05:28.718709', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:05:28.718709', '2017-08-08 07:05:28.718709', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:05:28.720605', '2017-08-08 07:05:28.720605', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:05:28.720605', '2017-08-08 07:05:28.720605', 298486374)[0m
  [1m[35m (68.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$AzrWu2p14jnlDJhjUvIqaOCPveCMjRMlTnV1MsEmOR3a8uo9D2iHG"], ["created_at", "2017-08-08 07:05:29.204786"], ["updated_at", "2017-08-08 07:05:29.204786"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:05:29 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:05:29.415550"], ["last_sign_in_at", "2017-08-08 07:05:29.415550"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:05:29.417747"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 181ms (ActiveRecord: 0.9ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:05:29 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.9ms)
Completed 200 OK in 8660ms (Views: 8654.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$oQPMUgCh8zw/OpiP8.O6MOks6pueA5HCXqnPT04urSPLDW9lrBOWG"], ["created_at", "2017-08-08 07:05:38.269320"], ["updated_at", "2017-08-08 07:05:38.269320"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:05:38 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:05:38.275001"], ["last_sign_in_at", "2017-08-08 07:05:38.275001"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:05:38.275526"], ["id", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:05:38 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:05:38 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:05:38 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.4ms)
Completed 200 OK in 19ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$CV4MdIOGF8JUYEXNgdX4COao2Y2HVg.aiLmmX5BoX4d2uFYxmHKfq"], ["created_at", "2017-08-08 07:05:38.334253"], ["updated_at", "2017-08-08 07:05:38.334253"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:05:38 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:05:38.340225"], ["last_sign_in_at", "2017-08-08 07:05:38.340225"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:05:38.340929"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 10:05:38 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.3ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 10:05:38 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 18ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:05:38 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:05:38 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AccountsControllerTest: test_should_not_create_when_not_logged_in
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:05:50.683372', '2017-08-08 07:05:50.683372', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:05:50.683372', '2017-08-08 07:05:50.683372', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:05:50.705874', '2017-08-08 07:05:50.705874', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:05:50.705874', '2017-08-08 07:05:50.705874', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:05:50.709907', '2017-08-08 07:05:50.709907', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:05:50.709907', '2017-08-08 07:05:50.709907', 298486374)[0m
  [1m[35m (78.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AccountsControllerTest: test_should_not_create_when_not_logged_in
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@email.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@email.com"], ["encrypted_password", "$2a$04$tt0axluO4OQN4uZMdhKJFOATd5B9nPwqB.HA4MWwo7/hEYTx.wuOO"], ["created_at", "2017-08-08 07:05:50.898132"], ["updated_at", "2017-08-08 07:05:50.898132"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 07:05:50.934900"], ["updated_at", "2017-08-08 07:05:50.934900"], ["currency", "USD"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 10:05:50 +0300
Processing by AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$Ln.ZKqg64vLyZ1yWew2ooOuswXl9Q69Rzk8Mbw5GZINhKV2bSi0p2"], ["created_at", "2017-08-08 07:05:51.005801"], ["updated_at", "2017-08-08 07:05:51.005801"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:05:51 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:05:51.018881"], ["last_sign_in_at", "2017-08-08 07:05:51.018881"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:05:51.019741"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 21ms (ActiveRecord: 0.6ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:05:51 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.8ms)
Completed 200 OK in 448ms (Views: 446.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:05:51 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$qu6HPKPf/V1zN7sl04g0LOVdDBLvJ7QuqA91w9gT.KZXUKtHI5PDu"], ["created_at", "2017-08-08 07:05:51.500304"], ["updated_at", "2017-08-08 07:05:51.500304"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:05:51 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:05:51.505632"], ["last_sign_in_at", "2017-08-08 07:05:51.505632"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:05:51.506186"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 10:05:51 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 302 Found in 3ms (Views: 2.3ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 10:05:51 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$QllpXWagcfuW9jZ0xo20h.cMGsyTxzSQmjhNCn7W.WTOPfdmYsmdO"], ["created_at", "2017-08-08 07:05:51.525799"], ["updated_at", "2017-08-08 07:05:51.525799"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:05:51 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:05:51.530981"], ["last_sign_in_at", "2017-08-08 07:05:51.530981"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:05:51.531422"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:05:51 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:05:51 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:05:51 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:05:51 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:06:09.823288', '2017-08-08 07:06:09.823288', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:06:09.823288', '2017-08-08 07:06:09.823288', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:06:09.825987', '2017-08-08 07:06:09.825987', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:06:09.825987', '2017-08-08 07:06:09.825987', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:06:09.827718', '2017-08-08 07:06:09.827718', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:06:09.827718', '2017-08-08 07:06:09.827718', 298486374)[0m
  [1m[35m (75.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AccountsControllerTest: test_should_not_create_when_not_logged_in
-----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 10:06:10 +0300
Processing by AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:06:10 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.8ms)
Completed 200 OK in 456ms (Views: 455.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$XIUUDzUlNHac8XWpVEm3EuI8W.Jqowf4Ecwiv4oS4EpFg5dkoRGpm"], ["created_at", "2017-08-08 07:06:10.542457"], ["updated_at", "2017-08-08 07:06:10.542457"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:06:10 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:06:10.554125"], ["last_sign_in_at", "2017-08-08 07:06:10.554125"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:06:10.554718"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 18ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 10:06:10 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.2ms)
Completed 302 Found in 3ms (Views: 2.5ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 10:06:10 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:06:10 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$xyMv2mJM.24zr3yTcKQBTuKOS5tZUpubMkVrNpuQaNt9455/egN/e"], ["created_at", "2017-08-08 07:06:10.594659"], ["updated_at", "2017-08-08 07:06:10.594659"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:06:10 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:06:10.600317"], ["last_sign_in_at", "2017-08-08 07:06:10.600317"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:06:10.600787"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:06:10 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:06:10 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$zGU2PF/P5k4oOmzRusu6HOER8eqS1Lc/L9NURcaUqQthXisDZo0qa"], ["created_at", "2017-08-08 07:06:10.640841"], ["updated_at", "2017-08-08 07:06:10.640841"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:06:10 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:06:10.646468"], ["last_sign_in_at", "2017-08-08 07:06:10.646468"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:06:10.646962"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:06:10 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:06:10 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:11:04.031993', '2017-08-08 07:11:04.031993', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:11:04.031993', '2017-08-08 07:11:04.031993', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:11:04.035137', '2017-08-08 07:11:04.035137', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:11:04.035137', '2017-08-08 07:11:04.035137', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:11:04.037018', '2017-08-08 07:11:04.037018', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:11:04.037018', '2017-08-08 07:11:04.037018', 298486374)[0m
  [1m[35m (138.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$wDWNPhm2laaqEb3tD6Cev.b1m9.XiJC8SRPm7q9uGmHPE5U.pJoiG"], ["created_at", "2017-08-08 07:11:04.298865"], ["updated_at", "2017-08-08 07:11:04.298865"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:11:04 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:11:04.356781"], ["last_sign_in_at", "2017-08-08 07:11:04.356781"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:11:04.357361"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 27ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:11:04 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.7ms)
Completed 200 OK in 415ms (Views: 412.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$TQ49lA2dZBmDvfRtTvtEBeU31FsmaQPmlRxXu50V8hGz25Ja6YfA6"], ["created_at", "2017-08-08 07:11:04.803420"], ["updated_at", "2017-08-08 07:11:04.803420"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:11:04 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:11:04.811974"], ["last_sign_in_at", "2017-08-08 07:11:04.811974"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:11:04.812466"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 0.6ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:11:04 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 18ms (Views: 15.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:11:04 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (2.1ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:11:04 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:11:04 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:11:04 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$v2sulNfJjognn56mCfs0POlYXlngUlZy9qC9RRpsZQbhSAAFoBc2m"], ["created_at", "2017-08-08 07:11:04.887188"], ["updated_at", "2017-08-08 07:11:04.887188"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:11:04 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:11:04.896780"], ["last_sign_in_at", "2017-08-08 07:11:04.896780"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:11:04.897295"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.2ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 10:11:04 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.3ms)
Completed 302 Found in 4ms (Views: 3.0ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 10:11:04 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$/7NzuYOcjDoCtnpRUFnNpeimzs7DWY.1ZqFspWCCF.AD4TGBHFUqm"], ["created_at", "2017-08-08 07:11:04.922529"], ["updated_at", "2017-08-08 07:11:04.922529"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:11:04 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:11:04.933591"], ["last_sign_in_at", "2017-08-08 07:11:04.933591"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:11:04.934666"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 10:11:04 +0300
Processing by AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 07:11:04.986456"], ["updated_at", "2017-08-08 07:11:04.986456"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 406 Not Acceptable in 41ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:11:46.313856', '2017-08-08 07:11:46.313856', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:11:46.313856', '2017-08-08 07:11:46.313856', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:11:46.317253', '2017-08-08 07:11:46.317253', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:11:46.317253', '2017-08-08 07:11:46.317253', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:11:46.320402', '2017-08-08 07:11:46.320402', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:11:46.320402', '2017-08-08 07:11:46.320402', 298486374)[0m
  [1m[35m (203.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:11:46 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.9ms)
Completed 200 OK in 428ms (Views: 421.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$aKpSsymuBhaaD3ReRYNLqu.LODfcPkxlwz5dYj1sRt.pE.7gaAHs6"], ["created_at", "2017-08-08 07:11:47.107401"], ["updated_at", "2017-08-08 07:11:47.107401"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:11:47 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:11:47.123314"], ["last_sign_in_at", "2017-08-08 07:11:47.123314"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:11:47.123892"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 17ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:11:47 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:11:47 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$GRkrQXIkRcsybOD/ZtLwGejNlaN90vWwmD65I.gzijRCLWGCkj.zy"], ["created_at", "2017-08-08 07:11:47.152525"], ["updated_at", "2017-08-08 07:11:47.152525"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:11:47 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:11:47.158261"], ["last_sign_in_at", "2017-08-08 07:11:47.158261"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:11:47.158668"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 10:11:47 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.5ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 10:11:47 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:11:47 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$UR7do7Zln3GkG7qpZsT3gO8LMmZ2KpwfIwxnJwOVJkRXxLD8Ey0YG"], ["created_at", "2017-08-08 07:11:47.183412"], ["updated_at", "2017-08-08 07:11:47.183412"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:11:47 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:11:47.189129"], ["last_sign_in_at", "2017-08-08 07:11:47.189129"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:11:47.189558"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:11:47 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:11:47 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$HLZh4gC20pi.xb6n9MJqzuTtIlv9UpiErS8dl3owKalc8k9f3FDHq"], ["created_at", "2017-08-08 07:11:47.208379"], ["updated_at", "2017-08-08 07:11:47.208379"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:11:47 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:11:47.213485"], ["last_sign_in_at", "2017-08-08 07:11:47.213485"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:11:47.213927"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 10:11:47 +0300
Processing by AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 07:11:47.243568"], ["updated_at", "2017-08-08 07:11:47.243568"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 406 Not Acceptable in 25ms (ActiveRecord: 0.5ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:12:51.596463', '2017-08-08 07:12:51.596463', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:12:51.596463', '2017-08-08 07:12:51.596463', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:12:51.599182', '2017-08-08 07:12:51.599182', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:12:51.599182', '2017-08-08 07:12:51.599182', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:12:51.601003', '2017-08-08 07:12:51.601003', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:12:51.601003', '2017-08-08 07:12:51.601003', 298486374)[0m
  [1m[35m (113.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$KUGIv0zdcO1JDqVJONeivu6MpkIzr9.2KDacs2V3B885/H1.X3h9u"], ["created_at", "2017-08-08 07:12:51.831224"], ["updated_at", "2017-08-08 07:12:51.831224"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:12:51 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:12:51.893312"], ["last_sign_in_at", "2017-08-08 07:12:51.893312"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:12:51.893945"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 38ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 10:12:51 +0300
Processing by AccountsController#create as HTML
  Parameters: {"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 400 Bad Request in 10ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:12:51 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.7ms)
Completed 200 OK in 425ms (Views: 424.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$YJ1A1rtc6k1vH6m3ODq9wOhQsYCHBXLiglBXQ81onwVizYrmMFD12"], ["created_at", "2017-08-08 07:12:52.373163"], ["updated_at", "2017-08-08 07:12:52.373163"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:12:52 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:12:52.378837"], ["last_sign_in_at", "2017-08-08 07:12:52.378837"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:12:52.379380"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:12:52 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:12:52 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:12:52 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$NNPburjnSAOewKgwWpQ4guctoRToFLxyAKAlAhKZu7kRMRTBAosu2"], ["created_at", "2017-08-08 07:12:52.404712"], ["updated_at", "2017-08-08 07:12:52.404712"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:12:52 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:12:52.410346"], ["last_sign_in_at", "2017-08-08 07:12:52.410346"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:12:52.410817"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 10:12:52 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 302 Found in 3ms (Views: 2.5ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 10:12:52 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:12:52 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$kITbdetfls4khm64hrZGDubefkjNOxc8pMsTIIJUHnqXUQxjOCy.O"], ["created_at", "2017-08-08 07:12:52.436983"], ["updated_at", "2017-08-08 07:12:52.436983"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:12:52 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:12:52.442376"], ["last_sign_in_at", "2017-08-08 07:12:52.442376"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:12:52.442824"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:12:52 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:13:13.923854', '2017-08-08 07:13:13.923854', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:13:13.923854', '2017-08-08 07:13:13.923854', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:13:13.927040', '2017-08-08 07:13:13.927040', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:13:13.927040', '2017-08-08 07:13:13.927040', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:13:13.929005', '2017-08-08 07:13:13.929005', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:13:13.929005', '2017-08-08 07:13:13.929005', 298486374)[0m
  [1m[35m (499.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$cW36nsc5Z4csplH3d4/8BOmFMozNfCmcZttHAQdQyVh0f76WzDJUG"], ["created_at", "2017-08-08 07:13:14.535080"], ["updated_at", "2017-08-08 07:13:14.535080"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:13:14 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:13:14.609360"], ["last_sign_in_at", "2017-08-08 07:13:14.609360"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:13:14.610033"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 27ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 10:13:14 +0300
Processing by AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 07:13:14.648127"], ["updated_at", "2017-08-08 07:13:14.648127"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 406 Not Acceptable in 20ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$I/nD05.xaansjHaXeLdUV.NeGohGRy0s2taN6hHd..EVIQvwbQBJW"], ["created_at", "2017-08-08 07:13:14.658374"], ["updated_at", "2017-08-08 07:13:14.658374"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:13:14 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:13:14.664326"], ["last_sign_in_at", "2017-08-08 07:13:14.664326"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:13:14.664818"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:13:14 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.8ms)
Completed 200 OK in 467ms (Views: 464.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$I77kfg6a/tj5wqK1ShLZPOkbC5b./c3rf0JtmVp6Yb5DCGrP71xh2"], ["created_at", "2017-08-08 07:13:15.149875"], ["updated_at", "2017-08-08 07:13:15.149875"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:13:15 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:13:15.157288"], ["last_sign_in_at", "2017-08-08 07:13:15.157288"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:13:15.158340"], ["id", 2]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:13:15 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:13:15 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.8ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:13:15 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:13:15 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$tT9RSMEI.NTsWNyJ3Yyuqecv7q/26JVF0lTg39Fe4j.KZSNXKqWAW"], ["created_at", "2017-08-08 07:13:15.203310"], ["updated_at", "2017-08-08 07:13:15.203310"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:13:15 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:13:15.208708"], ["last_sign_in_at", "2017-08-08 07:13:15.208708"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:13:15.209204"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 10:13:15 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 302 Found in 3ms (Views: 2.5ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 10:13:15 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:13:15 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:15:04.582326', '2017-08-08 07:15:04.582326', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:15:04.582326', '2017-08-08 07:15:04.582326', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:15:04.586019', '2017-08-08 07:15:04.586019', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:15:04.586019', '2017-08-08 07:15:04.586019', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:15:04.588132', '2017-08-08 07:15:04.588132', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:15:04.588132', '2017-08-08 07:15:04.588132', 298486374)[0m
  [1m[35m (44.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:15:04 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 10ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:15:04 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$PRskvKE.OCgR1DCovz/is.RsHesYCZQ9vBaWvtsvdlIHl.Hg/epJ6"], ["created_at", "2017-08-08 07:15:04.811049"], ["updated_at", "2017-08-08 07:15:04.811049"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:15:04 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:15:04.825459"], ["last_sign_in_at", "2017-08-08 07:15:04.825459"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:15:04.826095"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 15ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:15:04 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.8ms)
Completed 200 OK in 445ms (Views: 443.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:15:05 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$QJO6AoYOmfyEWeOLCXaYP.qDjqNmbI6NwGPjkTNN1.ycjqx02Njq2"], ["created_at", "2017-08-08 07:15:05.296579"], ["updated_at", "2017-08-08 07:15:05.296579"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:15:05 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:15:05.302820"], ["last_sign_in_at", "2017-08-08 07:15:05.302820"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:15:05.303563"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:15:05 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:15:05 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$Z4rR0VmuKRM.Z8qxjKgwo.7S/V4VlPawM6nxkqRjnMV42Fn1GVNFG"], ["created_at", "2017-08-08 07:15:05.322264"], ["updated_at", "2017-08-08 07:15:05.322264"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:15:05 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:15:05.327716"], ["last_sign_in_at", "2017-08-08 07:15:05.327716"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:15:05.328230"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 10:15:05 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.3ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 10:15:05 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$MCpsf29S36u1DYFSeaYTOO2ZDKqIpofgQChNwyaOUqIbkd/8RNBDG"], ["created_at", "2017-08-08 07:15:05.351157"], ["updated_at", "2017-08-08 07:15:05.351157"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:15:05 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:15:05.356541"], ["last_sign_in_at", "2017-08-08 07:15:05.356541"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:15:05.357002"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:15:26.388288', '2017-08-08 07:15:26.388288', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:15:26.388288', '2017-08-08 07:15:26.388288', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:15:26.391446', '2017-08-08 07:15:26.391446', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:15:26.391446', '2017-08-08 07:15:26.391446', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:15:26.393301', '2017-08-08 07:15:26.393301', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:15:26.393301', '2017-08-08 07:15:26.393301', 298486374)[0m
  [1m[35m (52.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$3friX1/Glc7A2zT/dJNF2echLfq7r609gk3zV5F.mM/TDMr.0ANym"], ["created_at", "2017-08-08 07:15:26.561316"], ["updated_at", "2017-08-08 07:15:26.561316"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:15:26 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:15:26.636700"], ["last_sign_in_at", "2017-08-08 07:15:26.636700"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:15:26.637361"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 28ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 10:15:26 +0300
Processing by AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 07:15:26.678825"], ["updated_at", "2017-08-08 07:15:26.678825"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 406 Not Acceptable in 21ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$hzKzUPWJo022OosrH.jN9OMm/gD4oDCFF1upBBwRQ3vVEMku0YKE."], ["created_at", "2017-08-08 07:15:26.690229"], ["updated_at", "2017-08-08 07:15:26.690229"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:15:26 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:15:26.697507"], ["last_sign_in_at", "2017-08-08 07:15:26.697507"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:15:26.698159"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:15:26 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (1.2ms)
Completed 200 OK in 462ms (Views: 459.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:15:27 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:15:27 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$FTruIjB9UgdosU8OEqv2hebjOYwZuQT06Xoi5dvJkpKbZYRFzC7BS"], ["created_at", "2017-08-08 07:15:27.183562"], ["updated_at", "2017-08-08 07:15:27.183562"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:15:27 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:15:27.189599"], ["last_sign_in_at", "2017-08-08 07:15:27.189599"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:15:27.190078"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 10:15:27 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 302 Found in 3ms (Views: 2.6ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 10:15:27 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$w6fXN1qJ6BipyvbHRd0PEei/PehbFq5Bwsvt0t4sBw7bCbWTAfjFO"], ["created_at", "2017-08-08 07:15:27.231635"], ["updated_at", "2017-08-08 07:15:27.231635"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:15:27 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:15:27.237023"], ["last_sign_in_at", "2017-08-08 07:15:27.237023"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:15:27.237487"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:15:27 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.4ms)
Completed 200 OK in 7ms (Views: 3.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:15:27 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:15:27 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:15:44.450386', '2017-08-08 07:15:44.450386', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:15:44.450386', '2017-08-08 07:15:44.450386', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:15:44.453161', '2017-08-08 07:15:44.453161', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:15:44.453161', '2017-08-08 07:15:44.453161', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:15:44.454998', '2017-08-08 07:15:44.454998', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:15:44.454998', '2017-08-08 07:15:44.454998', 298486374)[0m
  [1m[35m (58.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$wkZkO91EMCVP/2d9xLGxzOpvu8dF0UgZ63Mq2ITmJJikuvAPFr86O"], ["created_at", "2017-08-08 07:15:44.637320"], ["updated_at", "2017-08-08 07:15:44.637320"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:15:44 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:15:44.696280"], ["last_sign_in_at", "2017-08-08 07:15:44.696280"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:15:44.696871"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 27ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 10:15:44 +0300
Processing by AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 07:15:44.735184"], ["updated_at", "2017-08-08 07:15:44.735184"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 406 Not Acceptable in 20ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$siVUK7MK8ja6NKJikifDaOCSwKPWMOED0bQ2uIVROBIf4k6WkpGq2"], ["created_at", "2017-08-08 07:15:44.746213"], ["updated_at", "2017-08-08 07:15:44.746213"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:15:44 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:15:44.751910"], ["last_sign_in_at", "2017-08-08 07:15:44.751910"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:15:44.752387"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 0.6ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:15:44 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (1.0ms)
Completed 200 OK in 471ms (Views: 467.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:15:45 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:15:45 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$3g5jZn1FG.4Up2J8Tv1l2OOzXl1Ls6KBOWNctvnFgjCaIQ2L0sj9u"], ["created_at", "2017-08-08 07:15:45.269943"], ["updated_at", "2017-08-08 07:15:45.269943"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:15:45 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:15:45.277809"], ["last_sign_in_at", "2017-08-08 07:15:45.277809"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:15:45.278777"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 0.9ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:15:45 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 5ms (Views: 2.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:15:45 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.4ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:15:45 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$HOMpgtNcuHpm0trtkxK1P.jEqwPK9aMRsr26drX6gSjm8Oh3A5ARG"], ["created_at", "2017-08-08 07:15:45.318209"], ["updated_at", "2017-08-08 07:15:45.318209"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:15:45 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:15:45.324031"], ["last_sign_in_at", "2017-08-08 07:15:45.324031"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:15:45.324607"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 10:15:45 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.6ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 10:15:45 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:16:47.593809', '2017-08-08 07:16:47.593809', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:16:47.593809', '2017-08-08 07:16:47.593809', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:16:47.596792', '2017-08-08 07:16:47.596792', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:16:47.596792', '2017-08-08 07:16:47.596792', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:16:47.598603', '2017-08-08 07:16:47.598603', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:16:47.598603', '2017-08-08 07:16:47.598603', 298486374)[0m
  [1m[35m (184.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:16:47 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 11ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$MS9SNZccsL50FuP6W6hqE.zSEQqXXgfIRkLip6x.LR.cAWQBqdJV."], ["created_at", "2017-08-08 07:16:47.948049"], ["updated_at", "2017-08-08 07:16:47.948049"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:16:47 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:16:47.962616"], ["last_sign_in_at", "2017-08-08 07:16:47.962616"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:16:47.963229"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 0.6ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:16:47 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.8ms)
Completed 200 OK in 447ms (Views: 444.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$Zox1QWNvjSfxkDSCkBdcDempsg33VW0fAGM6Hv6NOPEhVRSDtq8W6"], ["created_at", "2017-08-08 07:16:48.430353"], ["updated_at", "2017-08-08 07:16:48.430353"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:16:48 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:16:48.436296"], ["last_sign_in_at", "2017-08-08 07:16:48.436296"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:16:48.436811"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:16:48 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:16:48 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$AIQVK4JZARU4cKDOybu/9OIqBoM28BTUh0ZTJA.TBvQYaH1WxDoKC"], ["created_at", "2017-08-08 07:16:48.455509"], ["updated_at", "2017-08-08 07:16:48.455509"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:16:48 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:16:48.461590"], ["last_sign_in_at", "2017-08-08 07:16:48.461590"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:16:48.462162"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 10:16:48 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.3ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 10:16:48 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:16:48 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:16:48 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$SabRsCf4.FFa8XGu43Svu.9zSsJD5C1KfQdZ3CQ2KU/raSk.lJAvO"], ["created_at", "2017-08-08 07:16:48.493806"], ["updated_at", "2017-08-08 07:16:48.493806"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:16:48 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:16:48.499203"], ["last_sign_in_at", "2017-08-08 07:16:48.499203"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:16:48.499644"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 10:16:48 +0300
Processing by AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 07:16:48.546679"], ["updated_at", "2017-08-08 07:16:48.546679"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 406 Not Acceptable in 41ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:17:01.671746', '2017-08-08 07:17:01.671746', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:17:01.671746', '2017-08-08 07:17:01.671746', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:17:01.675008', '2017-08-08 07:17:01.675008', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:17:01.675008', '2017-08-08 07:17:01.675008', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:17:01.677354', '2017-08-08 07:17:01.677354', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:17:01.677354', '2017-08-08 07:17:01.677354', 298486374)[0m
  [1m[35m (73.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$2DJee.GGxmHHZUQoUqCLkuG5AvrXOv0e95RWf5ZwdXPT.sCs//xiC"], ["created_at", "2017-08-08 07:17:01.861530"], ["updated_at", "2017-08-08 07:17:01.861530"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:17:01 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:17:01.933790"], ["last_sign_in_at", "2017-08-08 07:17:01.933790"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:17:01.934485"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 28ms (ActiveRecord: 0.6ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:17:01 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.7ms)
Completed 200 OK in 433ms (Views: 430.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:17:02 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.8ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$8cETvOrtfq3H.6yHgFP5ouh5hk9tKw8hDpqpHDqzHFTRgawTva0pm"], ["created_at", "2017-08-08 07:17:02.399352"], ["updated_at", "2017-08-08 07:17:02.399352"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:17:02 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:17:02.405296"], ["last_sign_in_at", "2017-08-08 07:17:02.405296"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:17:02.405747"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 10:17:02 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.5ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 10:17:02 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:17:02 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:17:02 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$nD6Yo7J8D5vPNSyog4ah/.D6KzTrGRG6hsoTGFCfyUNNHIhouoGd."], ["created_at", "2017-08-08 07:17:02.441630"], ["updated_at", "2017-08-08 07:17:02.441630"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:17:02 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:17:02.447390"], ["last_sign_in_at", "2017-08-08 07:17:02.447390"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:17:02.448296"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:17:02 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 23ms (Views: 21.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:17:02 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$bvoyEgNnbCjP8GNI4/PUoOvg34cLGWGQqDEQtz3fB5.bNe2enqxaG"], ["created_at", "2017-08-08 07:17:02.487342"], ["updated_at", "2017-08-08 07:17:02.487342"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:17:02 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:17:02.492832"], ["last_sign_in_at", "2017-08-08 07:17:02.492832"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:17:02.493296"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 10:17:02 +0300
Processing by AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 07:17:02.518415"], ["updated_at", "2017-08-08 07:17:02.518415"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 406 Not Acceptable in 19ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:18:20.940092', '2017-08-08 07:18:20.940092', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:18:20.940092', '2017-08-08 07:18:20.940092', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:18:20.943730', '2017-08-08 07:18:20.943730', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:18:20.943730', '2017-08-08 07:18:20.943730', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:18:20.945807', '2017-08-08 07:18:20.945807', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:18:20.945807', '2017-08-08 07:18:20.945807', 298486374)[0m
  [1m[35m (143.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$o7gG3qLoiE73So7lbWhF2eI2INubwat06F7Uf7gRHKSX5g3pT.SQO"], ["created_at", "2017-08-08 07:18:21.211782"], ["updated_at", "2017-08-08 07:18:21.211782"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:18:21 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:18:21.268062"], ["last_sign_in_at", "2017-08-08 07:18:21.268062"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:18:21.268603"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 27ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 10:18:21 +0300
Processing by AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"Lorem ipsum"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 406 Not Acceptable in 19ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:18:21 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.8ms)
Completed 200 OK in 445ms (Views: 444.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:18:21 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:18:21 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.5ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$QcRREFoeg.93tnRb.r5MeOQF9EaoTEJIFg8.2XMq4CO0LTKtx8y2."], ["created_at", "2017-08-08 07:18:21.777270"], ["updated_at", "2017-08-08 07:18:21.777270"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:18:21 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:18:21.782984"], ["last_sign_in_at", "2017-08-08 07:18:21.782984"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:18:21.783444"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 10:18:21 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 302 Found in 3ms (Views: 2.5ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 10:18:21 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$TYvaY392kC3.QqkHPm/Jy.q6THStC8bDUC0VqxN7F5lT3JAbMqMTa"], ["created_at", "2017-08-08 07:18:21.803326"], ["updated_at", "2017-08-08 07:18:21.803326"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:18:21 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:18:21.809747"], ["last_sign_in_at", "2017-08-08 07:18:21.809747"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:18:21.810536"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:18:21 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.4ms)
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:18:21 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$nTHg81u4a5bukDOF7AjJuu4KSxd0IczYa0PBlz/XIlf/gf9W42jBS"], ["created_at", "2017-08-08 07:18:21.830586"], ["updated_at", "2017-08-08 07:18:21.830586"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:18:21 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:18:21.836645"], ["last_sign_in_at", "2017-08-08 07:18:21.836645"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:18:21.837159"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:18:21 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.4ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:19:10.831595', '2017-08-08 07:19:10.831595', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:19:10.831595', '2017-08-08 07:19:10.831595', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:19:10.834597', '2017-08-08 07:19:10.834597', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:19:10.834597', '2017-08-08 07:19:10.834597', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:19:10.836669', '2017-08-08 07:19:10.836669', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:19:10.836669', '2017-08-08 07:19:10.836669', 298486374)[0m
  [1m[35m (66.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$kLqbKLMV9/bvy1YeXgpBION0vN63Hl2O0.fAD9V0W0EVjTCdb6sJa"], ["created_at", "2017-08-08 07:19:11.021531"], ["updated_at", "2017-08-08 07:19:11.021531"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:19:11 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:19:11.080556"], ["last_sign_in_at", "2017-08-08 07:19:11.080556"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:19:11.081189"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 28ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts?balance=4000&currency=USD&name=Lorem+ipsum" for 127.0.0.1 at 2017-08-08 10:19:11 +0300
Processing by AccountsController#create as HTML
  Parameters: {"balance"=>"4000", "currency"=>"USD", "name"=>"Lorem ipsum"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 400 Bad Request in 8ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$PFKDZ61OcBZsP3Guzreg/OoDOAvVcw1o4PDbMqo4F4P4N1FFSQb.K"], ["created_at", "2017-08-08 07:19:11.117738"], ["updated_at", "2017-08-08 07:19:11.117738"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:19:11 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:19:11.123794"], ["last_sign_in_at", "2017-08-08 07:19:11.123794"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:19:11.124719"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:19:11 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.9ms)
Completed 200 OK in 445ms (Views: 443.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:19:11 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$KzRVXuy0d33pPOdi1bLK7OseCmYYqw7ULRTwc6whOgmNUwUP8MA4e"], ["created_at", "2017-08-08 07:19:11.590559"], ["updated_at", "2017-08-08 07:19:11.590559"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:19:11 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:19:11.596897"], ["last_sign_in_at", "2017-08-08 07:19:11.596897"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:19:11.597393"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:19:11 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:19:11 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$9IU9zkyUdkg00ez/nBV8eeBjv467GqKyIidl1trXb/Z6PDyS3HL0q"], ["created_at", "2017-08-08 07:19:11.617212"], ["updated_at", "2017-08-08 07:19:11.617212"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:19:11 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:19:11.622478"], ["last_sign_in_at", "2017-08-08 07:19:11.622478"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:19:11.622918"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 10:19:11 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 302 Found in 3ms (Views: 2.5ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 10:19:11 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:19:11 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:19:11 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.5ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:19:46.041754', '2017-08-08 07:19:46.041754', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:19:46.041754', '2017-08-08 07:19:46.041754', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:19:46.046368', '2017-08-08 07:19:46.046368', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:19:46.046368', '2017-08-08 07:19:46.046368', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:19:46.049935', '2017-08-08 07:19:46.049935', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:19:46.049935', '2017-08-08 07:19:46.049935', 298486374)[0m
  [1m[35m (76.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$2Ue/gKvmAmqbVrVn0rL9fOnBegB1x00trVangupYTHv1hNR6hq4o6"], ["created_at", "2017-08-08 07:19:46.240170"], ["updated_at", "2017-08-08 07:19:46.240170"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:19:46 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:19:46.315484"], ["last_sign_in_at", "2017-08-08 07:19:46.315484"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:19:46.316245"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 27ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$pFatH00i5ZoLUOhvq2njSuqfE0ObeN/mZ9y8Ib7ZpwAoJfZCMKPpy"], ["created_at", "2017-08-08 07:19:46.341217"], ["updated_at", "2017-08-08 07:19:46.341217"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:19:46 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:19:46.347787"], ["last_sign_in_at", "2017-08-08 07:19:46.347787"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:19:46.348386"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:19:46 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.8ms)
Completed 200 OK in 400ms (Views: 397.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:19:46 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:19:46 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:19:46 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (2.5ms)
Completed 200 OK in 12ms (Views: 9.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:19:46 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.4ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$Zt2cQSS5J4PWVkQtdUb3LOe1yIdWp3D6x4tY6da6ApERyn4c9EFAW"], ["created_at", "2017-08-08 07:19:46.833355"], ["updated_at", "2017-08-08 07:19:46.833355"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:19:46 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:19:46.842064"], ["last_sign_in_at", "2017-08-08 07:19:46.842064"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:19:46.842586"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 10:19:46 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (2.1ms)
Completed 302 Found in 6ms (Views: 5.7ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 10:19:46 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$Oshkf7jof4I90Qd/NBv3r.C0RK3mJX8pMBK93g7CSVO7tXJEbQT/W"], ["created_at", "2017-08-08 07:19:46.878478"], ["updated_at", "2017-08-08 07:19:46.878478"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:19:46 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:19:46.886103"], ["last_sign_in_at", "2017-08-08 07:19:46.886103"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:19:46.886600"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:19:46 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:20:02.453855', '2017-08-08 07:20:02.453855', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:20:02.453855', '2017-08-08 07:20:02.453855', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:20:02.457048', '2017-08-08 07:20:02.457048', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:20:02.457048', '2017-08-08 07:20:02.457048', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:20:02.458845', '2017-08-08 07:20:02.458845', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:20:02.458845', '2017-08-08 07:20:02.458845', 298486374)[0m
  [1m[35m (46.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$uFSi2Fs3yPvHnsBtMtiah.XpiwASsguAJAjV689MrHpAt4CzntayK"], ["created_at", "2017-08-08 07:20:02.622866"], ["updated_at", "2017-08-08 07:20:02.622866"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:20:02 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:20:02.681975"], ["last_sign_in_at", "2017-08-08 07:20:02.681975"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:20:02.682769"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 28ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 10:20:02 +0300
Processing by AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"Lorem ipsum"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 406 Not Acceptable in 20ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$QQP9FGy8zXDFgPT0ChCJcuNelbdNKz1kEOEioxvgL//jVx18mIOcS"], ["created_at", "2017-08-08 07:20:02.734170"], ["updated_at", "2017-08-08 07:20:02.734170"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:20:02 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:20:02.740816"], ["last_sign_in_at", "2017-08-08 07:20:02.740816"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:20:02.741452"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:20:02 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.9ms)
Completed 200 OK in 468ms (Views: 466.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:20:03 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$1bCHvJPQMA2PDqBLoyRHae2C4kGiDge3AkjZdx//m3zwDr71XACeS"], ["created_at", "2017-08-08 07:20:03.229305"], ["updated_at", "2017-08-08 07:20:03.229305"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:20:03 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:20:03.235269"], ["last_sign_in_at", "2017-08-08 07:20:03.235269"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:20:03.235858"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:20:03 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:20:03 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:20:03 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$rciz7hIZo/YCZiezfQ.YZuksec9IkKaQcvlP3MzWqiU9gt8Sog8qK"], ["created_at", "2017-08-08 07:20:03.259854"], ["updated_at", "2017-08-08 07:20:03.259854"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:20:03 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:20:03.264776"], ["last_sign_in_at", "2017-08-08 07:20:03.264776"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:20:03.265200"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 10:20:03 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.3ms)
Completed 302 Found in 4ms (Views: 3.1ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 10:20:03 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:20:03 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:27:38.325867', '2017-08-08 07:27:38.325867', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:27:38.325867', '2017-08-08 07:27:38.325867', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:27:38.329243', '2017-08-08 07:27:38.329243', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:27:38.329243', '2017-08-08 07:27:38.329243', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:27:38.331086', '2017-08-08 07:27:38.331086', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:27:38.331086', '2017-08-08 07:27:38.331086', 298486374)[0m
  [1m[35m (93.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:27:38 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 11ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$EDbIO8slOlciHa7nXc9jquEh6VQWhNitLlnOD1TzKZspcmenogN22"], ["created_at", "2017-08-08 07:27:38.583411"], ["updated_at", "2017-08-08 07:27:38.583411"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:27:38 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:27:38.599125"], ["last_sign_in_at", "2017-08-08 07:27:38.599125"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:27:38.599780"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 0.6ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:27:38 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.9ms)
Completed 200 OK in 420ms (Views: 418.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:27:39 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:27:39 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$ArkKB5x1n1fWuEWbmeAFb.cEygHVK0CmuWfObXSHpRj4ErGa0GcgC"], ["created_at", "2017-08-08 07:27:39.051468"], ["updated_at", "2017-08-08 07:27:39.051468"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:27:39 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:27:39.056776"], ["last_sign_in_at", "2017-08-08 07:27:39.056776"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:27:39.057234"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:27:39 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:27:39 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$5TFJzGjBcmYtPDYJekP4v.2ciXtsJP9woUi.vvWe9zSSGXcupVF3y"], ["created_at", "2017-08-08 07:27:39.076364"], ["updated_at", "2017-08-08 07:27:39.076364"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:27:39 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:27:39.081910"], ["last_sign_in_at", "2017-08-08 07:27:39.081910"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:27:39.082377"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 10:27:39 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 302 Found in 3ms (Views: 2.4ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 10:27:39 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$yM3lAqMtkur3mV/EDlzE4uUKe054sZdsvC/GI87oY35xPIZel5SM6"], ["created_at", "2017-08-08 07:27:39.105240"], ["updated_at", "2017-08-08 07:27:39.105240"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:27:39 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:27:39.112505"], ["last_sign_in_at", "2017-08-08 07:27:39.112505"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:27:39.113122"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 10:27:39 +0300
Processing by AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"Lorem ipsum"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 406 Not Acceptable in 42ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:28:27.047349', '2017-08-08 07:28:27.047349', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:28:27.047349', '2017-08-08 07:28:27.047349', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:28:27.050735', '2017-08-08 07:28:27.050735', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:28:27.050735', '2017-08-08 07:28:27.050735', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:28:27.052737', '2017-08-08 07:28:27.052737', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:28:27.052737', '2017-08-08 07:28:27.052737', 298486374)[0m
  [1m[35m (107.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$ZqCAoAf0LRYR9rBMaiDNZeA0CrzRhOv1QlJCzEM0DrEfC4qpTFGV."], ["created_at", "2017-08-08 07:28:27.271211"], ["updated_at", "2017-08-08 07:28:27.271211"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:28:27 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:28:27.330557"], ["last_sign_in_at", "2017-08-08 07:28:27.330557"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:28:27.331318"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 29ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:28:27 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:28:27 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$8RG5v4u1T/EAWQ6Mlv0Cue2g3y/5GEQRP.qFXk8knCSvJmie6TtZK"], ["created_at", "2017-08-08 07:28:27.370936"], ["updated_at", "2017-08-08 07:28:27.370936"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:28:27 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:28:27.377105"], ["last_sign_in_at", "2017-08-08 07:28:27.377105"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:28:27.377677"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:28:27 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (1.0ms)
Completed 200 OK in 419ms (Views: 417.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:28:27 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.9ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$4GQRYHnrA4LCm7U.KkUJ/.4JjUJkY1kxdvWaO6s6YF39tHV2dHEmu"], ["created_at", "2017-08-08 07:28:27.822519"], ["updated_at", "2017-08-08 07:28:27.822519"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:28:27 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:28:27.834918"], ["last_sign_in_at", "2017-08-08 07:28:27.834918"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:28:27.836273"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 0.6ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:28:27 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 7ms (Views: 3.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:28:27 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.5ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$ErkU0vMZuIZwEPhwPqqtZeSWIP2YHZ6lu7x7f11Ld1ek18rhqEPNC"], ["created_at", "2017-08-08 07:28:27.862153"], ["updated_at", "2017-08-08 07:28:27.862153"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:28:27 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:28:27.868465"], ["last_sign_in_at", "2017-08-08 07:28:27.868465"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:28:27.868879"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 10:28:27 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 302 Found in 3ms (Views: 2.8ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 10:28:27 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:31:04.384732', '2017-08-08 07:31:04.384732', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:31:04.384732', '2017-08-08 07:31:04.384732', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:31:04.387286', '2017-08-08 07:31:04.387286', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:31:04.387286', '2017-08-08 07:31:04.387286', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:31:04.389067', '2017-08-08 07:31:04.389067', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:31:04.389067', '2017-08-08 07:31:04.389067', 298486374)[0m
  [1m[35m (126.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:31:04 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (4.1ms)
Completed 200 OK in 437ms (Views: 430.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:31:05 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:31:05 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$t9INSz6681YZnpZJqXrjT.wFUY.RszQk3p00Sp2fvMObrlOgqYfKm"], ["created_at", "2017-08-08 07:31:05.103270"], ["updated_at", "2017-08-08 07:31:05.103270"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:31:05 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:31:05.116528"], ["last_sign_in_at", "2017-08-08 07:31:05.116528"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:31:05.117076"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 13ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 10:31:05 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.4ms)
Completed 302 Found in 4ms (Views: 2.9ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 10:31:05 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$ntvpaBX4npf7h8QcEW7TGOoWKyjgqiSqXi65Ds7X3Haxqk8UZx8Va"], ["created_at", "2017-08-08 07:31:05.143497"], ["updated_at", "2017-08-08 07:31:05.143497"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:31:05 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:31:05.149883"], ["last_sign_in_at", "2017-08-08 07:31:05.149883"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:31:05.150454"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:31:05 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.4ms)
Completed 200 OK in 7ms (Views: 3.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$y64cDfe5Ata8CFXkj9EWHuFa.05wnQqAdWjX6vK44KPFGLDU2S.IO"], ["created_at", "2017-08-08 07:31:05.172096"], ["updated_at", "2017-08-08 07:31:05.172096"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:31:05 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:31:05.198269"], ["last_sign_in_at", "2017-08-08 07:31:05.198269"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:31:05.198771"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:31:05 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.4ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:31:05 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$LwVPfINbEXYPeVqJxcX3q.LVs4cDBcYB6nycX33CLmSX2gW//NmiO"], ["created_at", "2017-08-08 07:31:05.218377"], ["updated_at", "2017-08-08 07:31:05.218377"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:31:05 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:31:05.223838"], ["last_sign_in_at", "2017-08-08 07:31:05.223838"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:31:05.224365"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 10:31:05 +0300
Processing by AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"Lorem ipsum"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 406 Not Acceptable in 20ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:33:39.123194', '2017-08-08 07:33:39.123194', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:33:39.123194', '2017-08-08 07:33:39.123194', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:33:39.126053', '2017-08-08 07:33:39.126053', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:33:39.126053', '2017-08-08 07:33:39.126053', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:33:39.127803', '2017-08-08 07:33:39.127803', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:33:39.127803', '2017-08-08 07:33:39.127803', 298486374)[0m
  [1m[35m (51.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$1jKrFSfN3Gewzvk2BOr21uIjGVihL86SQeo2SPQjQF5j6rBiMxErW"], ["created_at", "2017-08-08 07:33:39.279163"], ["updated_at", "2017-08-08 07:33:39.279163"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:33:39 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:33:39.359606"], ["last_sign_in_at", "2017-08-08 07:33:39.359606"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:33:39.360170"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 10:33:39 +0300
Processing by AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 07:33:39.398833"], ["updated_at", "2017-08-08 07:33:39.398833"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 406 Not Acceptable in 20ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$ueqLqvSDxoTaFda8Qxc3BONvvAl9if642b8TgPbk/nt0oKxgt/YVy"], ["created_at", "2017-08-08 07:33:39.409753"], ["updated_at", "2017-08-08 07:33:39.409753"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:33:39 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:33:39.415889"], ["last_sign_in_at", "2017-08-08 07:33:39.415889"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:33:39.416445"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:33:39 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.7ms)
Completed 200 OK in 422ms (Views: 419.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:33:39 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:33:39 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.8ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$1Z4WUlQV272AMv6EP0Gnz.vV2dRKpAlnleuPIqJE6BJKFZ5XS/IOS"], ["created_at", "2017-08-08 07:33:39.889127"], ["updated_at", "2017-08-08 07:33:39.889127"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:33:39 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:33:39.897323"], ["last_sign_in_at", "2017-08-08 07:33:39.897323"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:33:39.897776"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 10:33:39 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.8ms)
Completed 302 Found in 6ms (Views: 4.9ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 10:33:39 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:33:39 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:33:39 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$JL.y8o3HUwj72EFrivmuLOQbmqA65eQJig4EwR8lzBShYb.OPTdYi"], ["created_at", "2017-08-08 07:33:39.941414"], ["updated_at", "2017-08-08 07:33:39.941414"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:33:39 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:33:39.946944"], ["last_sign_in_at", "2017-08-08 07:33:39.946944"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:33:39.947396"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:33:39 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 5ms (Views: 2.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:33:58.842391', '2017-08-08 07:33:58.842391', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:33:58.842391', '2017-08-08 07:33:58.842391', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:33:58.855846', '2017-08-08 07:33:58.855846', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:33:58.855846', '2017-08-08 07:33:58.855846', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:33:58.858534', '2017-08-08 07:33:58.858534', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:33:58.858534', '2017-08-08 07:33:58.858534', 298486374)[0m
  [1m[35m (77.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$2pNJFYWgiM5Gpgi7ps42ZOUS0knDZrovdKMRDQWcp5jxYevAEuk/."], ["created_at", "2017-08-08 07:33:59.037184"], ["updated_at", "2017-08-08 07:33:59.037184"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:33:59 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:33:59.108082"], ["last_sign_in_at", "2017-08-08 07:33:59.108082"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:33:59.108597"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 30ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:33:59 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.3ms)
Completed 200 OK in 428ms (Views: 427.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$xuMZYR7goozIL4HiU9ifFOFFcgs9AknDU81bhVh6PGQTtykfk/z/u"], ["created_at", "2017-08-08 07:33:59.567367"], ["updated_at", "2017-08-08 07:33:59.567367"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:33:59 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:33:59.574448"], ["last_sign_in_at", "2017-08-08 07:33:59.574448"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:33:59.575199"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.7ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:33:59 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.4ms)
Completed 200 OK in 6ms (Views: 2.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:33:59 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:33:59 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.5ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$1Y9cHIz5wNEsrwIMWZp9FefOIhbL4p8A1eGfNdpUyCiFbKnhPAmXS"], ["created_at", "2017-08-08 07:33:59.612317"], ["updated_at", "2017-08-08 07:33:59.612317"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:33:59 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:33:59.620364"], ["last_sign_in_at", "2017-08-08 07:33:59.620364"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:33:59.621120"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 10:33:59 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 302 Found in 3ms (Views: 2.5ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 10:33:59 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$saXsmllSyF3VV0iEAJWqiOoLFOWBS7H3SctxML0XKpNMLN0lVkp4y"], ["created_at", "2017-08-08 07:33:59.641899"], ["updated_at", "2017-08-08 07:33:59.641899"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:33:59 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:33:59.648333"], ["last_sign_in_at", "2017-08-08 07:33:59.648333"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:33:59.648787"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:33:59 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:33:59 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:34:10.305613', '2017-08-08 07:34:10.305613', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:34:10.305613', '2017-08-08 07:34:10.305613', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:34:10.308200', '2017-08-08 07:34:10.308200', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:34:10.308200', '2017-08-08 07:34:10.308200', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:34:10.309940', '2017-08-08 07:34:10.309940', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:34:10.309940', '2017-08-08 07:34:10.309940', 298486374)[0m
  [1m[35m (57.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$ZQ7S15gG2HAhzX7QCYgAtefayk3Ub2ANPdhV7iimPBRFfBbAyDDNa"], ["created_at", "2017-08-08 07:34:10.461711"], ["updated_at", "2017-08-08 07:34:10.461711"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:34:10 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:34:10.519838"], ["last_sign_in_at", "2017-08-08 07:34:10.519838"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:34:10.520477"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 10:34:10 +0300
Processing by AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 07:34:10.564849"], ["updated_at", "2017-08-08 07:34:10.564849"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 406 Not Acceptable in 27ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$LwkJo.Bq1.g7bqBW17.9YepSzp5SU3R7Q0RyP8qgOyv5adw6p9ODG"], ["created_at", "2017-08-08 07:34:10.573855"], ["updated_at", "2017-08-08 07:34:10.573855"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:34:10 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:34:10.582406"], ["last_sign_in_at", "2017-08-08 07:34:10.582406"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:34:10.584477"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 2.0ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:34:10 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (1.4ms)
Completed 200 OK in 391ms (Views: 388.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:34:10 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$jeYAHLEFyXpLTFKwbOkkd.kYAlDoN4t3lHVg6qDNzSL/YLpznr/MG"], ["created_at", "2017-08-08 07:34:10.999087"], ["updated_at", "2017-08-08 07:34:10.999087"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:34:11 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:34:11.004350"], ["last_sign_in_at", "2017-08-08 07:34:11.004350"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:34:11.004838"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:34:11 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:34:11 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$zoUX83hTe7TGbUXFupvIAOnaEShWupelRmM/fXUZSPg/9WbfHtC4i"], ["created_at", "2017-08-08 07:34:11.022581"], ["updated_at", "2017-08-08 07:34:11.022581"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:34:11 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:34:11.029560"], ["last_sign_in_at", "2017-08-08 07:34:11.029560"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:34:11.030079"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 10:34:11 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 302 Found in 3ms (Views: 2.4ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 10:34:11 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:34:11 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:34:11 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:35:47.672407', '2017-08-08 07:35:47.672407', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:35:47.672407', '2017-08-08 07:35:47.672407', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:35:47.677334', '2017-08-08 07:35:47.677334', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:35:47.677334', '2017-08-08 07:35:47.677334', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:35:47.679554', '2017-08-08 07:35:47.679554', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:35:47.679554', '2017-08-08 07:35:47.679554', 298486374)[0m
  [1m[35m (62.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$2f0tL2Ynw3/GKA.psKP6y.aVHRY.M8E./qe/2mjToyrA.SMOLjGx2"], ["created_at", "2017-08-08 07:35:47.843099"], ["updated_at", "2017-08-08 07:35:47.843099"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:35:47 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:35:47.895005"], ["last_sign_in_at", "2017-08-08 07:35:47.895005"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:35:47.895519"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 30ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:35:47 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.8ms)
Completed 200 OK in 416ms (Views: 413.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:35:48 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$1kw4RBo.eMuJZlMXAP119eJZpkqFUkqyCz75IVVcAbMtfiYpbmVGS"], ["created_at", "2017-08-08 07:35:48.355521"], ["updated_at", "2017-08-08 07:35:48.355521"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:35:48 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:35:48.367067"], ["last_sign_in_at", "2017-08-08 07:35:48.367067"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:35:48.367603"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:35:48 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (1.2ms)
Completed 200 OK in 7ms (Views: 4.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:35:48 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:35:48 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:35:48 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$I9ZwdbD41CBS6DOnK2eUHOD/Bmrbs.PSMQ8sSdQvw7T5QSfS2tFum"], ["created_at", "2017-08-08 07:35:48.407098"], ["updated_at", "2017-08-08 07:35:48.407098"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:35:48 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:35:48.418078"], ["last_sign_in_at", "2017-08-08 07:35:48.418078"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:35:48.418773"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.8ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 10:35:48 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.9ms)
Completed 302 Found in 6ms (Views: 5.2ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 10:35:48 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$surbrfM53PdFlAfE.cvKR.70Tguf8C8lmHnOGfGB2Ou57JSzqjX1."], ["created_at", "2017-08-08 07:35:48.452058"], ["updated_at", "2017-08-08 07:35:48.452058"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:35:48 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:35:48.457235"], ["last_sign_in_at", "2017-08-08 07:35:48.457235"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:35:48.457672"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 10:35:48 +0300
Processing by AccountsController#create as HTML
  Parameters: {"{\"account\":{\"name\":\"Lorem ipsum\",\"balance\":4000,\"currency\":\"USD\"}}"=>nil}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 400 Bad Request in 14ms (ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:36:12.656080', '2017-08-08 07:36:12.656080', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:36:12.656080', '2017-08-08 07:36:12.656080', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:36:12.658513', '2017-08-08 07:36:12.658513', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:36:12.658513', '2017-08-08 07:36:12.658513', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:36:12.660087', '2017-08-08 07:36:12.660087', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:36:12.660087', '2017-08-08 07:36:12.660087', 298486374)[0m
  [1m[35m (120.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$XQr0XFIVSXKAX5INAZwhi.MosxZZ1qYPg1SYbVzh5BVaiIcXAuzGO"], ["created_at", "2017-08-08 07:36:12.878785"], ["updated_at", "2017-08-08 07:36:12.878785"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:36:12 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:36:12.951292"], ["last_sign_in_at", "2017-08-08 07:36:12.951292"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:36:12.952515"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 46ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 10:36:12 +0300
Processing by AccountsController#create as HTML
  Parameters: {"{\"account\":{\"name\":\"Lorem ipsum\",\"balance\":4000,\"currency\":\"USD\"}}"=>nil}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 400 Bad Request in 7ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:36:12 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:36:13 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.4ms)
Completed 200 OK in 425ms (Views: 423.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$mh1iRo81tgST/UA9i.Et.uJtjPXeO.JyaYwaEEIuRAf0DHL22SH7e"], ["created_at", "2017-08-08 07:36:13.430399"], ["updated_at", "2017-08-08 07:36:13.430399"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:36:13 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:36:13.437289"], ["last_sign_in_at", "2017-08-08 07:36:13.437289"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:36:13.437823"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 10:36:13 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.2ms)
Completed 302 Found in 4ms (Views: 3.1ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 10:36:13 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$heKEog6l04fXsuufvX.P6erw6n.TG25zC3z9L0aVWDCnPOSBJOu6S"], ["created_at", "2017-08-08 07:36:13.463823"], ["updated_at", "2017-08-08 07:36:13.463823"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:36:13 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:36:13.471403"], ["last_sign_in_at", "2017-08-08 07:36:13.471403"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:36:13.471838"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:36:13 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:36:13 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:36:13 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$kZtdfPCBZDCLARnIfMIjs.AjIIBEnGbwTP6VwHv8NpJIy5d93b2du"], ["created_at", "2017-08-08 07:36:13.492318"], ["updated_at", "2017-08-08 07:36:13.492318"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:36:13 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:36:13.497203"], ["last_sign_in_at", "2017-08-08 07:36:13.497203"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:36:13.497632"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:36:13 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:36:39.811883', '2017-08-08 07:36:39.811883', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:36:39.811883', '2017-08-08 07:36:39.811883', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:36:39.814844', '2017-08-08 07:36:39.814844', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:36:39.814844', '2017-08-08 07:36:39.814844', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:36:39.816534', '2017-08-08 07:36:39.816534', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:36:39.816534', '2017-08-08 07:36:39.816534', 298486374)[0m
  [1m[35m (171.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:36:40 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 10ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$JQimidFyTYt3UVvblJRMiOaazZQbROh0LOI0IWMwZo7Zb3K0skFx."], ["created_at", "2017-08-08 07:36:40.143321"], ["updated_at", "2017-08-08 07:36:40.143321"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:36:40 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:36:40.156604"], ["last_sign_in_at", "2017-08-08 07:36:40.156604"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:36:40.157222"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 15ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:36:40 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.7ms)
Completed 200 OK in 407ms (Views: 405.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:36:40 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$E3iudhUKB7WyXNCngoIq8eyJX/wFuZSnH/ocDLSpOi4zafYEZrl9O"], ["created_at", "2017-08-08 07:36:40.587270"], ["updated_at", "2017-08-08 07:36:40.587270"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:36:40 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:36:40.592047"], ["last_sign_in_at", "2017-08-08 07:36:40.592047"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:36:40.592452"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:36:40 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:36:40 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:36:40 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$O821TULoNEW8K3Z4dvjTguz5tZsL6/g00o9QplkxGhZBEMYNpfgw6"], ["created_at", "2017-08-08 07:36:40.611626"], ["updated_at", "2017-08-08 07:36:40.611626"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:36:40 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:36:40.617923"], ["last_sign_in_at", "2017-08-08 07:36:40.617923"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:36:40.618533"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.9ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 10:36:40 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.4ms)
Completed 302 Found in 3ms (Views: 2.7ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 10:36:40 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$4LaELicMpIRbAaJSmCnFwefVqR0E4ciPVLeoWZ3nKUDu77TPcHX4e"], ["created_at", "2017-08-08 07:36:40.637144"], ["updated_at", "2017-08-08 07:36:40.637144"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:36:40 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:36:40.642497"], ["last_sign_in_at", "2017-08-08 07:36:40.642497"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:36:40.661286"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 24ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 10:36:40 +0300
Processing by AccountsController#create as HTML
  Parameters: {"account"=>"{\"name\":\"Lorem ipsum\",\"balance\":4000,\"currency\":\"USD\"}"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:37:19.592470', '2017-08-08 07:37:19.592470', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:37:19.592470', '2017-08-08 07:37:19.592470', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:37:19.595524', '2017-08-08 07:37:19.595524', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:37:19.595524', '2017-08-08 07:37:19.595524', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:37:19.597320', '2017-08-08 07:37:19.597320', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:37:19.597320', '2017-08-08 07:37:19.597320', 298486374)[0m
  [1m[35m (176.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:37:19 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 11ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:37:19 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 200 OK in 399ms (Views: 398.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$x8gMEDGsoA8WwsLim4jQw.pVrERhKn8kMG/w4EKYmyhj38pfglC2K"], ["created_at", "2017-08-08 07:37:20.362165"], ["updated_at", "2017-08-08 07:37:20.362165"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:37:20 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:37:20.382368"], ["last_sign_in_at", "2017-08-08 07:37:20.382368"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:37:20.383171"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 15ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 10:37:20 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 302 Found in 3ms (Views: 2.9ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 10:37:20 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$rE2.ew6YIhiKjeftMizJDuLSf2I6b4.QsJYfs.aHRYi/pvMujuTlC"], ["created_at", "2017-08-08 07:37:20.410758"], ["updated_at", "2017-08-08 07:37:20.410758"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:37:20 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:37:20.425133"], ["last_sign_in_at", "2017-08-08 07:37:20.425133"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:37:20.425572"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:37:20 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:37:20 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$nCnhjvN24TQ7JueaScx7ROuWnOvU7.sS6k8iKT4P7Y7rjW6kaAd/G"], ["created_at", "2017-08-08 07:37:20.444204"], ["updated_at", "2017-08-08 07:37:20.444204"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:37:20 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:37:20.449137"], ["last_sign_in_at", "2017-08-08 07:37:20.449137"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:37:20.449527"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:37:20 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:37:20 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$vsbuBd6AliP4rx6MPwVCK.hv9sXutnNXD46R1CdNBTD7WP9BcE/IG"], ["created_at", "2017-08-08 07:37:20.467763"], ["updated_at", "2017-08-08 07:37:20.467763"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:37:20 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:37:20.473415"], ["last_sign_in_at", "2017-08-08 07:37:20.473415"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:37:20.473847"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 10:37:20 +0300
Processing by AccountsController#create as HTML
  Parameters: {"account"=>"{\"name\":\"Lorem ipsum\",\"balance\":4000,\"currency\":\"USD\"}"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:41:02.428770', '2017-08-08 07:41:02.428770', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:41:02.428770', '2017-08-08 07:41:02.428770', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:41:02.431352', '2017-08-08 07:41:02.431352', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:41:02.431352', '2017-08-08 07:41:02.431352', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:41:02.433094', '2017-08-08 07:41:02.433094', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:41:02.433094', '2017-08-08 07:41:02.433094', 298486374)[0m
  [1m[35m (59.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$clheH93fvB3pq1Orhj3ZUey09B9h7LfZseTvvgHLW8x6EPvNVAtKW"], ["created_at", "2017-08-08 07:41:02.603344"], ["updated_at", "2017-08-08 07:41:02.603344"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:41:02 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:41:02.657704"], ["last_sign_in_at", "2017-08-08 07:41:02.657704"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:41:02.658316"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 10:41:02 +0300
Processing by AccountsController#create as HTML
  Parameters: {"account"=>"{\"name\":\"Lorem ipsum\",\"balance\":4000,\"currency\":\"USD\"}"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$a8gueIJzrwfQlTk19OSnJO1/.NMu6Pr4OATTibyG23e742vi4Bsha"], ["created_at", "2017-08-08 07:41:02.693701"], ["updated_at", "2017-08-08 07:41:02.693701"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:41:02 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:41:02.699284"], ["last_sign_in_at", "2017-08-08 07:41:02.699284"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:41:02.699830"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:41:02 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.7ms)
Completed 200 OK in 400ms (Views: 397.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$saoW6W3Q92xTXhGZdD9d1.xS4l94RorlXDbO8Z/F6FQq6DOV0WJsy"], ["created_at", "2017-08-08 07:41:03.113072"], ["updated_at", "2017-08-08 07:41:03.113072"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:41:03 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:41:03.118832"], ["last_sign_in_at", "2017-08-08 07:41:03.118832"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:41:03.119252"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:41:03 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:41:03 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:41:03 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:41:03 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:41:03 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$LH4UoYpGJEfJyikE2SPaqu7unXy4kr53oZx4STl5oT8Z/ydCOQwlG"], ["created_at", "2017-08-08 07:41:03.149818"], ["updated_at", "2017-08-08 07:41:03.149818"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:41:03 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:41:03.154953"], ["last_sign_in_at", "2017-08-08 07:41:03.154953"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:41:03.155430"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 10:41:03 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.0ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 10:41:03 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:41:28.126769', '2017-08-08 07:41:28.126769', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:41:28.126769', '2017-08-08 07:41:28.126769', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:41:28.129738', '2017-08-08 07:41:28.129738', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:41:28.129738', '2017-08-08 07:41:28.129738', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:41:28.131350', '2017-08-08 07:41:28.131350', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:41:28.131350', '2017-08-08 07:41:28.131350', 298486374)[0m
  [1m[35m (43.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:41:28 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (4.4ms)
Completed 200 OK in 388ms (Views: 380.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$Vt.axz5ymSaPz4yLU.JxEe4ysPhBAoRJ7w9LQfhZrOUh9NAP/2cdS"], ["created_at", "2017-08-08 07:41:28.702366"], ["updated_at", "2017-08-08 07:41:28.702366"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:41:28 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:41:28.715963"], ["last_sign_in_at", "2017-08-08 07:41:28.715963"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:41:28.716470"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 17ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 10:41:28 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 302 Found in 3ms (Views: 2.3ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 10:41:28 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:41:28 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:41:28 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$PSQtYPCxU.HaSBQg/wY/leBVZjUoAdCBi.sxRRis7pWPhXOb7uzuu"], ["created_at", "2017-08-08 07:41:28.780221"], ["updated_at", "2017-08-08 07:41:28.780221"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:41:28 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:41:28.787450"], ["last_sign_in_at", "2017-08-08 07:41:28.787450"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:41:28.788211"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.7ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:41:28 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 6ms (Views: 2.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$U/wVRoVGr3Gs7I7TAuMG7OmoRYdKJm/S5an5R8lBl7SnYMxz/tGlW"], ["created_at", "2017-08-08 07:41:28.806611"], ["updated_at", "2017-08-08 07:41:28.806611"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:41:28 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:41:28.811919"], ["last_sign_in_at", "2017-08-08 07:41:28.811919"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:41:28.812327"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:41:28 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:41:28 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$4w444/a2TNAAUgIjAs3Hy.k84A88IvKeqT3PwZ2Pg4NYGn1QndD6."], ["created_at", "2017-08-08 07:41:28.829248"], ["updated_at", "2017-08-08 07:41:28.829248"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:41:28 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:41:28.833894"], ["last_sign_in_at", "2017-08-08 07:41:28.833894"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:41:28.834302"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 10:41:28 +0300
Processing by AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 07:41:28.856606"], ["updated_at", "2017-08-08 07:41:28.856606"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 406 Not Acceptable in 18ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:41:52.955315', '2017-08-08 07:41:52.955315', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:41:52.955315', '2017-08-08 07:41:52.955315', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:41:52.958075', '2017-08-08 07:41:52.958075', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:41:52.958075', '2017-08-08 07:41:52.958075', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:41:52.960066', '2017-08-08 07:41:52.960066', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:41:52.960066', '2017-08-08 07:41:52.960066', 298486374)[0m
  [1m[35m (60.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$YV7TZ05yZ0FhMRGAW3Zh4.SishuGpEXvt9.ZkUwx.CZHPxlwChaLy"], ["created_at", "2017-08-08 07:41:53.132826"], ["updated_at", "2017-08-08 07:41:53.132826"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:41:53 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:41:53.188201"], ["last_sign_in_at", "2017-08-08 07:41:53.188201"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:41:53.188744"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 25ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:41:53 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 200 OK in 410ms (Views: 408.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$ssycZAbxuU7U/zJaV33yT.R7rRb.Hjsn8eXRciiuthU3NwzP7YVQK"], ["created_at", "2017-08-08 07:41:53.624549"], ["updated_at", "2017-08-08 07:41:53.624549"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:41:53 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:41:53.629639"], ["last_sign_in_at", "2017-08-08 07:41:53.629639"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:41:53.630057"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 10:41:53 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.4ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 10:41:53 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:41:53 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$yrUTiqM/HzUSseSprOg17.5oLfvW//DexyXsO1rAqtSzwZnah28zy"], ["created_at", "2017-08-08 07:41:53.654046"], ["updated_at", "2017-08-08 07:41:53.654046"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:41:53 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:41:53.659046"], ["last_sign_in_at", "2017-08-08 07:41:53.659046"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:41:53.659463"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:41:53 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:41:53 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$OhbH/qxgpQEA66XmrPsCouIebKIt48GqUJkpgAr1V6S2yxBohP2z6"], ["created_at", "2017-08-08 07:41:53.677672"], ["updated_at", "2017-08-08 07:41:53.677672"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:41:53 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:41:53.682752"], ["last_sign_in_at", "2017-08-08 07:41:53.682752"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:41:53.683275"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:41:53 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:41:53 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:42:18.502768', '2017-08-08 07:42:18.502768', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:42:18.502768', '2017-08-08 07:42:18.502768', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:42:18.505264', '2017-08-08 07:42:18.505264', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:42:18.505264', '2017-08-08 07:42:18.505264', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:42:18.506885', '2017-08-08 07:42:18.506885', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:42:18.506885', '2017-08-08 07:42:18.506885', 298486374)[0m
  [1m[35m (60.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$OCpHB4MgdEqw3hw2D.w1G.yX3leEa5PX3kKGHBl/QcY/nUsT13tG6"], ["created_at", "2017-08-08 07:42:18.663894"], ["updated_at", "2017-08-08 07:42:18.663894"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:42:18 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:42:18.717929"], ["last_sign_in_at", "2017-08-08 07:42:18.717929"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:42:18.718452"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 27ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:42:18 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.7ms)
Completed 200 OK in 409ms (Views: 407.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:42:19 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:42:19 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$EJdCQmDwSOrRggpM0MyYeOiQ02FKoJpoHzRwh0WO8SjNMoaWJv7za"], ["created_at", "2017-08-08 07:42:19.165546"], ["updated_at", "2017-08-08 07:42:19.165546"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:42:19 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:42:19.171006"], ["last_sign_in_at", "2017-08-08 07:42:19.171006"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:42:19.171425"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 10:42:19 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.2ms)
Completed 302 Found in 3ms (Views: 2.5ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 10:42:19 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$DvOj8iBA0wW7g.tdQik5.OCKZiGjZHggLUjWi3K5aYVBc9W0Q/3ZO"], ["created_at", "2017-08-08 07:42:19.190803"], ["updated_at", "2017-08-08 07:42:19.190803"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:42:19 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:42:19.195854"], ["last_sign_in_at", "2017-08-08 07:42:19.195854"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:42:19.196409"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:42:19 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.4ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:42:19 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:42:19 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$aW89HvZpBKoqrOlNaopRku0enG5J4NuMcw9TMN5QHo9WGyPFueY.m"], ["created_at", "2017-08-08 07:42:19.219099"], ["updated_at", "2017-08-08 07:42:19.219099"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:42:19 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:42:19.223916"], ["last_sign_in_at", "2017-08-08 07:42:19.223916"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:42:19.224371"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 10:42:19 +0300
Processing by AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 07:42:19.268231"], ["updated_at", "2017-08-08 07:42:19.268231"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 406 Not Acceptable in 39ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:45:24.935383', '2017-08-08 07:45:24.935383', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:45:24.935383', '2017-08-08 07:45:24.935383', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:45:24.938466', '2017-08-08 07:45:24.938466', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:45:24.938466', '2017-08-08 07:45:24.938466', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:45:24.940202', '2017-08-08 07:45:24.940202', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:45:24.940202', '2017-08-08 07:45:24.940202', 298486374)[0m
  [1m[35m (193.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$ngxBKKWN5fTP8QwNEN.4QOA1Ju5UMXR.Fuehxa3AsOCZlAJc5PIpG"], ["created_at", "2017-08-08 07:45:25.240329"], ["updated_at", "2017-08-08 07:45:25.240329"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:45:25 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:45:25.296735"], ["last_sign_in_at", "2017-08-08 07:45:25.296735"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:45:25.297263"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 27ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:45:25 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.7ms)
Completed 200 OK in 379ms (Views: 376.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:45:25 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (2.5ms)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$mLGdvzV61jMl5sc8eWUPZ.3R7GuV1dRyMoW/EsZRya/yV6E.2xH56"], ["created_at", "2017-08-08 07:45:25.719036"], ["updated_at", "2017-08-08 07:45:25.719036"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:45:25 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:45:25.727796"], ["last_sign_in_at", "2017-08-08 07:45:25.727796"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:45:25.728989"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:45:25 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 7ms (Views: 4.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:45:25 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$q0XAHxF369/OTjUkgipFTunhE.mxqADH05QambQkNQ6CKw45kcdEi"], ["created_at", "2017-08-08 07:45:25.767769"], ["updated_at", "2017-08-08 07:45:25.767769"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:45:25 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:45:25.774743"], ["last_sign_in_at", "2017-08-08 07:45:25.774743"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:45:25.775131"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 10:45:25 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 6ms (Views: 5.4ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 10:45:25 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:45:25 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:45:25 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$uEe.xr6yOpggP1c3BjrXkeeRMA2/XOb6fB0eKXgbj0trO68fckTa6"], ["created_at", "2017-08-08 07:45:25.820110"], ["updated_at", "2017-08-08 07:45:25.820110"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:45:25 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:45:25.826447"], ["last_sign_in_at", "2017-08-08 07:45:25.826447"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:45:25.827010"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 10:45:25 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 07:45:25.864623"], ["updated_at", "2017-08-08 07:45:25.864623"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 33ms (Views: 1.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.0ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:46:09.286661', '2017-08-08 07:46:09.286661', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:46:09.286661', '2017-08-08 07:46:09.286661', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:46:09.289046', '2017-08-08 07:46:09.289046', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:46:09.289046', '2017-08-08 07:46:09.289046', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:46:09.290917', '2017-08-08 07:46:09.290917', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:46:09.290917', '2017-08-08 07:46:09.290917', 298486374)[0m
  [1m[35m (136.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$YZ8nzPA//EnwkT6rBcMEluyE5/wduj/TxpwyRcJyYErMxs.CwEbMW"], ["created_at", "2017-08-08 07:46:09.527652"], ["updated_at", "2017-08-08 07:46:09.527652"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:46:09 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:46:09.582598"], ["last_sign_in_at", "2017-08-08 07:46:09.582598"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:46:09.583119"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 27ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:46:09 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.7ms)
Completed 200 OK in 419ms (Views: 417.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:46:10 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$iztlRZMHxDSy9BmgjMzHleQLajR0Pi6JbBl7TXHrltt0Nw.iEGmqG"], ["created_at", "2017-08-08 07:46:10.032504"], ["updated_at", "2017-08-08 07:46:10.032504"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:46:10 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:46:10.037495"], ["last_sign_in_at", "2017-08-08 07:46:10.037495"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:46:10.037885"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:46:10 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:46:10 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$VUawyS6wn0lvSCYFQutLoOIxpwopcw0ri66shL1ibuoNz1t33u6Ey"], ["created_at", "2017-08-08 07:46:10.055295"], ["updated_at", "2017-08-08 07:46:10.055295"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:46:10 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:46:10.060904"], ["last_sign_in_at", "2017-08-08 07:46:10.060904"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:46:10.061313"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 10:46:10 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.6ms)
Completed 302 Found in 4ms (Views: 3.0ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 10:46:10 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:46:10 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:46:10 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$SD7ry8jkdg80T/h.T0oxiOKAR6Hz9hW/Q3VMWSHACoY80hCN53fq."], ["created_at", "2017-08-08 07:46:10.094320"], ["updated_at", "2017-08-08 07:46:10.094320"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:46:10 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:46:10.099882"], ["last_sign_in_at", "2017-08-08 07:46:10.099882"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:46:10.100335"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 10:46:10 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 07:46:10.129267"], ["updated_at", "2017-08-08 07:46:10.129267"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 28ms (Views: 1.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:46:27.013386', '2017-08-08 07:46:27.013386', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:46:27.013386', '2017-08-08 07:46:27.013386', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:46:27.015894', '2017-08-08 07:46:27.015894', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:46:27.015894', '2017-08-08 07:46:27.015894', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:46:27.017542', '2017-08-08 07:46:27.017542', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:46:27.017542', '2017-08-08 07:46:27.017542', 298486374)[0m
  [1m[35m (65.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$H7lRTTrh4wVHUP.7z7nw.OaY6iNvA3BG0X8R8.Q7Q/tccR/ztRnk6"], ["created_at", "2017-08-08 07:46:27.178212"], ["updated_at", "2017-08-08 07:46:27.178212"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:46:27 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:46:27.232149"], ["last_sign_in_at", "2017-08-08 07:46:27.232149"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:46:27.232643"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 25ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 10:46:27 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 07:46:27.275253"], ["updated_at", "2017-08-08 07:46:27.275253"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 29ms (Views: 1.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$vc4AW2ytNlQwOFnspJvv7.ww5Q9A85ut4ANBLeI6aWRLO3cGTZRDW"], ["created_at", "2017-08-08 07:46:27.288698"], ["updated_at", "2017-08-08 07:46:27.288698"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:46:27 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:46:27.294005"], ["last_sign_in_at", "2017-08-08 07:46:27.294005"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:46:27.294469"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:46:27 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.8ms)
Completed 200 OK in 380ms (Views: 378.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:46:27 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:46:27 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$4JpkjFY0iFQBJ2gws5V1LuU2HkUOVWc45mn/xj4JGtm0vnOfTd6Bi"], ["created_at", "2017-08-08 07:46:27.702199"], ["updated_at", "2017-08-08 07:46:27.702199"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:46:27 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:46:27.707197"], ["last_sign_in_at", "2017-08-08 07:46:27.707197"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:46:27.707593"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:46:27 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 5ms (Views: 1.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:46:27 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:46:27 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$yM1vHYcxxw2WFirGnjdFmuDhCXTwjUE4cfWaB/aIsGpaCTKAg.Vxu"], ["created_at", "2017-08-08 07:46:27.729319"], ["updated_at", "2017-08-08 07:46:27.729319"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:46:27 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:46:27.734866"], ["last_sign_in_at", "2017-08-08 07:46:27.734866"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:46:27.735439"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 10:46:27 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (19.5ms)
Completed 302 Found in 22ms (Views: 20.8ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 10:46:27 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:47:00.288812', '2017-08-08 07:47:00.288812', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:47:00.288812', '2017-08-08 07:47:00.288812', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:47:00.291326', '2017-08-08 07:47:00.291326', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:47:00.291326', '2017-08-08 07:47:00.291326', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:47:00.292977', '2017-08-08 07:47:00.292977', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:47:00.292977', '2017-08-08 07:47:00.292977', 298486374)[0m
  [1m[35m (57.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:47:00 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.9ms)
Completed 200 OK in 406ms (Views: 400.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$OLVgBnf8kJVZtg8Mo5U2ROKwZ6La1PApXml5FbsOd8IY7slRvyfcq"], ["created_at", "2017-08-08 07:47:00.900408"], ["updated_at", "2017-08-08 07:47:00.900408"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:47:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:47:00.917249"], ["last_sign_in_at", "2017-08-08 07:47:00.917249"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:47:00.917783"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 36ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:47:00 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:47:00 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:47:00 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:47:00 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$OWKcg2QB/DfcMhRlMGi84eklfhThWZw2jvLb2nr3aSQfjvnOckneK"], ["created_at", "2017-08-08 07:47:00.971840"], ["updated_at", "2017-08-08 07:47:00.971840"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:47:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:47:00.976767"], ["last_sign_in_at", "2017-08-08 07:47:00.976767"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:47:00.977167"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 10:47:00 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.2ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 10:47:00 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$5SU5qEtIrOCS.or5DlKakeV7KIyI7tRFI0rH0GdwEokr2zOCDrl3G"], ["created_at", "2017-08-08 07:47:00.995535"], ["updated_at", "2017-08-08 07:47:00.995535"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:47:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:47:01.000649"], ["last_sign_in_at", "2017-08-08 07:47:01.000649"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:47:01.001085"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:47:01 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$8n3qjxJwri/xYwXH3GcGFe5ExoJRqKAdFfPkLF3jrAUlvEGK4.Vvi"], ["created_at", "2017-08-08 07:47:01.015661"], ["updated_at", "2017-08-08 07:47:01.015661"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:47:01 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:47:01.020608"], ["last_sign_in_at", "2017-08-08 07:47:01.020608"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:47:01.021130"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 10:47:01 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 07:47:01.042136"], ["updated_at", "2017-08-08 07:47:01.042136"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 19ms (Views: 1.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:47:42.073787', '2017-08-08 07:47:42.073787', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 07:47:42.073787', '2017-08-08 07:47:42.073787', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:47:42.076467', '2017-08-08 07:47:42.076467', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 07:47:42.076467', '2017-08-08 07:47:42.076467', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:47:42.078146', '2017-08-08 07:47:42.078146', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 07:47:42.078146', '2017-08-08 07:47:42.078146', 298486374)[0m
  [1m[35m (71.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$b8VuUJSgL.q9hcuFKrElAOwWqFCt1M2meLbBkpzreEov03FZ4WZR6"], ["created_at", "2017-08-08 07:47:42.247717"], ["updated_at", "2017-08-08 07:47:42.247717"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:47:42 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:47:42.301685"], ["last_sign_in_at", "2017-08-08 07:47:42.301685"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:47:42.302166"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 27ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 10:47:42 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 07:47:42.337616"], ["updated_at", "2017-08-08 07:47:42.337616"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 23ms (Views: 2.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:47:42 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.3ms)
Completed 200 OK in 404ms (Views: 402.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$MkJAxwA4bic6oXI986uHUuPJxNmz.Oc7toMljkv8pTIjjdMjH7lzO"], ["created_at", "2017-08-08 07:47:42.759992"], ["updated_at", "2017-08-08 07:47:42.759992"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:47:42 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:47:42.765592"], ["last_sign_in_at", "2017-08-08 07:47:42.765592"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:47:42.766016"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 10:47:42 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 10:47:42 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:47:42 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$UMt3j1tTQj95ndWNBA7EoubUF9VZ2e.qcbPBf8JLo2D8Q5AQLCKbO"], ["created_at", "2017-08-08 07:47:42.789370"], ["updated_at", "2017-08-08 07:47:42.789370"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:47:42 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:47:42.794876"], ["last_sign_in_at", "2017-08-08 07:47:42.794876"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:47:42.795314"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 10:47:42 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:47:42 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 10:47:42 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$XMtTry5ZukZJ02V/ukdjAOOQyAUPn6Ds24rjeW7fjXlWuQv9E5JHu"], ["created_at", "2017-08-08 07:47:42.817161"], ["updated_at", "2017-08-08 07:47:42.817161"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 10:47:42 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 07:47:42.822494"], ["last_sign_in_at", "2017-08-08 07:47:42.822494"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 07:47:42.822858"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 10:47:42 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:09:21.367689', '2017-08-08 08:09:21.367689', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:09:21.367689', '2017-08-08 08:09:21.367689', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:09:21.370604', '2017-08-08 08:09:21.370604', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:09:21.370604', '2017-08-08 08:09:21.370604', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:09:21.372328', '2017-08-08 08:09:21.372328', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:09:21.372328', '2017-08-08 08:09:21.372328', 298486374)[0m
  [1m[35m (85.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$kEkmHqzby7sEz2lrq5MQVOv/Hs4ChznoHsC7kc/TM.s8tdeF5M.kO"], ["created_at", "2017-08-08 08:09:21.554000"], ["updated_at", "2017-08-08 08:09:21.554000"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:09:21 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:09:21.609164"], ["last_sign_in_at", "2017-08-08 08:09:21.609164"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:09:21.609839"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 33ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 11:09:21 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 08:09:21.652103"], ["updated_at", "2017-08-08 08:09:21.652103"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 21ms (Views: 1.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:09:21 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.2ms)
Completed 200 OK in 393ms (Views: 392.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:09:22 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:09:22 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:09:22 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$EJ3k1gCBfbHz22E7f3UreOu8.qHQ2xgp9lk79tP7p4XJSlEGx2QKG"], ["created_at", "2017-08-08 08:09:22.081511"], ["updated_at", "2017-08-08 08:09:22.081511"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:09:22 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:09:22.087030"], ["last_sign_in_at", "2017-08-08 08:09:22.087030"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:09:22.087557"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 11:09:22 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.2ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 11:09:22 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (18.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$0z7MYaBAaJ6fAO422JuCiOZzjHE131MKxyTTA.ILoRNP2vhTKO2Ge"], ["created_at", "2017-08-08 08:09:22.107931"], ["updated_at", "2017-08-08 08:09:22.107931"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:09:22 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:09:22.131643"], ["last_sign_in_at", "2017-08-08 08:09:22.131643"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:09:22.132084"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:09:22 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$zZYsGMMNBEwLpKOFTfr/keQN6EuE5NyklGDIXHzZoo.WnYhhuQFr6"], ["created_at", "2017-08-08 08:09:22.146176"], ["updated_at", "2017-08-08 08:09:22.146176"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:09:22 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:09:22.151253"], ["last_sign_in_at", "2017-08-08 08:09:22.151253"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:09:22.151677"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:09:22 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:12:15.962994', '2017-08-08 08:12:15.962994', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:12:15.962994', '2017-08-08 08:12:15.962994', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:12:15.965727', '2017-08-08 08:12:15.965727', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:12:15.965727', '2017-08-08 08:12:15.965727', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:12:15.967416', '2017-08-08 08:12:15.967416', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:12:15.967416', '2017-08-08 08:12:15.967416', 298486374)[0m
  [1m[35m (101.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$e3/otC75Nagj6SpXYkTBRepYPAcj/kVm2r.Nn.8silKQw9zb6rQsm"], ["created_at", "2017-08-08 08:12:16.171651"], ["updated_at", "2017-08-08 08:12:16.171651"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:12:16 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:12:16.225562"], ["last_sign_in_at", "2017-08-08 08:12:16.225562"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:12:16.226075"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 27ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 11:12:16 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 08:12:16.261035"], ["updated_at", "2017-08-08 08:12:16.261035"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 21ms (Views: 1.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$ALkgUFT3Ub0GVTRFPwn7B.cCvsqQQhY4dPG0M0fopA1EHI4eyKrXm"], ["created_at", "2017-08-08 08:12:16.273157"], ["updated_at", "2017-08-08 08:12:16.273157"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:12:16 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:12:16.280177"], ["last_sign_in_at", "2017-08-08 08:12:16.280177"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:12:16.280966"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.7ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 11:12:16 +0300
Processing by AccountsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 406 Not Acceptable in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$qa4VTprzWT.kwaCxvgIYdOUkUTxRx70PvFjTKyY9lFjAs2HXj034O"], ["created_at", "2017-08-08 08:12:16.296576"], ["updated_at", "2017-08-08 08:12:16.296576"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:12:16 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:12:16.302369"], ["last_sign_in_at", "2017-08-08 08:12:16.302369"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:12:16.302831"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:12:16 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.7ms)
Completed 200 OK in 418ms (Views: 416.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:12:16 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.2ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$MHZn9GIOc02Bmkt5xN59buOc6SdKtU7ivvZrQcMO9RG9/iVX5o5Oe"], ["created_at", "2017-08-08 08:12:16.741202"], ["updated_at", "2017-08-08 08:12:16.741202"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:12:16 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:12:16.748211"], ["last_sign_in_at", "2017-08-08 08:12:16.748211"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:12:16.748676"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 11:12:16 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.9ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 11:12:16 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$4ml7z7GHR2dqFduz1eoTIuHErHFBfth/nMiV6HyC2quNn/1ENvdIu"], ["created_at", "2017-08-08 08:12:16.770179"], ["updated_at", "2017-08-08 08:12:16.770179"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:12:16 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:12:16.776435"], ["last_sign_in_at", "2017-08-08 08:12:16.776435"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:12:16.776844"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:12:16 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.2ms)
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:12:16 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:12:16 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:12:16 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:13:19.040914', '2017-08-08 08:13:19.040914', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:13:19.040914', '2017-08-08 08:13:19.040914', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:13:19.043622', '2017-08-08 08:13:19.043622', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:13:19.043622', '2017-08-08 08:13:19.043622', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:13:19.045575', '2017-08-08 08:13:19.045575', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:13:19.045575', '2017-08-08 08:13:19.045575', 298486374)[0m
  [1m[35m (61.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$44MyYxxPA0XuZoBApDCGg.Y5zB7QrKbal6nf/IXW70wNhLpjSDZ3S"], ["created_at", "2017-08-08 08:13:19.202986"], ["updated_at", "2017-08-08 08:13:19.202986"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:13:19 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:13:19.258031"], ["last_sign_in_at", "2017-08-08 08:13:19.258031"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:13:19.258520"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 25ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:13:19 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.8ms)
Completed 200 OK in 391ms (Views: 389.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:13:19 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$.ero.4YGMlTgYgz0gxkxpuoZmvHTzYv4AXdwL5j7nRmndZn05IbuK"], ["created_at", "2017-08-08 08:13:19.679785"], ["updated_at", "2017-08-08 08:13:19.679785"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:13:19 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:13:19.686476"], ["last_sign_in_at", "2017-08-08 08:13:19.686476"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:13:19.687010"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 11:13:19 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.2ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 11:13:19 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:13:19 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:13:19 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$TODUa1IrbyLeFjzlsWxn0u8NgU70UnAdO0m1uxWbzi8sXspRuwkte"], ["created_at", "2017-08-08 08:13:19.717801"], ["updated_at", "2017-08-08 08:13:19.717801"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:13:19 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:13:19.723298"], ["last_sign_in_at", "2017-08-08 08:13:19.723298"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:13:19.723723"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:13:19 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 5ms (Views: 2.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:13:19 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$19.Fe5YEim8yZTviWer4oep5wis.iWD65OatLdxVRYqXAvJ7mk852"], ["created_at", "2017-08-08 08:13:19.742580"], ["updated_at", "2017-08-08 08:13:19.742580"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:13:19 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:13:19.747945"], ["last_sign_in_at", "2017-08-08 08:13:19.747945"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:13:19.748434"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$26X1QZT1Aco5qRtl8DGEXO21TQmoK/45Yn2N7ZWE/yfpoGvaWjj/y"], ["created_at", "2017-08-08 08:13:19.757916"], ["updated_at", "2017-08-08 08:13:19.757916"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:13:19 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:13:19.762951"], ["last_sign_in_at", "2017-08-08 08:13:19.762951"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:13:19.763453"], ["id", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 11:13:19 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 08:13:19.809241"], ["updated_at", "2017-08-08 08:13:19.809241"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 41ms (Views: 0.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:13:56.629848', '2017-08-08 08:13:56.629848', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:13:56.629848', '2017-08-08 08:13:56.629848', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:13:56.633374', '2017-08-08 08:13:56.633374', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:13:56.633374', '2017-08-08 08:13:56.633374', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:13:56.635238', '2017-08-08 08:13:56.635238', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:13:56.635238', '2017-08-08 08:13:56.635238', 298486374)[0m
  [1m[35m (50.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$KXxZhvvTc.Yfu17M2ftAue6W5mqPG8cEkL2pToi8ANWj86xhsA5Im"], ["created_at", "2017-08-08 08:13:56.781141"], ["updated_at", "2017-08-08 08:13:56.781141"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:13:56 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:13:56.844793"], ["last_sign_in_at", "2017-08-08 08:13:56.844793"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:13:56.845356"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 11:13:56 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 08:13:56.881148"], ["updated_at", "2017-08-08 08:13:56.881148"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 23ms (Views: 1.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$bGxljc61F8rKsXrVVPR61.QMfVh5L/W4ft.sxLmzNEV8pGPiBpy1W"], ["created_at", "2017-08-08 08:13:56.893412"], ["updated_at", "2017-08-08 08:13:56.893412"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:13:56 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:13:56.899647"], ["last_sign_in_at", "2017-08-08 08:13:56.899647"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:13:56.900185"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 11:13:56 +0300
Processing by AccountsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 406 Not Acceptable in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:13:56 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$cwnGuffkOf7pn3NIR/VgbevlaDigd.z7ndEDhGmW.7VqaNfuGfdDu"], ["created_at", "2017-08-08 08:13:56.920444"], ["updated_at", "2017-08-08 08:13:56.920444"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:13:56 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:13:56.925819"], ["last_sign_in_at", "2017-08-08 08:13:56.925819"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:13:56.926239"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:13:56 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.9ms)
Completed 200 OK in 413ms (Views: 411.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:13:57 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$LKKIyNkXpJAbsu3TXQqbEO5Tgj/0F7rACFU8k1I2.Q9Q0qWzDPPmK"], ["created_at", "2017-08-08 08:13:57.358861"], ["updated_at", "2017-08-08 08:13:57.358861"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:13:57 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:13:57.367665"], ["last_sign_in_at", "2017-08-08 08:13:57.367665"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:13:57.368131"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:13:57 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.9ms)
Completed 200 OK in 5ms (Views: 3.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:13:57 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:13:57 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$AvCo.kXw8isXSfOF07wkj.yaewXdl52Ip5qZTX5kbTjoZMXbdMiJu"], ["created_at", "2017-08-08 08:13:57.397035"], ["updated_at", "2017-08-08 08:13:57.397035"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:13:57 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:13:57.402154"], ["last_sign_in_at", "2017-08-08 08:13:57.402154"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:13:57.402540"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 11:13:57 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.2ms)
Completed 302 Found in 3ms (Views: 2.8ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 11:13:57 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.4ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:14:42.575418', '2017-08-08 08:14:42.575418', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:14:42.575418', '2017-08-08 08:14:42.575418', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:14:42.579881', '2017-08-08 08:14:42.579881', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:14:42.579881', '2017-08-08 08:14:42.579881', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:14:42.583175', '2017-08-08 08:14:42.583175', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:14:42.583175', '2017-08-08 08:14:42.583175', 298486374)[0m
  [1m[35m (93.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$2wDR/YsI7scsyiyVtOymCufcjeCQr31B0eDAryBxDE16jK30OHKvK"], ["created_at", "2017-08-08 08:14:42.775147"], ["updated_at", "2017-08-08 08:14:42.775147"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:14:42 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:14:42.834679"], ["last_sign_in_at", "2017-08-08 08:14:42.834679"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:14:42.835219"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$A05vzFfkX736RYzQSVGTDOwjfxkC.DCeEEIRPCVfgOKrlBnpDGcZO"], ["created_at", "2017-08-08 08:14:42.858077"], ["updated_at", "2017-08-08 08:14:42.858077"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:14:42 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:14:42.864045"], ["last_sign_in_at", "2017-08-08 08:14:42.864045"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:14:42.864598"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 11:14:42 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 08:14:42.889295"], ["updated_at", "2017-08-08 08:14:42.889295"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 23ms (Views: 1.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$oGWfFIAAVfSU7Ur.Ks1iE.4BJxaN6DpfgtrcPK.D4gLHL78myYUTy"], ["created_at", "2017-08-08 08:14:42.902554"], ["updated_at", "2017-08-08 08:14:42.902554"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:14:42 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:14:42.908096"], ["last_sign_in_at", "2017-08-08 08:14:42.908096"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:14:42.908690"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:14:42 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.7ms)
Completed 200 OK in 410ms (Views: 408.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:14:43 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$S0fBy4b96Pcd4PiV4LHiT.pdFVGdKnOnWE3H5kWsOVCe4hzUMSJIy"], ["created_at", "2017-08-08 08:14:43.337573"], ["updated_at", "2017-08-08 08:14:43.337573"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:14:43 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:14:43.342855"], ["last_sign_in_at", "2017-08-08 08:14:43.342855"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:14:43.343254"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 11:14:43 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.2ms)
Completed 302 Found in 3ms (Views: 2.6ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 11:14:43 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:14:43 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:14:43 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$7401N2T0cJ1oj3pUN04vZO2V/D1rjBcDviNVVr/6wivKeK5KuQ5Wi"], ["created_at", "2017-08-08 08:14:43.370804"], ["updated_at", "2017-08-08 08:14:43.370804"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:14:43 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:14:43.376794"], ["last_sign_in_at", "2017-08-08 08:14:43.376794"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:14:43.377191"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:14:43 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:14:43 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:17:30.633799', '2017-08-08 08:17:30.633799', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:17:30.633799', '2017-08-08 08:17:30.633799', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:17:30.636741', '2017-08-08 08:17:30.636741', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:17:30.636741', '2017-08-08 08:17:30.636741', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:17:30.638447', '2017-08-08 08:17:30.638447', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:17:30.638447', '2017-08-08 08:17:30.638447', 298486374)[0m
  [1m[35m (71.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$3tK2uXEFRm1yc3srkqtBp.WCPzsc2VZ6.4sxi12ffeuu4IgB2oejW"], ["created_at", "2017-08-08 08:17:30.806408"], ["updated_at", "2017-08-08 08:17:30.806408"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:17:30 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:17:30.862021"], ["last_sign_in_at", "2017-08-08 08:17:30.862021"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:17:30.862629"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:17:30 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.8ms)
Completed 200 OK in 403ms (Views: 401.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:17:31 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$/MlEqZ3t73lJMVPFmg6dJOtQxNSG3FiQSea5mEwazjdL6/EGreTNC"], ["created_at", "2017-08-08 08:17:31.296450"], ["updated_at", "2017-08-08 08:17:31.296450"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:17:31 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:17:31.302351"], ["last_sign_in_at", "2017-08-08 08:17:31.302351"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:17:31.302729"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:17:31 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:17:31 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:17:31 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:17:31 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$ZTOC977i/0Ldeg.8Qw0ZHutZELUFdPwdynIDQd6Yio0l1Hx69pLuO"], ["created_at", "2017-08-08 08:17:31.326961"], ["updated_at", "2017-08-08 08:17:31.326961"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:17:31 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:17:31.332040"], ["last_sign_in_at", "2017-08-08 08:17:31.332040"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:17:31.332513"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 11:17:31 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.2ms)
Completed 302 Found in 3ms (Views: 2.6ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 11:17:31 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$H8tsZ4Jo.WvDWm8vFlJhFOH/cvzWrIAp38rTS7i7hsU5sRlpp.rSW"], ["created_at", "2017-08-08 08:17:31.351903"], ["updated_at", "2017-08-08 08:17:31.351903"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:17:31 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:17:31.357808"], ["last_sign_in_at", "2017-08-08 08:17:31.357808"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:17:31.358345"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 11:17:31 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 08:17:31.402047"], ["updated_at", "2017-08-08 08:17:31.402047"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 40ms (Views: 0.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$TCOEp8VR8Sn/3T/CXPflX.jrUeswgPyoFMI7H8AlD6M4VCDxf3TFm"], ["created_at", "2017-08-08 08:17:31.413225"], ["updated_at", "2017-08-08 08:17:31.413225"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:17:31 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:17:31.418693"], ["last_sign_in_at", "2017-08-08 08:17:31.418693"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:17:31.419069"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 11:17:31 +0300
Processing by AccountsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 406 Not Acceptable in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (1.0ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (1.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:18:38.144219', '2017-08-08 08:18:38.144219', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (1.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:18:38.144219', '2017-08-08 08:18:38.144219', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.9ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:18:38.169967', '2017-08-08 08:18:38.169967', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:18:38.169967', '2017-08-08 08:18:38.169967', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.7ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:18:38.188677', '2017-08-08 08:18:38.188677', 980190962)[0m
  [1m[36mFixture Insert (0.9ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:18:38.188677', '2017-08-08 08:18:38.188677', 298486374)[0m
  [1m[35m (65.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (10.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$xISfJr.rCTOiP5vGBDH3n.h.NOGvIuT/LBJBX3d0A/xRqEgj1GC2G"], ["created_at", "2017-08-08 08:18:39.097578"], ["updated_at", "2017-08-08 08:18:39.097578"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:18:39 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.8ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:18:39.630938"], ["last_sign_in_at", "2017-08-08 08:18:39.630938"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:18:39.635163"], ["id", 2]]
  [1m[35m (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 237ms (ActiveRecord: 4.2ms)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 11:18:39 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 08:18:39.950867"], ["updated_at", "2017-08-08 08:18:39.950867"], ["currency", "USD"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 188ms (Views: 13.3ms | ActiveRecord: 3.7ms)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (8.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (4.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$sPNCR5.Vt4XBVY3Xw3pp6eyzW/61biHyxhGysvyjymrWcxxIsParG"], ["created_at", "2017-08-08 08:18:40.061738"], ["updated_at", "2017-08-08 08:18:40.061738"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:18:40 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:18:40.109288"], ["last_sign_in_at", "2017-08-08 08:18:40.109288"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:18:40.112839"], ["id", 2]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 46ms (ActiveRecord: 3.5ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 11:18:40 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 27ms (Views: 3.6ms | ActiveRecord: 2.1ms)
  [1m[35m (3.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:18:40 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (8.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$5LuOGyt6EMM9WLvOuoQideUvYHp9L3PttNTLt61UPI6LHAikX5VKO"], ["created_at", "2017-08-08 08:18:40.340681"], ["updated_at", "2017-08-08 08:18:40.340681"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:18:40 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:18:40.385910"], ["last_sign_in_at", "2017-08-08 08:18:40.385910"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:18:40.389254"], ["id", 2]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 43ms (ActiveRecord: 3.7ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:18:40 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (7.1ms)
Completed 200 OK in 2930ms (Views: 2917.1ms | ActiveRecord: 1.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$kCkkmvatJigGiOXmJlto8OUla74R2oH4QOJIbQ.SjGuWXU/2UVwpe"], ["created_at", "2017-08-08 08:18:43.366367"], ["updated_at", "2017-08-08 08:18:43.366367"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:18:43 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:18:43.374332"], ["last_sign_in_at", "2017-08-08 08:18:43.374332"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:18:43.375163"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.8ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:18:43 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.4ms)
Completed 200 OK in 5ms (Views: 2.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:18:43 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:18:43 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$tqiiTt58Q9laxrYr.lQ.3.I4t8.wbOaemXQCFcY.20.ck1kUK1FCi"], ["created_at", "2017-08-08 08:18:43.413952"], ["updated_at", "2017-08-08 08:18:43.413952"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:18:43 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:18:43.422480"], ["last_sign_in_at", "2017-08-08 08:18:43.422480"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:18:43.423182"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.7ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 11:18:43 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.5ms)
Completed 302 Found in 4ms (Views: 3.4ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 11:18:43 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:18:43 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.6ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:19:00.196522', '2017-08-08 08:19:00.196522', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:19:00.196522', '2017-08-08 08:19:00.196522', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:19:00.199961', '2017-08-08 08:19:00.199961', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:19:00.199961', '2017-08-08 08:19:00.199961', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:19:00.201891', '2017-08-08 08:19:00.201891', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:19:00.201891', '2017-08-08 08:19:00.201891', 298486374)[0m
  [1m[35m (159.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:19:00 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 10ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:19:00 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.3ms)
Completed 200 OK in 399ms (Views: 397.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$ixe3SMuBhXbhrGH0FWstXOJcpPysIPwvhCViAU8dTKRatE7l0K6VO"], ["created_at", "2017-08-08 08:19:00.995544"], ["updated_at", "2017-08-08 08:19:00.995544"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:19:01 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:19:01.022542"], ["last_sign_in_at", "2017-08-08 08:19:01.022542"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:19:01.023167"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 22ms (ActiveRecord: 1.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 11:19:01 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (2.2ms)
Completed 302 Found in 8ms (Views: 7.0ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 11:19:01 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$t0rQq88cGc3sTXH3hwmjfeXqa63k9kdFLgo8WTfOj50.aZCByhBz6"], ["created_at", "2017-08-08 08:19:01.069992"], ["updated_at", "2017-08-08 08:19:01.069992"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:19:01 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:19:01.080340"], ["last_sign_in_at", "2017-08-08 08:19:01.080340"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:19:01.080939"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 1.3ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:19:01 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 5ms (Views: 2.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$p7eO6UmWn1/uiJAJ.6LNqe2spdBHG778Vt7iaLD066us94me48PxO"], ["created_at", "2017-08-08 08:19:01.102491"], ["updated_at", "2017-08-08 08:19:01.102491"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:19:01 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:19:01.113145"], ["last_sign_in_at", "2017-08-08 08:19:01.113145"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:19:01.114260"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.8ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:19:01 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.5ms)
Completed 200 OK in 18ms (Views: 3.1ms | ActiveRecord: 0.2ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:19:01 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.5ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:19:01 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$7VnZ.aiecmluYvdnaqUWeuFDHqyo3Tc8MZCGb284HimNFuhY6KrS."], ["created_at", "2017-08-08 08:19:01.161286"], ["updated_at", "2017-08-08 08:19:01.161286"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:19:01 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:19:01.167218"], ["last_sign_in_at", "2017-08-08 08:19:01.167218"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:19:01.167672"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 11:19:01 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 08:19:01.190018"], ["updated_at", "2017-08-08 08:19:01.190018"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 20ms (Views: 1.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$Zt90l5.DzaVSeRx2JZFaaOBP51vOquc0WOzgHOLwjijz2ZFneE2va"], ["created_at", "2017-08-08 08:19:01.202752"], ["updated_at", "2017-08-08 08:19:01.202752"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:19:01 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:19:01.209827"], ["last_sign_in_at", "2017-08-08 08:19:01.209827"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:19:01.210302"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 11:19:01 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:20:20.858115', '2017-08-08 08:20:20.858115', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:20:20.858115', '2017-08-08 08:20:20.858115', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:20:20.861980', '2017-08-08 08:20:20.861980', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:20:20.861980', '2017-08-08 08:20:20.861980', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:20:20.864619', '2017-08-08 08:20:20.864619', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:20:20.864619', '2017-08-08 08:20:20.864619', 298486374)[0m
  [1m[35m (204.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$A0xLb2i7bpiCND8s1QOgYeCwFkv601lmR9D5m84./WZ.8oZF9lAU."], ["created_at", "2017-08-08 08:20:21.164785"], ["updated_at", "2017-08-08 08:20:21.164785"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:20:21 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:20:21.241400"], ["last_sign_in_at", "2017-08-08 08:20:21.241400"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:20:21.241969"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 27ms (ActiveRecord: 0.5ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 11:20:21 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 12ms (Views: 0.6ms | ActiveRecord: 0.3ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$U8V0.AkL8k43FDzLwnmCcePeKnP1rb8J3./W48gOZDEIgg7iTDPM."], ["created_at", "2017-08-08 08:20:21.282322"], ["updated_at", "2017-08-08 08:20:21.282322"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:20:21 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:20:21.289910"], ["last_sign_in_at", "2017-08-08 08:20:21.289910"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:20:21.290455"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 11:20:21 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 08:20:21.305677"], ["updated_at", "2017-08-08 08:20:21.305677"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 15ms (Views: 1.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$mHHOfOlAJKyvvMuTtbtlxO0Yp5YVTux4zFK05Vf35S58t1m6NswGC"], ["created_at", "2017-08-08 08:20:21.320280"], ["updated_at", "2017-08-08 08:20:21.320280"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:20:21 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:20:21.326673"], ["last_sign_in_at", "2017-08-08 08:20:21.326673"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:20:21.327179"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:20:21 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.8ms)
Completed 200 OK in 451ms (Views: 449.3ms | ActiveRecord: 0.2ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:20:21 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$JBBjS6rcSOJNN/eR..EFIuEIY3L3OILMQ30SSHQUFlD.HJ5HORM/a"], ["created_at", "2017-08-08 08:20:21.797561"], ["updated_at", "2017-08-08 08:20:21.797561"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:20:21 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:20:21.803245"], ["last_sign_in_at", "2017-08-08 08:20:21.803245"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:20:21.803686"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:20:21 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:20:21 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:20:21 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:20:21 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$eJlSMEEcxp8ekrNc15Gs1.eYy9XimylsIJCIowFEpdDzy1UpaFnKi"], ["created_at", "2017-08-08 08:20:21.829785"], ["updated_at", "2017-08-08 08:20:21.829785"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:20:21 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:20:21.836009"], ["last_sign_in_at", "2017-08-08 08:20:21.836009"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:20:21.836431"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 11:20:21 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.2ms)
Completed 302 Found in 3ms (Views: 2.4ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 11:20:21 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:20:53.606635', '2017-08-08 08:20:53.606635', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:20:53.606635', '2017-08-08 08:20:53.606635', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:20:53.609727', '2017-08-08 08:20:53.609727', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:20:53.609727', '2017-08-08 08:20:53.609727', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:20:53.611645', '2017-08-08 08:20:53.611645', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:20:53.611645', '2017-08-08 08:20:53.611645', 298486374)[0m
  [1m[35m (69.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$7t3OPPX41DItU79hCScz0.//2mfu0jdwniUcajvtEPh2mCW33T6r."], ["created_at", "2017-08-08 08:20:53.791834"], ["updated_at", "2017-08-08 08:20:53.791834"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:20:53 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:20:53.850568"], ["last_sign_in_at", "2017-08-08 08:20:53.850568"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:20:53.851210"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 28ms (ActiveRecord: 0.5ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 11:20:53 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 11ms (Views: 0.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$leF6c3V0gnijQh8qHm493.1969TRsFUR8oFtYdU05yf7AHci85bS6"], ["created_at", "2017-08-08 08:20:53.899133"], ["updated_at", "2017-08-08 08:20:53.899133"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:20:53 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:20:53.905770"], ["last_sign_in_at", "2017-08-08 08:20:53.905770"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:20:53.906304"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 11:20:53 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 08:20:53.920763"], ["updated_at", "2017-08-08 08:20:53.920763"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 14ms (Views: 1.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$sBMQNYO1ZIULwJv3J8jRuexvTPxCKZLizNNtpltDuriUXWdZXx7/G"], ["created_at", "2017-08-08 08:20:53.934692"], ["updated_at", "2017-08-08 08:20:53.934692"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:20:53 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:20:53.940915"], ["last_sign_in_at", "2017-08-08 08:20:53.940915"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:20:53.941377"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:20:53 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (1.3ms)
Completed 200 OK in 437ms (Views: 433.2ms | ActiveRecord: 0.4ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:20:54 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:20:54 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$Yh0PRbAmxNLjwwEm6tEzZOQ2txIH725gXS6HYAz8/X5mmqRJiR4YW"], ["created_at", "2017-08-08 08:20:54.405193"], ["updated_at", "2017-08-08 08:20:54.405193"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:20:54 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:20:54.413713"], ["last_sign_in_at", "2017-08-08 08:20:54.413713"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:20:54.414165"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:20:54 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.4ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:20:54 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:20:54 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$AKKlYJhVbpfDQCOWWLNXlej/JHEC44j7W7//ImzLKbdrKdsZK0172"], ["created_at", "2017-08-08 08:20:54.438457"], ["updated_at", "2017-08-08 08:20:54.438457"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:20:54 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:20:54.471913"], ["last_sign_in_at", "2017-08-08 08:20:54.471913"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:20:54.472781"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.7ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 11:20:54 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.5ms)
Completed 302 Found in 5ms (Views: 3.8ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 11:20:54 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:21:14.639005', '2017-08-08 08:21:14.639005', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:21:14.639005', '2017-08-08 08:21:14.639005', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:21:14.642201', '2017-08-08 08:21:14.642201', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:21:14.642201', '2017-08-08 08:21:14.642201', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:21:14.644128', '2017-08-08 08:21:14.644128', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:21:14.644128', '2017-08-08 08:21:14.644128', 298486374)[0m
  [1m[35m (59.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:21:14 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.9ms)
Completed 200 OK in 403ms (Views: 396.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$ClMVAkIqjUk.BxP5X1xyhOxAMV0tLfdHqUk029kjdeMtgJk.pVD9e"], ["created_at", "2017-08-08 08:21:15.316057"], ["updated_at", "2017-08-08 08:21:15.316057"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:21:15 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:21:15.348645"], ["last_sign_in_at", "2017-08-08 08:21:15.348645"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:21:15.350119"], ["id", 2]]
  [1m[35m (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 30ms (ActiveRecord: 1.3ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:21:15 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.4ms)
Completed 200 OK in 5ms (Views: 2.5ms | ActiveRecord: 0.2ms)
  [1m[35m (2.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:21:15 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:21:15 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$i7UWihqhJkz0ACajflr.6.rJESzaNAM5UoA025iAlQFAKG/qIttOS"], ["created_at", "2017-08-08 08:21:15.408509"], ["updated_at", "2017-08-08 08:21:15.408509"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:21:15 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:21:15.415326"], ["last_sign_in_at", "2017-08-08 08:21:15.415326"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:21:15.415823"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 11:21:15 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.3ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 11:21:15 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$nc75JUu6qnnWw0pH86KW2uqAyDGYbY7AhchBiY9/2Scdt2j2meSli"], ["created_at", "2017-08-08 08:21:15.437903"], ["updated_at", "2017-08-08 08:21:15.437903"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:21:15 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:21:15.445119"], ["last_sign_in_at", "2017-08-08 08:21:15.445119"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:21:15.445683"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:21:15 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:21:15 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$8toLAeOnlUQq5j0FbYR2EOTVc/oLuFCm9hdU24CYpJdxA7OIlyF66"], ["created_at", "2017-08-08 08:21:15.466824"], ["updated_at", "2017-08-08 08:21:15.466824"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:21:15 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:21:15.478221"], ["last_sign_in_at", "2017-08-08 08:21:15.478221"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:21:15.479963"], ["id", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 11:21:15 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 08:21:15.506439"], ["updated_at", "2017-08-08 08:21:15.506439"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 22ms (Views: 1.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$mNfMUIwIBWvwCuXUT8sb8Os0oJktFnSaZcdxQCvuiVg.ypY5.Y4eu"], ["created_at", "2017-08-08 08:21:15.520884"], ["updated_at", "2017-08-08 08:21:15.520884"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:21:15 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:21:15.527343"], ["last_sign_in_at", "2017-08-08 08:21:15.527343"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:21:15.527806"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 11:21:15 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 5ms (Views: 0.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:21:59.769649', '2017-08-08 08:21:59.769649', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:21:59.769649', '2017-08-08 08:21:59.769649', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:21:59.774502', '2017-08-08 08:21:59.774502', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:21:59.774502', '2017-08-08 08:21:59.774502', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:21:59.777870', '2017-08-08 08:21:59.777870', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:21:59.777870', '2017-08-08 08:21:59.777870', 298486374)[0m
  [1m[35m (82.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$P2khdp8TJgwGaUp9mDjlcOneoTOelqveWro1/zGgeM3Cj5MA9nYeG"], ["created_at", "2017-08-08 08:21:59.961424"], ["updated_at", "2017-08-08 08:21:59.961424"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:21:59 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:22:00.031357"], ["last_sign_in_at", "2017-08-08 08:22:00.031357"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:22:00.031935"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 28ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 11:22:00 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 08:22:00.069874"], ["updated_at", "2017-08-08 08:22:00.069874"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 24ms (Views: 1.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$Buo968G.Tp1ucV36YbLPEu5UHH4dq77cUnF/VJiRW/v9j9IdW8Ghm"], ["created_at", "2017-08-08 08:22:00.084010"], ["updated_at", "2017-08-08 08:22:00.084010"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:22:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:22:00.089809"], ["last_sign_in_at", "2017-08-08 08:22:00.089809"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:22:00.090321"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 11:22:00 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:22:00 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.2ms)
Completed 200 OK in 431ms (Views: 430.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$OMNlf3OqDA/1rhBtNIOkl.15/8nLIHO3DSY2Ys47ue.gbGro/l8gG"], ["created_at", "2017-08-08 08:22:00.546056"], ["updated_at", "2017-08-08 08:22:00.546056"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:22:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:22:00.553534"], ["last_sign_in_at", "2017-08-08 08:22:00.553534"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:22:00.554138"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:22:00 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.1ms)
  [1m[35m (1.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:22:00 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:22:00 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$hzQgoBsrve71zH3V/sDJXOZGzPSATEhf12DiXQW0.3uH84z18RDRW"], ["created_at", "2017-08-08 08:22:00.580855"], ["updated_at", "2017-08-08 08:22:00.580855"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:22:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:22:00.587010"], ["last_sign_in_at", "2017-08-08 08:22:00.587010"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:22:00.587492"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:22:00 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.2ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:22:00 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$zml668quk.nfDahaEP0FcOOWiEs7jyg88oJ.FpbW10NGbLg/Dw1T6"], ["created_at", "2017-08-08 08:22:00.606721"], ["updated_at", "2017-08-08 08:22:00.606721"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:22:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:22:00.614120"], ["last_sign_in_at", "2017-08-08 08:22:00.614120"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:22:00.614666"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 11:22:00 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.2ms)
Completed 302 Found in 3ms (Views: 2.5ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 11:22:00 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:22:54.930638', '2017-08-08 08:22:54.930638', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:22:54.930638', '2017-08-08 08:22:54.930638', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:22:54.934410', '2017-08-08 08:22:54.934410', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:22:54.934410', '2017-08-08 08:22:54.934410', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:22:54.936441', '2017-08-08 08:22:54.936441', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:22:54.936441', '2017-08-08 08:22:54.936441', 298486374)[0m
  [1m[35m (59.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$LE7k2scoDlE1l9/WMhLjjexMKViyXw1gIoRINwok.awyDLyDqqQP2"], ["created_at", "2017-08-08 08:22:55.099240"], ["updated_at", "2017-08-08 08:22:55.099240"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:22:55 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:22:55.166643"], ["last_sign_in_at", "2017-08-08 08:22:55.166643"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:22:55.167182"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 28ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 11:22:55 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 08:22:55.204057"], ["updated_at", "2017-08-08 08:22:55.204057"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 22ms (Views: 2.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$n6NvgHaEwHxxjBRM.AOepeFrL1KnXlzhBnEuiULWfW2XypCX3XAEe"], ["created_at", "2017-08-08 08:22:55.218588"], ["updated_at", "2017-08-08 08:22:55.218588"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:22:55 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:22:55.225637"], ["last_sign_in_at", "2017-08-08 08:22:55.225637"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:22:55.226284"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 11:22:55 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:22:55 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:22:55 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.6ms)
Completed 200 OK in 436ms (Views: 435.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$ERzK5WgzsIdh5AR8mra4Uu4tCfISB91kzQbm0WKdfMj0Wy56Ks9V2"], ["created_at", "2017-08-08 08:22:55.692509"], ["updated_at", "2017-08-08 08:22:55.692509"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:22:55 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:22:55.700859"], ["last_sign_in_at", "2017-08-08 08:22:55.700859"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:22:55.702464"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.1ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:22:55 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 8ms (Views: 4.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$NPgbUnmV5uD92oX4ZJVpkugiK7aayzcaGGqHmuYvf/WPGFb3101D."], ["created_at", "2017-08-08 08:22:55.728595"], ["updated_at", "2017-08-08 08:22:55.728595"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:22:55 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:22:55.737071"], ["last_sign_in_at", "2017-08-08 08:22:55.737071"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:22:55.738242"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:22:55 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.4ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:22:55 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:22:55 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$EzCmLaD/jOdEwRorNV10MOMxq7QxUDF5A7JBBiI7FGRBn4v4E91eu"], ["created_at", "2017-08-08 08:22:55.765859"], ["updated_at", "2017-08-08 08:22:55.765859"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:22:55 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:22:55.772003"], ["last_sign_in_at", "2017-08-08 08:22:55.772003"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:22:55.772489"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 11:22:55 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 302 Found in 3ms (Views: 2.9ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 11:22:55 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:23:49.812008', '2017-08-08 08:23:49.812008', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:23:49.812008', '2017-08-08 08:23:49.812008', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:23:49.815756', '2017-08-08 08:23:49.815756', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:23:49.815756', '2017-08-08 08:23:49.815756', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:23:49.817917', '2017-08-08 08:23:49.817917', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:23:49.817917', '2017-08-08 08:23:49.817917', 298486374)[0m
  [1m[35m (80.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$wlFpmsIVGvs2xv97wHP5kORwoaCWt3DQ2D4bHGVgINduTuwCLUP26"], ["created_at", "2017-08-08 08:23:50.020856"], ["updated_at", "2017-08-08 08:23:50.020856"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:23:50 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:23:50.082793"], ["last_sign_in_at", "2017-08-08 08:23:50.082793"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:23:50.083443"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 29ms (ActiveRecord: 0.6ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:23:50 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.8ms)
Completed 200 OK in 480ms (Views: 477.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:23:50 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$RYRRkT4JHKTb7s2/PzLSWuIpw1H8qDQ9E3V8vnq6AMonDFE0AkRQS"], ["created_at", "2017-08-08 08:23:50.598197"], ["updated_at", "2017-08-08 08:23:50.598197"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:23:50 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:23:50.608354"], ["last_sign_in_at", "2017-08-08 08:23:50.608354"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:23:50.608955"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 11:23:50 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.2ms)
Completed 302 Found in 4ms (Views: 3.1ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 11:23:50 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 15ms (ActiveRecord: 0.4ms)
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:23:50 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:23:50 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$kRjy8h11PPVmvZhOcbvbienIkBwg7yEbcz/HL2nv5ekBDtdyW/3hm"], ["created_at", "2017-08-08 08:23:50.653916"], ["updated_at", "2017-08-08 08:23:50.653916"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:23:50 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:23:50.661967"], ["last_sign_in_at", "2017-08-08 08:23:50.661967"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:23:50.662983"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.9ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:23:50 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.2ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:23:50 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$6FW7IVbND5GvjPwqCMXLreOupHEPcahH2ZlfaOGJU5apHWOxCP0Gq"], ["created_at", "2017-08-08 08:23:50.684749"], ["updated_at", "2017-08-08 08:23:50.684749"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:23:50 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:23:50.692033"], ["last_sign_in_at", "2017-08-08 08:23:50.692033"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:23:50.692546"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 11:23:50 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 13ms (Views: 0.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$iYpraEKunznX52bpPtcv/eQ1EhlP3X1bHBvyNGnheCnzXdGG2amua"], ["created_at", "2017-08-08 08:23:50.721097"], ["updated_at", "2017-08-08 08:23:50.721097"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:23:50 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:23:50.728131"], ["last_sign_in_at", "2017-08-08 08:23:50.728131"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:23:50.728696"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 11:23:50 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 08:23:50.744942"], ["updated_at", "2017-08-08 08:23:50.744942"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 17ms (Views: 1.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.5ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:24:08.191384', '2017-08-08 08:24:08.191384', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:24:08.191384', '2017-08-08 08:24:08.191384', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:24:08.194153', '2017-08-08 08:24:08.194153', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:24:08.194153', '2017-08-08 08:24:08.194153', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:24:08.195927', '2017-08-08 08:24:08.195927', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:24:08.195927', '2017-08-08 08:24:08.195927', 298486374)[0m
  [1m[35m (48.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$/IWH7E.bSD.fwBZ7qP/e/./buYSX9QtQsDUOfWnI/9cOhBtfdKueK"], ["created_at", "2017-08-08 08:24:08.353302"], ["updated_at", "2017-08-08 08:24:08.353302"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:24:08 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:24:08.418499"], ["last_sign_in_at", "2017-08-08 08:24:08.418499"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:24:08.419097"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 30ms (ActiveRecord: 0.6ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 11:24:08 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 15ms (Views: 0.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$n2mKC95kbCh/PuEEAA.Wbu/gk3yrtpoSnhX5q7wpjaQgdowY1XaQK"], ["created_at", "2017-08-08 08:24:08.464204"], ["updated_at", "2017-08-08 08:24:08.464204"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:24:08 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:24:08.472354"], ["last_sign_in_at", "2017-08-08 08:24:08.472354"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:24:08.472892"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 11:24:08 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 08:24:08.501205"], ["updated_at", "2017-08-08 08:24:08.501205"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 29ms (Views: 2.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$hkN46gj1yNtEgbRXazmT1e92hUDgQmAV781QC2/Yz1ho7X485qP/a"], ["created_at", "2017-08-08 08:24:08.517176"], ["updated_at", "2017-08-08 08:24:08.517176"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:24:08 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:24:08.524491"], ["last_sign_in_at", "2017-08-08 08:24:08.524491"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:24:08.525472"], ["id", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:24:08 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (1.1ms)
Completed 200 OK in 448ms (Views: 446.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:24:08 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.8ms)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$DyGA7oyLI5X.3z7ysNWxhu5tFZfTurY6s/0VyhM/YWrjcHknY4dXe"], ["created_at", "2017-08-08 08:24:09.000170"], ["updated_at", "2017-08-08 08:24:09.000170"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:24:09 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:24:09.006894"], ["last_sign_in_at", "2017-08-08 08:24:09.006894"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:24:09.007677"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 11:24:09 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.3ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 11:24:09 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:24:09 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.5ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$l2IfXAhtAlHXfgYWKHw8QOMMdKME0v.zLNEP2IvO66CwB/4q8MxPy"], ["created_at", "2017-08-08 08:24:09.039615"], ["updated_at", "2017-08-08 08:24:09.039615"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:24:09 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:24:09.046459"], ["last_sign_in_at", "2017-08-08 08:24:09.046459"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:24:09.046926"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:24:09 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.4ms)
Completed 200 OK in 26ms (Views: 23.1ms | ActiveRecord: 0.3ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:24:09 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:24:09 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:25:43.022484', '2017-08-08 08:25:43.022484', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:25:43.022484', '2017-08-08 08:25:43.022484', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:25:43.025538', '2017-08-08 08:25:43.025538', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:25:43.025538', '2017-08-08 08:25:43.025538', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:25:43.027681', '2017-08-08 08:25:43.027681', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:25:43.027681', '2017-08-08 08:25:43.027681', 298486374)[0m
  [1m[35m (101.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:25:43 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (4.1ms)
Completed 200 OK in 392ms (Views: 385.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$ZibORCjlSkFYljzbONB1LOaWXI/D7zYTdQ39k/Obtfju4gZS8G5xK"], ["created_at", "2017-08-08 08:25:43.731391"], ["updated_at", "2017-08-08 08:25:43.731391"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:25:43 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:25:43.761194"], ["last_sign_in_at", "2017-08-08 08:25:43.761194"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:25:43.762506"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 35ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 11:25:43 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.7ms)
Completed 302 Found in 5ms (Views: 4.5ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 11:25:43 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$LAe128P0obJgNPRTuEkf5OuhxqjlBg7UVWzxcm5R2Lr1Nf2Q1OlKW"], ["created_at", "2017-08-08 08:25:43.819501"], ["updated_at", "2017-08-08 08:25:43.819501"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:25:43 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:25:43.827990"], ["last_sign_in_at", "2017-08-08 08:25:43.827990"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:25:43.828485"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:25:43 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.4ms)
Completed 200 OK in 5ms (Views: 3.0ms | ActiveRecord: 0.2ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$T0FpiCkZSOyNLmPajRpi/uhWAgU5eLYLtpS3/FzrPj1ILjBoR9FQq"], ["created_at", "2017-08-08 08:25:43.847547"], ["updated_at", "2017-08-08 08:25:43.847547"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:25:43 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:25:43.854407"], ["last_sign_in_at", "2017-08-08 08:25:43.854407"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:25:43.855025"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:25:43 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.4ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.2ms)
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:25:43 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:25:43 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:25:43 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$zFCD6BFYFpcYROOfFedQf.1EnKRURNWghPU62nRsfMJoFtmW6PM0."], ["created_at", "2017-08-08 08:25:43.901419"], ["updated_at", "2017-08-08 08:25:43.901419"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:25:43 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:25:43.907851"], ["last_sign_in_at", "2017-08-08 08:25:43.907851"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:25:43.908792"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 11:25:43 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 08:25:43.943659"], ["updated_at", "2017-08-08 08:25:43.943659"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 29ms (Views: 1.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$0N6MleRzVQwOC5I7I0Epl.0e8XJ9f.othnyiqw2VXFr1A3kOh9/62"], ["created_at", "2017-08-08 08:25:43.957234"], ["updated_at", "2017-08-08 08:25:43.957234"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:25:43 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:25:43.964683"], ["last_sign_in_at", "2017-08-08 08:25:43.964683"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:25:43.965185"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 11:25:43 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:26:00.070824', '2017-08-08 08:26:00.070824', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:26:00.070824', '2017-08-08 08:26:00.070824', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:26:00.074721', '2017-08-08 08:26:00.074721', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:26:00.074721', '2017-08-08 08:26:00.074721', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:26:00.076913', '2017-08-08 08:26:00.076913', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:26:00.076913', '2017-08-08 08:26:00.076913', 298486374)[0m
  [1m[35m (74.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:26:00 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 10ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:26:00 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:26:00 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.3ms)
Completed 200 OK in 434ms (Views: 433.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$k1FUF6LA6Zi5GiebS6P17.mqzNxCPReQ2bxeJjeLMkhI5l7t38QZS"], ["created_at", "2017-08-08 08:26:00.766371"], ["updated_at", "2017-08-08 08:26:00.766371"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:26:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:26:00.779945"], ["last_sign_in_at", "2017-08-08 08:26:00.779945"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:26:00.780525"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 13ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 11:26:00 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.3ms)
Completed 302 Found in 3ms (Views: 2.5ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 11:26:00 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$LYe7m3cSDCIoRQzaW6n2LeNQPo2m/siq/5BJu14VukYrAuO/v5WKa"], ["created_at", "2017-08-08 08:26:00.806239"], ["updated_at", "2017-08-08 08:26:00.806239"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:26:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:26:00.812100"], ["last_sign_in_at", "2017-08-08 08:26:00.812100"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:26:00.812705"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:26:00 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$phb6oa3hirZ1/4BcL69G/unHceK2YeQTtHuL2pg5KN.m6FAKZC97y"], ["created_at", "2017-08-08 08:26:00.826706"], ["updated_at", "2017-08-08 08:26:00.826706"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:26:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:26:00.832433"], ["last_sign_in_at", "2017-08-08 08:26:00.832433"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:26:00.832862"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:26:00 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:26:00 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$jZbhIVGRUPAa6gZl.iyeEeI5FTW1QzqVLCNL9icCpIUUnrCPcQlhG"], ["created_at", "2017-08-08 08:26:00.851537"], ["updated_at", "2017-08-08 08:26:00.851537"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:26:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:26:00.857016"], ["last_sign_in_at", "2017-08-08 08:26:00.857016"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:26:00.857438"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 11:26:00 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 08:26:00.902202"], ["updated_at", "2017-08-08 08:26:00.902202"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 41ms (Views: 1.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$UmqUP3LtEjc0yraIOOkr/eXxYpOhxAkJdXt/A98QG8AhwqdAHd35i"], ["created_at", "2017-08-08 08:26:00.914948"], ["updated_at", "2017-08-08 08:26:00.914948"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:26:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:26:00.920847"], ["last_sign_in_at", "2017-08-08 08:26:00.920847"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:26:00.921314"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 11:26:00 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 8ms (Views: 2.7ms | ActiveRecord: 0.4ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:27:18.448663', '2017-08-08 08:27:18.448663', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:27:18.448663', '2017-08-08 08:27:18.448663', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:27:18.452225', '2017-08-08 08:27:18.452225', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:27:18.452225', '2017-08-08 08:27:18.452225', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:27:18.454023', '2017-08-08 08:27:18.454023', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:27:18.454023', '2017-08-08 08:27:18.454023', 298486374)[0m
  [1m[35m (116.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:27:18 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 10ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$2Xl5H6NSbzshXTYj17ptmeb0qsesrs5ynAxSxwLdnRmE5SJvYMZa6"], ["created_at", "2017-08-08 08:27:18.739920"], ["updated_at", "2017-08-08 08:27:18.739920"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:27:18 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:27:18.775394"], ["last_sign_in_at", "2017-08-08 08:27:18.775394"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:27:18.776582"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 41ms (ActiveRecord: 1.2ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:27:18 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.8ms)
Completed 200 OK in 427ms (Views: 424.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:27:19 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$tl5GWCWT18yBVb6tlvbzSunM/Byn8TvgluF3q8TSzVcK99OtOfJre"], ["created_at", "2017-08-08 08:27:19.234787"], ["updated_at", "2017-08-08 08:27:19.234787"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:27:19 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:27:19.241142"], ["last_sign_in_at", "2017-08-08 08:27:19.241142"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:27:19.241626"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 11:27:19 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.4ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 11:27:19 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (3.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:27:19 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.5ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$sgCOcCf5FRoYv0RckDQ53OiceNOo8JLAkIJX6aRTzBL6nxbZaHYMi"], ["created_at", "2017-08-08 08:27:19.278997"], ["updated_at", "2017-08-08 08:27:19.278997"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:27:19 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:27:19.288860"], ["last_sign_in_at", "2017-08-08 08:27:19.288860"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:27:19.289777"], ["id", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 1.1ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:27:19 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 5ms (Views: 2.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:27:19 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$XvRDDoC67F2wtEdQDVXVG.92mM5C0z7A2HgF/soUuIcsIESE20eQa"], ["created_at", "2017-08-08 08:27:19.320533"], ["updated_at", "2017-08-08 08:27:19.320533"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:27:19 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:27:19.326642"], ["last_sign_in_at", "2017-08-08 08:27:19.326642"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:27:19.327216"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 11:27:19 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 32ms (Views: 0.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$ltK9VzOvlYmn5f7kkfOcHOhEpBSRBVsQLW2gODP1/.t5Gw3/CExsm"], ["created_at", "2017-08-08 08:27:19.530474"], ["updated_at", "2017-08-08 08:27:19.530474"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:27:19 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:27:19.539684"], ["last_sign_in_at", "2017-08-08 08:27:19.539684"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:27:19.540409"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 11:27:19 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 08:27:19.556864"], ["updated_at", "2017-08-08 08:27:19.556864"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 15ms (Views: 1.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:27:36.204076', '2017-08-08 08:27:36.204076', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:27:36.204076', '2017-08-08 08:27:36.204076', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:27:36.207647', '2017-08-08 08:27:36.207647', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:27:36.207647', '2017-08-08 08:27:36.207647', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:27:36.209603', '2017-08-08 08:27:36.209603', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:27:36.209603', '2017-08-08 08:27:36.209603', 298486374)[0m
  [1m[35m (714.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$wDQYIPXkQFdZzmCFxJgGP.NN0O98KDfNjrk92hNh/WdNsqqihkUC6"], ["created_at", "2017-08-08 08:27:37.056261"], ["updated_at", "2017-08-08 08:27:37.056261"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:27:37 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:27:37.117640"], ["last_sign_in_at", "2017-08-08 08:27:37.117640"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:27:37.118371"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 28ms (ActiveRecord: 0.6ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:27:37 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.7ms)
Completed 200 OK in 454ms (Views: 451.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:27:37 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:27:37 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:27:37 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.5ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$cCRSdpJ/mr80Pr9YuElHj.0UM76sWLq7LLcY4yU09fDFBVlwhUD92"], ["created_at", "2017-08-08 08:27:37.630507"], ["updated_at", "2017-08-08 08:27:37.630507"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:27:37 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:27:37.641277"], ["last_sign_in_at", "2017-08-08 08:27:37.641277"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:27:37.641897"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.8ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 11:27:37 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.4ms)
Completed 302 Found in 4ms (Views: 3.2ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 11:27:37 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$K59UBM.TWNbiwY/Kk8TVluh8ZTlGDb3cRW5aejVNebkN2LxKZJ.1O"], ["created_at", "2017-08-08 08:27:37.667060"], ["updated_at", "2017-08-08 08:27:37.667060"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:27:37 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:27:37.673990"], ["last_sign_in_at", "2017-08-08 08:27:37.673990"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:27:37.674481"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:27:37 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:27:37 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.5ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$Mrz1OjWVmtGlmsLbbfnms.Ff/bJScxM7684jGNXZ0OIxcqr2o2dhO"], ["created_at", "2017-08-08 08:27:37.698364"], ["updated_at", "2017-08-08 08:27:37.698364"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:27:37 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:27:37.704475"], ["last_sign_in_at", "2017-08-08 08:27:37.704475"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:27:37.704914"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 11:27:37 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 08:27:37.734993"], ["updated_at", "2017-08-08 08:27:37.734993"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 27ms (Views: 1.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$wEbvcXyrSx000PeG4KaiQe0/T1gHUKdLHOt/aGUEZd53mbe2Hd0dW"], ["created_at", "2017-08-08 08:27:37.748202"], ["updated_at", "2017-08-08 08:27:37.748202"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:27:37 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:27:37.754693"], ["last_sign_in_at", "2017-08-08 08:27:37.754693"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:27:37.755393"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 11:27:37 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 15ms (Views: 0.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:27:52.509353', '2017-08-08 08:27:52.509353', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:27:52.509353', '2017-08-08 08:27:52.509353', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:27:52.512464', '2017-08-08 08:27:52.512464', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:27:52.512464', '2017-08-08 08:27:52.512464', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:27:52.514335', '2017-08-08 08:27:52.514335', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:27:52.514335', '2017-08-08 08:27:52.514335', 298486374)[0m
  [1m[35m (54.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$TklvW3z0CRB0uaYbc52cSepAOM5lW3Exu7JjVViOa3reA1.dFSEYG"], ["created_at", "2017-08-08 08:27:52.665280"], ["updated_at", "2017-08-08 08:27:52.665280"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:27:52 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:27:52.727615"], ["last_sign_in_at", "2017-08-08 08:27:52.727615"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:27:52.728317"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 27ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 11:27:52 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 08:27:52.765823"], ["updated_at", "2017-08-08 08:27:52.765823"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 24ms (Views: 2.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$Oskxnzu/r438.fXtF0wUnOooTUXGXHI/O2ZPtgd08pn8FhO4YDw.G"], ["created_at", "2017-08-08 08:27:52.780126"], ["updated_at", "2017-08-08 08:27:52.780126"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:27:52 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:27:52.791087"], ["last_sign_in_at", "2017-08-08 08:27:52.791087"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:27:52.792238"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 11:27:52 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 6ms (Views: 0.7ms | ActiveRecord: 0.4ms)
  [1m[35m (2.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$b7Q2UZXjTDGFYID7J3FWf.JHWV64.Sl2c/./WA2LAS0s9MpTFeaH2"], ["created_at", "2017-08-08 08:27:52.816844"], ["updated_at", "2017-08-08 08:27:52.816844"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:27:52 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:27:52.825374"], ["last_sign_in_at", "2017-08-08 08:27:52.825374"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:27:52.826269"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.7ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:27:52 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.8ms)
Completed 200 OK in 435ms (Views: 432.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:27:53 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:27:53 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.2ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$ouARX0yK21f30XCWhWYteuk2RCSrdtmJa8Serh.i..AbJ40PSzT92"], ["created_at", "2017-08-08 08:27:53.292143"], ["updated_at", "2017-08-08 08:27:53.292143"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:27:53 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:27:53.301913"], ["last_sign_in_at", "2017-08-08 08:27:53.301913"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:27:53.302909"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 0.9ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 11:27:53 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.4ms)
Completed 302 Found in 4ms (Views: 3.1ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 11:27:53 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:27:53 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:27:53 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$wjJH/0wif8O/v7rR50cBee7r3DBqLX9rdje4JOo.uGupZ6VF9UKjO"], ["created_at", "2017-08-08 08:27:53.343747"], ["updated_at", "2017-08-08 08:27:53.343747"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:27:53 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:27:53.349057"], ["last_sign_in_at", "2017-08-08 08:27:53.349057"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:27:53.349494"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:27:53 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 5ms (Views: 1.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:28:15.714731', '2017-08-08 08:28:15.714731', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:28:15.714731', '2017-08-08 08:28:15.714731', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:28:15.718191', '2017-08-08 08:28:15.718191', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:28:15.718191', '2017-08-08 08:28:15.718191', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:28:15.720238', '2017-08-08 08:28:15.720238', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:28:15.720238', '2017-08-08 08:28:15.720238', 298486374)[0m
  [1m[35m (108.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:28:15 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 12ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$zTqyd4U6EVYBk2s2VaWs/.qsRREhJdLWyg2QXIcndHPSUHpYnUlW."], ["created_at", "2017-08-08 08:28:16.019226"], ["updated_at", "2017-08-08 08:28:16.019226"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:28:16 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:28:16.034025"], ["last_sign_in_at", "2017-08-08 08:28:16.034025"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:28:16.034747"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 0.6ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:28:16 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (1.4ms)
Completed 200 OK in 404ms (Views: 401.7ms | ActiveRecord: 0.2ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:28:16 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.8ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$l8JPNM3NCUfXEpcbU0zrqOf/kHSPNulMZtLq/8KF1uIfWLU0.LqUe"], ["created_at", "2017-08-08 08:28:16.473716"], ["updated_at", "2017-08-08 08:28:16.473716"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:28:16 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:28:16.484856"], ["last_sign_in_at", "2017-08-08 08:28:16.484856"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:28:16.485467"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 11:28:16 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (2.1ms)
Completed 302 Found in 7ms (Views: 5.8ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 11:28:16 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.3ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:28:16 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$5wxgPZMVUublwE/4SIJ5V.d74A4gw6GlL/zynXGO9US4EFWJBn7t2"], ["created_at", "2017-08-08 08:28:16.531194"], ["updated_at", "2017-08-08 08:28:16.531194"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:28:16 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:28:16.551007"], ["last_sign_in_at", "2017-08-08 08:28:16.551007"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:28:16.553136"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 24ms (ActiveRecord: 2.6ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:28:16 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.4ms)
Completed 200 OK in 10ms (Views: 5.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:28:16 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$9AOZFsR0ZighmsoeokVNSOht1H3mLDot7hiuaWYwTZhjrR2/o/qKa"], ["created_at", "2017-08-08 08:28:16.598168"], ["updated_at", "2017-08-08 08:28:16.598168"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:28:16 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:28:16.607118"], ["last_sign_in_at", "2017-08-08 08:28:16.607118"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:28:16.608740"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.6ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 11:28:16 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 08:28:16.651131"], ["updated_at", "2017-08-08 08:28:16.651131"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 36ms (Views: 1.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$SEjZtQSUZo2D20XC5lqq/.pmzGy3NWTjmUdmq4wgiwd1uG7krPUuK"], ["created_at", "2017-08-08 08:28:16.663679"], ["updated_at", "2017-08-08 08:28:16.663679"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:28:16 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:28:16.670386"], ["last_sign_in_at", "2017-08-08 08:28:16.670386"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:28:16.671090"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 11:28:16 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:31:59.584449', '2017-08-08 08:31:59.584449', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:31:59.584449', '2017-08-08 08:31:59.584449', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:31:59.588277', '2017-08-08 08:31:59.588277', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:31:59.588277', '2017-08-08 08:31:59.588277', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:31:59.590514', '2017-08-08 08:31:59.590514', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:31:59.590514', '2017-08-08 08:31:59.590514', 298486374)[0m
  [1m[35m (60.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$4Hz9uaqTXxWMJQrS0e0uDOOSWouBSNJ9jf/gXT/ylVUzQ98ST8hyi"], ["created_at", "2017-08-08 08:31:59.760453"], ["updated_at", "2017-08-08 08:31:59.760453"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:31:59 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:31:59.818714"], ["last_sign_in_at", "2017-08-08 08:31:59.818714"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:31:59.819310"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 28ms (ActiveRecord: 0.5ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 11:31:59 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 12ms (Views: 0.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$dZvZcmsviawtqqlzR/UWtO8qSrvOauKsXXr1KVjU6iWXIFz7h8yRW"], ["created_at", "2017-08-08 08:31:59.942625"], ["updated_at", "2017-08-08 08:31:59.942625"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:31:59 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:31:59.948466"], ["last_sign_in_at", "2017-08-08 08:31:59.948466"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:31:59.949004"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 11:31:59 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 08:31:59.964009"], ["updated_at", "2017-08-08 08:31:59.964009"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 15ms (Views: 2.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:31:59 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.4ms)
Completed 200 OK in 356ms (Views: 355.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$V2YXe1PnHQWV0Dx09mDg4uXJNuNDjMpk3jHTiC4GfoQsBqnkA.mi6"], ["created_at", "2017-08-08 08:32:00.338141"], ["updated_at", "2017-08-08 08:32:00.338141"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:32:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:32:00.346417"], ["last_sign_in_at", "2017-08-08 08:32:00.346417"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:32:00.347449"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 11:32:00 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (2.2ms)
Completed 302 Found in 8ms (Views: 6.3ms | ActiveRecord: 0.9ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 11:32:00 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.3ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:32:00 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.2ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:32:00 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:32:00 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$eUOyovoNUG2bYIuhy99ko.jE8vLKmfCJgWHXZw/WompGgU9sU8n4e"], ["created_at", "2017-08-08 08:32:00.421260"], ["updated_at", "2017-08-08 08:32:00.421260"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:32:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:32:00.429176"], ["last_sign_in_at", "2017-08-08 08:32:00.429176"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:32:00.430571"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:32:00 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 7ms (Views: 4.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$GhN6WrDjP1ur1BmFVbPdnePXfr.GF7nauHatJAe5sqCoutkJZ8iG2"], ["created_at", "2017-08-08 08:32:00.453486"], ["updated_at", "2017-08-08 08:32:00.453486"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:32:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:32:00.462338"], ["last_sign_in_at", "2017-08-08 08:32:00.462338"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:32:00.463677"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 2.0ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:32:00 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 7ms (Views: 3.9ms | ActiveRecord: 0.2ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:32:11.173591', '2017-08-08 08:32:11.173591', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:32:11.173591', '2017-08-08 08:32:11.173591', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:32:11.176859', '2017-08-08 08:32:11.176859', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:32:11.176859', '2017-08-08 08:32:11.176859', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:32:11.178664', '2017-08-08 08:32:11.178664', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:32:11.178664', '2017-08-08 08:32:11.178664', 298486374)[0m
  [1m[35m (73.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:32:11 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 10ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$EYoGr1xis8Yy48p2y9Cbme6G6qClpNQg6crni0dm47T3Epv10gCjC"], ["created_at", "2017-08-08 08:32:11.409702"], ["updated_at", "2017-08-08 08:32:11.409702"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:32:11 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:32:11.428961"], ["last_sign_in_at", "2017-08-08 08:32:11.428961"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:32:11.429504"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 15ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:32:11 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.8ms)
Completed 200 OK in 418ms (Views: 416.1ms | ActiveRecord: 0.2ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:32:11 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$ZTp4NtceqTB4uWcel9uu6ukbYIM5JkVO2YrgRjQCZnjc9ZnJ1hWFC"], ["created_at", "2017-08-08 08:32:11.872003"], ["updated_at", "2017-08-08 08:32:11.872003"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:32:11 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:32:11.878259"], ["last_sign_in_at", "2017-08-08 08:32:11.878259"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:32:11.878763"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 11:32:11 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 302 Found in 3ms (Views: 2.4ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 11:32:11 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:32:11 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$G9FsQqnDD23YBB/gLZ4UJOH7zti4INu0jo0xXIZ1A8id1NLzEZ98y"], ["created_at", "2017-08-08 08:32:11.906064"], ["updated_at", "2017-08-08 08:32:11.906064"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:32:11 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:32:11.913277"], ["last_sign_in_at", "2017-08-08 08:32:11.913277"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:32:11.914016"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:32:11 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:32:11 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$HTafQc6vN7GK1BORTNPhue3BCxHdQtFOm9rvOwF4Vygf1Nj3kfF9C"], ["created_at", "2017-08-08 08:32:11.935385"], ["updated_at", "2017-08-08 08:32:11.935385"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:32:11 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:32:11.941688"], ["last_sign_in_at", "2017-08-08 08:32:11.941688"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:32:11.942138"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 11:32:11 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 33ms (Views: 0.6ms | ActiveRecord: 0.3ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$Ox.jn/rnfrmYefUFaWWq3upUR0CkGPX/bCfDhTCj9J0HwI4SeYbaK"], ["created_at", "2017-08-08 08:32:11.990416"], ["updated_at", "2017-08-08 08:32:11.990416"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:32:11 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:32:11.996776"], ["last_sign_in_at", "2017-08-08 08:32:11.996776"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:32:11.997233"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 11:32:12 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 08:32:12.015483"], ["updated_at", "2017-08-08 08:32:12.015483"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 18ms (Views: 1.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:34:36.697203', '2017-08-08 08:34:36.697203', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:34:36.697203', '2017-08-08 08:34:36.697203', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:34:36.700446', '2017-08-08 08:34:36.700446', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:34:36.700446', '2017-08-08 08:34:36.700446', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:34:36.702434', '2017-08-08 08:34:36.702434', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:34:36.702434', '2017-08-08 08:34:36.702434', 298486374)[0m
  [1m[35m (126.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$an5peNsiPwJN8RAJ3kQotuKBjlh6tITBdIGKIHY9BkKx29R92CxFa"], ["created_at", "2017-08-08 08:34:36.941130"], ["updated_at", "2017-08-08 08:34:36.941130"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:34:36 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:34:37.006515"], ["last_sign_in_at", "2017-08-08 08:34:37.006515"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:34:37.007023"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 27ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 11:34:37 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 08:34:37.044359"], ["updated_at", "2017-08-08 08:34:37.044359"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 23ms (Views: 2.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$6b7X2oTL0GZ7MEcZGPEkTONa2Kts7TKPpA0hEceXH4WizrZlhEZTK"], ["created_at", "2017-08-08 08:34:37.058037"], ["updated_at", "2017-08-08 08:34:37.058037"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:34:37 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:34:37.064065"], ["last_sign_in_at", "2017-08-08 08:34:37.064065"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:34:37.064659"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 11:34:37 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:34:37 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.3ms)
Completed 200 OK in 447ms (Views: 446.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:34:37 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:34:37 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.8ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$dGSZW/s9yMHYE/7Dsy8ywuksLEj71TiPxlgfg4lWhONP3Hv/kzZ76"], ["created_at", "2017-08-08 08:34:37.550488"], ["updated_at", "2017-08-08 08:34:37.550488"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:34:37 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:34:37.559402"], ["last_sign_in_at", "2017-08-08 08:34:37.559402"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:34:37.561031"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 11:34:37 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.7ms)
Completed 302 Found in 6ms (Views: 5.4ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 11:34:37 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$Zt4dFy27BXqocEZ.1P/DiuKVAPRnKGfaC615ME8ivL5QRoka9svZW"], ["created_at", "2017-08-08 08:34:37.589191"], ["updated_at", "2017-08-08 08:34:37.589191"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:34:37 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:34:37.596121"], ["last_sign_in_at", "2017-08-08 08:34:37.596121"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:34:37.596912"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:34:37 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.4ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$EeyLdbT/zLG0a7ypg9nLvulQR0FPmnmqXJpl4uqAKhx8uJbsbCkO2"], ["created_at", "2017-08-08 08:34:37.613655"], ["updated_at", "2017-08-08 08:34:37.613655"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:34:37 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:34:37.620914"], ["last_sign_in_at", "2017-08-08 08:34:37.620914"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:34:37.621493"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:34:37 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:34:37 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:35:21.929975', '2017-08-08 08:35:21.929975', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:35:21.929975', '2017-08-08 08:35:21.929975', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:35:21.933707', '2017-08-08 08:35:21.933707', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:35:21.933707', '2017-08-08 08:35:21.933707', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:35:21.935440', '2017-08-08 08:35:21.935440', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:35:21.935440', '2017-08-08 08:35:21.935440', 298486374)[0m
  [1m[35m (62.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$gYeWyzthXPhzvnxaUMjWgOlo0Gn12NhkBOO6qGwRic5O9LnE1cczW"], ["created_at", "2017-08-08 08:35:22.093583"], ["updated_at", "2017-08-08 08:35:22.093583"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:35:22 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:35:22.147657"], ["last_sign_in_at", "2017-08-08 08:35:22.147657"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:35:22.148239"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 0.5ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 11:35:22 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 11ms (Views: 0.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$F6PDBxsS/GoJqbeDOuNsJ./BvpDtUUQ2GrA0/PsIsNft3BNlF7EY6"], ["created_at", "2017-08-08 08:35:22.335147"], ["updated_at", "2017-08-08 08:35:22.335147"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:35:22 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:35:22.341165"], ["last_sign_in_at", "2017-08-08 08:35:22.341165"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:35:22.341679"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 11:35:22 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 08:35:22.356288"], ["updated_at", "2017-08-08 08:35:22.356288"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 14ms (Views: 1.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$lxx/ERkBN9NdEjAsg0CCFedLwTVapq2aDqqpU1if3GwLVN2GiHB7S"], ["created_at", "2017-08-08 08:35:22.369167"], ["updated_at", "2017-08-08 08:35:22.369167"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:35:22 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:35:22.375008"], ["last_sign_in_at", "2017-08-08 08:35:22.375008"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:35:22.375439"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:35:22 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (1.1ms)
Completed 200 OK in 361ms (Views: 358.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:35:22 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:35:22 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:35:22 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$35hTDalxGLBKdXH9C/YDEOwkS7FKCp5BHbHexcSSwr.MD8AdMSn.u"], ["created_at", "2017-08-08 08:35:22.770362"], ["updated_at", "2017-08-08 08:35:22.770362"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:35:22 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:35:22.776478"], ["last_sign_in_at", "2017-08-08 08:35:22.776478"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:35:22.776937"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:35:22 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:35:22 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$ZoNL9CHVNgzCIYLyfzjz3.II4UAIEaoIUxpJGnd.tYLjWckbmF/HC"], ["created_at", "2017-08-08 08:35:22.796547"], ["updated_at", "2017-08-08 08:35:22.796547"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:35:22 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:35:22.803195"], ["last_sign_in_at", "2017-08-08 08:35:22.803195"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:35:22.803698"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 11:35:22 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (32.2ms)
Completed 302 Found in 34ms (Views: 33.6ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 11:35:22 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:49:17.058365', '2017-08-08 08:49:17.058365', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 08:49:17.058365', '2017-08-08 08:49:17.058365', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:49:17.061845', '2017-08-08 08:49:17.061845', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 08:49:17.061845', '2017-08-08 08:49:17.061845', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:49:17.063498', '2017-08-08 08:49:17.063498', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 08:49:17.063498', '2017-08-08 08:49:17.063498', 298486374)[0m
  [1m[35m (156.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$pDOKmu3S8uN3BANzHQK7W.Y6eLeIt3UVrcdQM22PEDVarZ6XARJn6"], ["created_at", "2017-08-08 08:49:17.327583"], ["updated_at", "2017-08-08 08:49:17.327583"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:49:17 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:49:17.382256"], ["last_sign_in_at", "2017-08-08 08:49:17.382256"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:49:17.382736"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 0.5ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 11:49:17 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 19ms (Views: 0.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$t8cGOoe46IC2eyc2clbNweyJzREe/GEnWq6kB0siVsLeL5D4VQv/q"], ["created_at", "2017-08-08 08:49:17.426952"], ["updated_at", "2017-08-08 08:49:17.426952"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:49:17 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:49:17.432931"], ["last_sign_in_at", "2017-08-08 08:49:17.432931"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:49:17.433802"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 11:49:17 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 08:49:17.447742"], ["updated_at", "2017-08-08 08:49:17.447742"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 13ms (Views: 1.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:49:17 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 200 OK in 427ms (Views: 426.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:49:17 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:49:17 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 11:49:17 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$mtK4p8/OkNbQSmc/inkm7eZ1RRqhjK/x61ZGQuc50TDIj/Bw506pe"], ["created_at", "2017-08-08 08:49:17.903810"], ["updated_at", "2017-08-08 08:49:17.903810"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:49:17 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:49:17.909366"], ["last_sign_in_at", "2017-08-08 08:49:17.909366"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:49:17.909791"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 11:49:17 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.4ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 11:49:17 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (2.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$Cg/Vhtmqh5QD/6wzi7iJJOtq0rrEMDlE4G6FIns4MTLGsonXxCrxq"], ["created_at", "2017-08-08 08:49:17.931510"], ["updated_at", "2017-08-08 08:49:17.931510"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:49:17 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:49:17.940105"], ["last_sign_in_at", "2017-08-08 08:49:17.940105"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:49:17.940529"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 11:49:17 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 22ms (Views: 2.1ms | ActiveRecord: 0.2ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$fdBTW10pzqJ0RFIjSwgHm.oISsyCqlq5nSxMDub6nsD6ZGtx40rz."], ["created_at", "2017-08-08 08:49:17.980028"], ["updated_at", "2017-08-08 08:49:17.980028"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 11:49:17 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 08:49:17.987017"], ["last_sign_in_at", "2017-08-08 08:49:17.987017"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 08:49:17.987641"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 11:49:17 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.5ms)
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[35m (2.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 09:00:58.846483', '2017-08-08 09:00:58.846483', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 09:00:58.846483', '2017-08-08 09:00:58.846483', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 09:00:58.848889', '2017-08-08 09:00:58.848889', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 09:00:58.848889', '2017-08-08 09:00:58.848889', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 09:00:58.850665', '2017-08-08 09:00:58.850665', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 09:00:58.850665', '2017-08-08 09:00:58.850665', 298486374)[0m
  [1m[35m (865.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 12:00:59 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.8ms)
Completed 200 OK in 375ms (Views: 368.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$XKBC0DL/Rrp5XXpHBxSR8.pw295RiIJLpf0hLetDlPtFTadB9RLvK"], ["created_at", "2017-08-08 09:01:00.307061"], ["updated_at", "2017-08-08 09:01:00.307061"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 12:01:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 09:01:00.354116"], ["last_sign_in_at", "2017-08-08 09:01:00.354116"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 09:01:00.354627"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 28ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 12:01:00 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.5ms)
Completed 302 Found in 6ms (Views: 4.6ms | ActiveRecord: 0.6ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 12:01:00 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$z.EqgvBy4fQ8xdL4D0wk9uQMJjGzfqx1AOToWob0BLcH9F0/pW/gK"], ["created_at", "2017-08-08 09:01:00.401858"], ["updated_at", "2017-08-08 09:01:00.401858"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 12:01:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 09:01:00.407921"], ["last_sign_in_at", "2017-08-08 09:01:00.407921"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 09:01:00.408551"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 12:01:00 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.2ms)
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$i/ktkfzw5OeYnxudwpbzB.amR7Gh8ZNvPexpRWgrTe99sL9R.ojrq"], ["created_at", "2017-08-08 09:01:00.424925"], ["updated_at", "2017-08-08 09:01:00.424925"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 12:01:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 09:01:00.430603"], ["last_sign_in_at", "2017-08-08 09:01:00.430603"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 09:01:00.431022"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 12:01:00 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.2ms)
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.1ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 12:01:00 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 12:01:00 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 12:01:00 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$qJXzGSt1EKw/ZECLbHL.PO3MKL4y4/SIht8YAN1E9Omjt27ZEQDB6"], ["created_at", "2017-08-08 09:01:00.464438"], ["updated_at", "2017-08-08 09:01:00.464438"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 12:01:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 09:01:00.470246"], ["last_sign_in_at", "2017-08-08 09:01:00.470246"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 09:01:00.470741"], ["id", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 12:01:00 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 09:01:00.499776"], ["updated_at", "2017-08-08 09:01:00.499776"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 25ms (Views: 1.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$cLymJ2kn.2ueNH/8RSj/FeiPwc8FlhB9dZAN3uF769/6xRW6QWWWu"], ["created_at", "2017-08-08 09:01:00.515132"], ["updated_at", "2017-08-08 09:01:00.515132"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 12:01:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 09:01:00.523690"], ["last_sign_in_at", "2017-08-08 09:01:00.523690"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 09:01:00.524407"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.5ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 12:01:00 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 09:01:44.136031', '2017-08-08 09:01:44.136031', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 09:01:44.136031', '2017-08-08 09:01:44.136031', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 09:01:44.138934', '2017-08-08 09:01:44.138934', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 09:01:44.138934', '2017-08-08 09:01:44.138934', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 09:01:44.140604', '2017-08-08 09:01:44.140604', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 09:01:44.140604', '2017-08-08 09:01:44.140604', 298486374)[0m
  [1m[35m (53.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$edx8JeX.TTDNt/C2Lw7tx.h.Nw1m8gEZjkeYe5aaOnmZGxwqxPAri"], ["created_at", "2017-08-08 09:01:44.287092"], ["updated_at", "2017-08-08 09:01:44.287092"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 12:01:44 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 09:01:44.348714"], ["last_sign_in_at", "2017-08-08 09:01:44.348714"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 09:01:44.349250"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 27ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 12:01:44 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 09:01:44.385093"], ["updated_at", "2017-08-08 09:01:44.385093"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 22ms (Views: 1.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$QJ8xyF.ZBFGUzADZ1k/j.OItI15l64tlg5FO756VFZOmrTzf90evW"], ["created_at", "2017-08-08 09:01:44.398637"], ["updated_at", "2017-08-08 09:01:44.398637"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 12:01:44 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 09:01:44.404826"], ["last_sign_in_at", "2017-08-08 09:01:44.404826"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 09:01:44.405436"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 12:01:44 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 12:01:44 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.4ms)
Completed 200 OK in 411ms (Views: 410.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$i9XNdbpHWS8ZCOBixNcf1u3z30uQpNXWMGMB.qzs.Yj7hYbhkSyXu"], ["created_at", "2017-08-08 09:01:44.838579"], ["updated_at", "2017-08-08 09:01:44.838579"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 12:01:44 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 09:01:44.844612"], ["last_sign_in_at", "2017-08-08 09:01:44.844612"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 09:01:44.845118"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 12:01:44 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 12:01:44 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 12:01:44 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$acF4UuTX0QBbrk7uCuOh5.HbYajxeDZkqCdpl2LhEp7289iLrGczK"], ["created_at", "2017-08-08 09:01:44.866958"], ["updated_at", "2017-08-08 09:01:44.866958"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 12:01:44 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 09:01:44.873265"], ["last_sign_in_at", "2017-08-08 09:01:44.873265"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 09:01:44.873646"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 12:01:44 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 12:01:44 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$aYExDrUpMvrF08rNgMYIjeC/.RNYaHvw95iktuPZa6slBCp8iXofW"], ["created_at", "2017-08-08 09:01:44.890772"], ["updated_at", "2017-08-08 09:01:44.890772"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 12:01:44 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 09:01:44.896333"], ["last_sign_in_at", "2017-08-08 09:01:44.896333"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 09:01:44.896851"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 12:01:44 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 4ms (Views: 3.6ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 12:01:44 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 09:02:00.648317', '2017-08-08 09:02:00.648317', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 09:02:00.648317', '2017-08-08 09:02:00.648317', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 09:02:00.650784', '2017-08-08 09:02:00.650784', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 09:02:00.650784', '2017-08-08 09:02:00.650784', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 09:02:00.652378', '2017-08-08 09:02:00.652378', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 09:02:00.652378', '2017-08-08 09:02:00.652378', 298486374)[0m
  [1m[35m (88.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$PGVo95lYXzCZOe2tYY/lUuvpt76xqImHE3k8voWzgO.nFWByIETx."], ["created_at", "2017-08-08 09:02:00.836646"], ["updated_at", "2017-08-08 09:02:00.836646"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 12:02:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 09:02:00.901321"], ["last_sign_in_at", "2017-08-08 09:02:00.901321"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 09:02:00.901802"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 12:02:00 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 09:02:00.937814"], ["updated_at", "2017-08-08 09:02:00.937814"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 23ms (Views: 2.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$272G0P6ovQ3xXOHVPnGfLuUdHfgdr7vuY8ssD8MvVJ7viy8YbAqTm"], ["created_at", "2017-08-08 09:02:00.952737"], ["updated_at", "2017-08-08 09:02:00.952737"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 12:02:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 09:02:00.959411"], ["last_sign_in_at", "2017-08-08 09:02:00.959411"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 09:02:00.959889"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 12:02:00 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 12:02:00 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.2ms)
Completed 200 OK in 368ms (Views: 367.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$icnyG0byieeBERFeDl3s/uPh9TfJBw6bIDnL4HZhXkZH66DZ42cPe"], ["created_at", "2017-08-08 09:02:01.349764"], ["updated_at", "2017-08-08 09:02:01.349764"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 12:02:01 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 09:02:01.358231"], ["last_sign_in_at", "2017-08-08 09:02:01.358231"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 09:02:01.359556"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.8ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 12:02:01 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.8ms)
Completed 302 Found in 8ms (Views: 4.4ms | ActiveRecord: 1.0ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 12:02:01 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$kfDu6dUaQpaRfW.vRZsVqeGwhjxswlZ8SNg7b1kN/jeyRNQ3NtVjS"], ["created_at", "2017-08-08 09:02:01.393187"], ["updated_at", "2017-08-08 09:02:01.393187"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 12:02:01 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 09:02:01.411807"], ["last_sign_in_at", "2017-08-08 09:02:01.411807"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 09:02:01.412309"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 12:02:01 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.7ms)
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 12:02:01 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 12:02:01 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$w6Q2CVyt53YpPu7wxGRI7OFzvZ3Req18VKSQckH2VED9goeI3bXGu"], ["created_at", "2017-08-08 09:02:01.450384"], ["updated_at", "2017-08-08 09:02:01.450384"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 12:02:01 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 09:02:01.459831"], ["last_sign_in_at", "2017-08-08 09:02:01.459831"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 09:02:01.460402"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 12:02:01 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.4ms)
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 12:02:01 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 09:02:10.873674', '2017-08-08 09:02:10.873674', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 09:02:10.873674', '2017-08-08 09:02:10.873674', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 09:02:10.876838', '2017-08-08 09:02:10.876838', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 09:02:10.876838', '2017-08-08 09:02:10.876838', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 09:02:10.878563', '2017-08-08 09:02:10.878563', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 09:02:10.878563', '2017-08-08 09:02:10.878563', 298486374)[0m
  [1m[35m (98.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$QPnW2IIXIW80cO/SlgTQ5.NRyMt/czS5oOe6/dOoNlHeR2V4of7Fa"], ["created_at", "2017-08-08 09:02:11.075330"], ["updated_at", "2017-08-08 09:02:11.075330"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 12:02:11 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 09:02:11.136492"], ["last_sign_in_at", "2017-08-08 09:02:11.136492"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 09:02:11.137006"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 12:02:11 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 09:02:11.171727"], ["updated_at", "2017-08-08 09:02:11.171727"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 22ms (Views: 2.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$8tARs69i4MLeA9qGF3b0a.S3LJ/nEp3uaDMMgrEBOMiNQsAN3vNMC"], ["created_at", "2017-08-08 09:02:11.186005"], ["updated_at", "2017-08-08 09:02:11.186005"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 12:02:11 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 09:02:11.191799"], ["last_sign_in_at", "2017-08-08 09:02:11.191799"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 09:02:11.192437"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 12:02:11 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 12:02:11 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.2ms)
Completed 200 OK in 402ms (Views: 400.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$sivyWara4sESvW3dTW9X/.V12sUAMGpXb122uylxfvng5j8cbkIk6"], ["created_at", "2017-08-08 09:02:11.615844"], ["updated_at", "2017-08-08 09:02:11.615844"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 12:02:11 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 09:02:11.621388"], ["last_sign_in_at", "2017-08-08 09:02:11.621388"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 09:02:11.621808"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 12:02:11 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.4ms)
Completed 200 OK in 5ms (Views: 3.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$cK6p6o7evR3g3I/gIescPORyy0wu1PO6a5SKVqxzSBzmH5.Cw3hje"], ["created_at", "2017-08-08 09:02:11.640182"], ["updated_at", "2017-08-08 09:02:11.640182"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 12:02:11 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 09:02:11.645676"], ["last_sign_in_at", "2017-08-08 09:02:11.645676"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 09:02:11.646070"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 12:02:11 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 12:02:11 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 12:02:11 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 12:02:11 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$IWWCni.a6G2uvK6y4rbqKOVvnlVWHjoJ9oomGlDtPdhKxrNPO/j7O"], ["created_at", "2017-08-08 09:02:11.671393"], ["updated_at", "2017-08-08 09:02:11.671393"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 12:02:11 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 09:02:11.676551"], ["last_sign_in_at", "2017-08-08 09:02:11.676551"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 09:02:11.676922"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 12:02:11 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 2ms (Views: 2.0ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 12:02:11 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:12:38.080677', '2017-08-08 10:12:38.080677', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:12:38.080677', '2017-08-08 10:12:38.080677', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:12:38.083460', '2017-08-08 10:12:38.083460', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:12:38.083460', '2017-08-08 10:12:38.083460', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:12:38.085182', '2017-08-08 10:12:38.085182', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:12:38.085182', '2017-08-08 10:12:38.085182', 298486374)[0m
  [1m[35m (65.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$GtGa.7YG1YM3lIxHM00hWul8Ooq7ezWLnqJ3XjGPBjsWH4rQISyx."], ["created_at", "2017-08-08 10:12:38.236768"], ["updated_at", "2017-08-08 10:12:38.236768"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:12:38 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:12:38.289148"], ["last_sign_in_at", "2017-08-08 10:12:38.289148"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:12:38.289640"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 25ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:12:38 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:12:38.323671"], ["updated_at", "2017-08-08 10:12:38.323671"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 21ms (Views: 1.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$0GJWLuQREViJGyMZ4D/wOeosb7JNi.HBEa76mdvmdndrq/vScVJLa"], ["created_at", "2017-08-08 10:12:38.336246"], ["updated_at", "2017-08-08 10:12:38.336246"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:12:38 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:12:38.342470"], ["last_sign_in_at", "2017-08-08 10:12:38.342470"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:12:38.343010"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:12:38 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:12:38 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:12:38 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.4ms)
Completed 200 OK in 381ms (Views: 380.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$piP341yQEYca0OyxSkJbceC1HRRYg4Kaj4B7NXlw4o2XSLlzQmz3y"], ["created_at", "2017-08-08 10:12:38.749058"], ["updated_at", "2017-08-08 10:12:38.749058"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:12:38 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:12:38.754773"], ["last_sign_in_at", "2017-08-08 10:12:38.754773"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:12:38.755191"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:12:38 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:12:38 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$xCyLJrU0X1tJNb1IHDiuj.trOZqAFQruzBkeRw6V7RO49OtpB1v4K"], ["created_at", "2017-08-08 10:12:38.772263"], ["updated_at", "2017-08-08 10:12:38.772263"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:12:38 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:12:38.777522"], ["last_sign_in_at", "2017-08-08 10:12:38.777522"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:12:38.777933"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:12:38 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:12:38 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$SIi/CugJ2UyLxor9ZLCQZ.Fa5L/p7Ep8759h5Dl/az/9w79jIjJDu"], ["created_at", "2017-08-08 10:12:38.799403"], ["updated_at", "2017-08-08 10:12:38.799403"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:12:38 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:12:38.804864"], ["last_sign_in_at", "2017-08-08 10:12:38.804864"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:12:38.805247"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:12:38 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:12:54.265261', '2017-08-08 10:12:54.265261', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:12:54.265261', '2017-08-08 10:12:54.265261', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:12:54.268153', '2017-08-08 10:12:54.268153', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:12:54.268153', '2017-08-08 10:12:54.268153', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:12:54.269810', '2017-08-08 10:12:54.269810', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:12:54.269810', '2017-08-08 10:12:54.269810', 298486374)[0m
  [1m[35m (60.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$MCDzmyZBmI3se1pG1Fwdnu6psnJTA9WnmFDsw7IDApqml1txMy8ye"], ["created_at", "2017-08-08 10:12:54.414891"], ["updated_at", "2017-08-08 10:12:54.414891"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:12:54 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:12:54.474032"], ["last_sign_in_at", "2017-08-08 10:12:54.474032"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:12:54.474503"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 24ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:12:54 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:12:54.506698"], ["updated_at", "2017-08-08 10:12:54.506698"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 19ms (Views: 1.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$h33fnOIcJWFjMA05KxCwHuByf8vIwgjWd/EUA245UcDcpaDCrkM1q"], ["created_at", "2017-08-08 10:12:54.518907"], ["updated_at", "2017-08-08 10:12:54.518907"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:12:54 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:12:54.524742"], ["last_sign_in_at", "2017-08-08 10:12:54.524742"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:12:54.525192"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:12:54 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:12:54 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:12:54 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 200 OK in 381ms (Views: 380.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$WisiRF.wK9RSbHyExfpKIe2MVfGYhGDyVTR3I9QDxp7e7T/hSHmOG"], ["created_at", "2017-08-08 10:12:54.931003"], ["updated_at", "2017-08-08 10:12:54.931003"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:12:54 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:12:54.939833"], ["last_sign_in_at", "2017-08-08 10:12:54.939833"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:12:54.940308"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:12:54 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.5ms)
Completed 302 Found in 7ms (Views: 5.3ms | ActiveRecord: 0.7ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:12:54 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:12:54 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 200 OK in 4ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$BvWHt9AJghaw1LeKY.6rGua/E4PVNozUCpJ/6VzQbKeeDu/ye/oee"], ["created_at", "2017-08-08 10:12:54.981335"], ["updated_at", "2017-08-08 10:12:54.981335"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:12:54 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:12:54.986669"], ["last_sign_in_at", "2017-08-08 10:12:54.986669"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:12:54.987048"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:12:54 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$84DCMk6UYE1eOvHwDZb00O1mMvE3ORq9TVUHA8E4RDJOr0sIGcEo2"], ["created_at", "2017-08-08 10:12:55.003128"], ["updated_at", "2017-08-08 10:12:55.003128"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:12:55 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:12:55.009776"], ["last_sign_in_at", "2017-08-08 10:12:55.009776"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:12:55.010325"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:12:55 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.4ms)
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.1ms)
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:12:55 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:14:11.910299', '2017-08-08 10:14:11.910299', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:14:11.910299', '2017-08-08 10:14:11.910299', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:14:11.913453', '2017-08-08 10:14:11.913453', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:14:11.913453', '2017-08-08 10:14:11.913453', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:14:11.915098', '2017-08-08 10:14:11.915098', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:14:11.915098', '2017-08-08 10:14:11.915098', 298486374)[0m
  [1m[35m (53.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$WHX5z/Na.2H9I1824Nif9.b1/WtohhTevAFx5yUf86rVLXqBwmROW"], ["created_at", "2017-08-08 10:14:12.068857"], ["updated_at", "2017-08-08 10:14:12.068857"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:14:12 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:14:12.122568"], ["last_sign_in_at", "2017-08-08 10:14:12.122568"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:14:12.123073"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 25ms (ActiveRecord: 0.5ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:14:12 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 11ms (Views: 0.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$njcqXyL7tbfkDfRTqdj8PuXYuK.jqp6R3LX0fU3RItCu7C5Dk5MCi"], ["created_at", "2017-08-08 10:14:12.158337"], ["updated_at", "2017-08-08 10:14:12.158337"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:14:12 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:14:12.163785"], ["last_sign_in_at", "2017-08-08 10:14:12.163785"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:14:12.164433"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:14:12 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:14:12.179291"], ["updated_at", "2017-08-08 10:14:12.179291"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 14ms (Views: 1.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:14:12 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$0ADhkC6o9u7h1HRmTCV3oOwvNTLToV7ijMJgl1IgeT0ivwdIKw99e"], ["created_at", "2017-08-08 10:14:12.199540"], ["updated_at", "2017-08-08 10:14:12.199540"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:14:12 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:14:12.205251"], ["last_sign_in_at", "2017-08-08 10:14:12.205251"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:14:12.205720"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:14:12 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.7ms)
Completed 200 OK in 407ms (Views: 405.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:14:12 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:14:12 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:14:12 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$xAKF6/W6avMjiBw0dc/WMuVPXQBldK76w8WkWZfHLnM.Ny1XcJv56"], ["created_at", "2017-08-08 10:14:12.633884"], ["updated_at", "2017-08-08 10:14:12.633884"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:14:12 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:14:12.638701"], ["last_sign_in_at", "2017-08-08 10:14:12.638701"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:14:12.639127"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:14:12 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:14:12 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$YybyIGy9sryXZe63lb2SledKvjLDVa/QafGgVBGd5P7r0pNFUDs2G"], ["created_at", "2017-08-08 10:14:12.658298"], ["updated_at", "2017-08-08 10:14:12.658298"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:14:12 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:14:12.664788"], ["last_sign_in_at", "2017-08-08 10:14:12.664788"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:14:12.665495"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:14:12 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:14:23.445162', '2017-08-08 10:14:23.445162', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:14:23.445162', '2017-08-08 10:14:23.445162', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:14:23.447529', '2017-08-08 10:14:23.447529', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:14:23.447529', '2017-08-08 10:14:23.447529', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:14:23.449315', '2017-08-08 10:14:23.449315', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:14:23.449315', '2017-08-08 10:14:23.449315', 298486374)[0m
  [1m[35m (76.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:14:23 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (4.0ms)
Completed 200 OK in 403ms (Views: 395.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:14:24 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:14:24 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$Q3x/PpHvfiW1iG3pLIIYl.0Gio3Yk/tXMeqr0Zu2Xhdey4/0GRccu"], ["created_at", "2017-08-08 10:14:24.067523"], ["updated_at", "2017-08-08 10:14:24.067523"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:14:24 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:14:24.081233"], ["last_sign_in_at", "2017-08-08 10:14:24.081233"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:14:24.081738"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 13ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:14:24 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.2ms)
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:14:24 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$.AAvuzwRv9k8UtDJXPTjROPVOup6/zAs6CxZ1SPgDVwsHEthquxtK"], ["created_at", "2017-08-08 10:14:24.106675"], ["updated_at", "2017-08-08 10:14:24.106675"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:14:24 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:14:24.112225"], ["last_sign_in_at", "2017-08-08 10:14:24.112225"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:14:24.112604"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:14:24 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.0ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:14:24 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$40pbYSum/zy6Ix2pVD8Ch.A3rioSBQiyYFcFrX5pKMQNqIdJlGMuC"], ["created_at", "2017-08-08 10:14:24.149406"], ["updated_at", "2017-08-08 10:14:24.149406"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:14:24 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:14:24.155140"], ["last_sign_in_at", "2017-08-08 10:14:24.155140"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:14:24.155714"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:14:24 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$VU19FKbvogKhAhq0rwKDSeTvE214.RsY7CpS9873o/Wxd7puqOE52"], ["created_at", "2017-08-08 10:14:24.169734"], ["updated_at", "2017-08-08 10:14:24.169734"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:14:24 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:14:24.174737"], ["last_sign_in_at", "2017-08-08 10:14:24.174737"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:14:24.175105"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:14:24 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 11ms (Views: 0.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$6UJiCOh4Tc0gPTv5bTxNjuCY3702c3GlVwmAG1MfmSnHdabu/criK"], ["created_at", "2017-08-08 10:14:24.198304"], ["updated_at", "2017-08-08 10:14:24.198304"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:14:24 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:14:24.204048"], ["last_sign_in_at", "2017-08-08 10:14:24.204048"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:14:24.204472"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:14:24 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:14:24.218360"], ["updated_at", "2017-08-08 10:14:24.218360"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 13ms (Views: 1.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:14:30.084900', '2017-08-08 10:14:30.084900', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:14:30.084900', '2017-08-08 10:14:30.084900', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:14:30.088414', '2017-08-08 10:14:30.088414', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:14:30.088414', '2017-08-08 10:14:30.088414', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:14:30.090073', '2017-08-08 10:14:30.090073', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:14:30.090073', '2017-08-08 10:14:30.090073', 298486374)[0m
  [1m[35m (56.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:14:30 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.7ms)
Completed 200 OK in 337ms (Views: 329.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$Xay/VbUVS6HMPfGcFaeBY.UEjyIlefAvDObRuVycX7RMMsf9LF3AG"], ["created_at", "2017-08-08 10:14:30.651858"], ["updated_at", "2017-08-08 10:14:30.651858"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:14:30 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:14:30.679770"], ["last_sign_in_at", "2017-08-08 10:14:30.679770"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:14:30.680261"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 30ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:14:30 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.5ms)
Completed 302 Found in 5ms (Views: 4.3ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:14:30 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$xtRlO7S.99ahyL.izDx6MuFVPXYMTfE29aeFDkpaMvThVPUy.hZda"], ["created_at", "2017-08-08 10:14:30.730269"], ["updated_at", "2017-08-08 10:14:30.730269"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:14:30 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:14:30.736590"], ["last_sign_in_at", "2017-08-08 10:14:30.736590"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:14:30.737098"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:14:30 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.2ms)
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:14:30 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:14:30 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:14:30 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$wLQpTenw50TScXnHYTpRTevvBgZhRW.WS0xgCUrJZWxHYj.YBKQMq"], ["created_at", "2017-08-08 10:14:30.770271"], ["updated_at", "2017-08-08 10:14:30.770271"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:14:30 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:14:30.776156"], ["last_sign_in_at", "2017-08-08 10:14:30.776156"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:14:30.776695"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:14:30 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.4ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$7/g7Af6sjrudAZZb7aL.seJPjjwqVcKEc3OWrgq75ED6Pd1TVwIcO"], ["created_at", "2017-08-08 10:14:30.793056"], ["updated_at", "2017-08-08 10:14:30.793056"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:14:30 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:14:30.798869"], ["last_sign_in_at", "2017-08-08 10:14:30.798869"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:14:30.799301"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:14:30 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 14ms (Views: 0.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$TGEMrGYFOOEEVJvMjgvnceb4EXerJWPsJ7pcJFEnzSCQR5kxRQvHe"], ["created_at", "2017-08-08 10:14:30.826755"], ["updated_at", "2017-08-08 10:14:30.826755"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:14:30 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:14:30.833105"], ["last_sign_in_at", "2017-08-08 10:14:30.833105"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:14:30.833816"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:14:30 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:14:30.851039"], ["updated_at", "2017-08-08 10:14:30.851039"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 16ms (Views: 1.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:14:59.150495', '2017-08-08 10:14:59.150495', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:14:59.150495', '2017-08-08 10:14:59.150495', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:14:59.153029', '2017-08-08 10:14:59.153029', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:14:59.153029', '2017-08-08 10:14:59.153029', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:14:59.154612', '2017-08-08 10:14:59.154612', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:14:59.154612', '2017-08-08 10:14:59.154612', 298486374)[0m
  [1m[35m (76.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$AUGrW1Q3AQcAVsO6kxpcaOdRkUYmtuZ/mXstWwp8JzCOwhp80yMUi"], ["created_at", "2017-08-08 10:14:59.322524"], ["updated_at", "2017-08-08 10:14:59.322524"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:14:59 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:14:59.377643"], ["last_sign_in_at", "2017-08-08 10:14:59.377643"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:14:59.378175"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:14:59 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:14:59.412917"], ["updated_at", "2017-08-08 10:14:59.412917"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 21ms (Views: 1.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$P27jhpL.MB0UakN1kDeXreic0RThVfa2yTDBlUdSFwceRKcUJqwIe"], ["created_at", "2017-08-08 10:14:59.425840"], ["updated_at", "2017-08-08 10:14:59.425840"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:14:59 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:14:59.431471"], ["last_sign_in_at", "2017-08-08 10:14:59.431471"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:14:59.431905"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:14:59 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:14:59 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.6ms)
Completed 200 OK in 395ms (Views: 394.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$bKirJWsIUbWaOTowRKk6gOkPHe0jEtEE9uDoY5JhSNEeul5pzrgCq"], ["created_at", "2017-08-08 10:14:59.845325"], ["updated_at", "2017-08-08 10:14:59.845325"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:14:59 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:14:59.850490"], ["last_sign_in_at", "2017-08-08 10:14:59.850490"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:14:59.850879"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:14:59 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 2ms (Views: 2.0ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:14:59 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:14:59 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:14:59 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$VgCI4MRGW7ynVv.B2c6RIelWofO72VJgBnKrmoUEH6e.HhcqYIQcu"], ["created_at", "2017-08-08 10:14:59.877032"], ["updated_at", "2017-08-08 10:14:59.877032"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:14:59 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:14:59.883173"], ["last_sign_in_at", "2017-08-08 10:14:59.883173"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:14:59.883581"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:14:59 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:14:59 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$YSThhdbHXc14pEDqQMj57eYSs90vRIYUQx6fZQOnBnTjVzdtgGwpC"], ["created_at", "2017-08-08 10:14:59.900999"], ["updated_at", "2017-08-08 10:14:59.900999"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:14:59 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:14:59.906879"], ["last_sign_in_at", "2017-08-08 10:14:59.906879"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:14:59.907296"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:14:59 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:15:08.963512', '2017-08-08 10:15:08.963512', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:15:08.963512', '2017-08-08 10:15:08.963512', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:15:08.966448', '2017-08-08 10:15:08.966448', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:15:08.966448', '2017-08-08 10:15:08.966448', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:15:08.968178', '2017-08-08 10:15:08.968178', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:15:08.968178', '2017-08-08 10:15:08.968178', 298486374)[0m
  [1m[35m (70.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$Dnbm12vEz3h4yH2FqP8yJ.hkt6K2xZufF6jtxoszLP4WVVmSapgmq"], ["created_at", "2017-08-08 10:15:09.125478"], ["updated_at", "2017-08-08 10:15:09.125478"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:15:09 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:15:09.180032"], ["last_sign_in_at", "2017-08-08 10:15:09.180032"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:15:09.180585"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:15:09 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:15:09.221596"], ["updated_at", "2017-08-08 10:15:09.221596"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 20ms (Views: 1.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$W3mfA5ufk7iCG3myR1qDW.YPTEsLMZ74LjkcKZqC/Yr3hKg3o8k3."], ["created_at", "2017-08-08 10:15:09.235561"], ["updated_at", "2017-08-08 10:15:09.235561"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:15:09 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:15:09.241079"], ["last_sign_in_at", "2017-08-08 10:15:09.241079"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:15:09.241543"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:15:09 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:15:09 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$P2aZRxswQODURog2cFhdaeGbWJudhJwmUL/IH8FMA1BxXoWPPyjV2"], ["created_at", "2017-08-08 10:15:09.263508"], ["updated_at", "2017-08-08 10:15:09.263508"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:15:09 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:15:09.269584"], ["last_sign_in_at", "2017-08-08 10:15:09.269584"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:15:09.270003"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:15:09 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.7ms)
Completed 200 OK in 346ms (Views: 344.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:15:09 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:15:09 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.4ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$LQcfALdpuliiHZjVwTu/h.io3CFaPwtrNNlbDGq4qKaz849uhWwXW"], ["created_at", "2017-08-08 10:15:09.644887"], ["updated_at", "2017-08-08 10:15:09.644887"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:15:09 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:15:09.654826"], ["last_sign_in_at", "2017-08-08 10:15:09.654826"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:15:09.655263"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:15:09 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.9ms)
Completed 302 Found in 6ms (Views: 5.7ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:15:09 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:15:09 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 14ms (Views: 13.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$aWh2/9UGJ/qGVrJ417mAH.Rc7WdZrSu8jvVvnuQbyGqKD0at492wS"], ["created_at", "2017-08-08 10:15:09.705380"], ["updated_at", "2017-08-08 10:15:09.705380"]]
  [1m[35m (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:15:09 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:15:09.713414"], ["last_sign_in_at", "2017-08-08 10:15:09.713414"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:15:09.713845"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 1.2ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:15:09 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:16:46.608917', '2017-08-08 10:16:46.608917', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:16:46.608917', '2017-08-08 10:16:46.608917', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:16:46.612041', '2017-08-08 10:16:46.612041', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:16:46.612041', '2017-08-08 10:16:46.612041', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:16:46.613700', '2017-08-08 10:16:46.613700', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:16:46.613700', '2017-08-08 10:16:46.613700', 298486374)[0m
  [1m[35m (64.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$54/zDLpYUZhYleHJ/73KZuMoDxDtGzRfhVwC7V3ARtIpdItRjzU5O"], ["created_at", "2017-08-08 10:16:46.771621"], ["updated_at", "2017-08-08 10:16:46.771621"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:16:46 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:16:46.823740"], ["last_sign_in_at", "2017-08-08 10:16:46.823740"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:16:46.824257"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 25ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:16:46 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:16:46.857373"], ["updated_at", "2017-08-08 10:16:46.857373"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 20ms (Views: 1.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$tueJZZ/emKIU.TBGdBHAk.EYWE.EyJZ8GxfXTDwi3fmvExq39004O"], ["created_at", "2017-08-08 10:16:46.869132"], ["updated_at", "2017-08-08 10:16:46.869132"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:16:46 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:16:46.875188"], ["last_sign_in_at", "2017-08-08 10:16:46.875188"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:16:46.875887"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
Started GET "/api/accounts.json" for 127.0.0.1 at 2017-08-08 13:16:46 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$bmPZPlNhxvxaCTCtEzTBeOCejH9JH7kvVBPjZUOGK6.VwDWR1EIRC"], ["created_at", "2017-08-08 10:16:46.891495"], ["updated_at", "2017-08-08 10:16:46.891495"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:16:46 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:16:46.897528"], ["last_sign_in_at", "2017-08-08 10:16:46.897528"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:16:46.897896"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:16:46 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.7ms)
Completed 200 OK in 398ms (Views: 395.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:16:47 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$n/2BvEX11Ed7zo6inj5TFOKwHkK1IBZh3Z3HsfI78VyfmxXGo/tXy"], ["created_at", "2017-08-08 10:16:47.312913"], ["updated_at", "2017-08-08 10:16:47.312913"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:16:47 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:16:47.319980"], ["last_sign_in_at", "2017-08-08 10:16:47.319980"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:16:47.320435"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:16:47 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:16:47 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:16:47 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:16:47 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$VjLFhfCpF8HkNfAOXF/A3usq2P8xpPBNQ4A0OeAySPqGBXKuMbpr2"], ["created_at", "2017-08-08 10:16:47.347935"], ["updated_at", "2017-08-08 10:16:47.347935"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:16:47 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:16:47.352938"], ["last_sign_in_at", "2017-08-08 10:16:47.352938"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:16:47.353318"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:16:47 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:16:47 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:18:37.756640', '2017-08-08 10:18:37.756640', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:18:37.756640', '2017-08-08 10:18:37.756640', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:18:37.760104', '2017-08-08 10:18:37.760104', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:18:37.760104', '2017-08-08 10:18:37.760104', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:18:37.762337', '2017-08-08 10:18:37.762337', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:18:37.762337', '2017-08-08 10:18:37.762337', 298486374)[0m
  [1m[35m (144.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:18:38 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.8ms)
Completed 200 OK in 444ms (Views: 438.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:18:38 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:18:38 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$acW/3TY9dGzxrCkc5NyfV.Z/72aMKim.MMWlY9hGOHvBCRPPXmX1a"], ["created_at", "2017-08-08 10:18:38.550614"], ["updated_at", "2017-08-08 10:18:38.550614"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:18:38 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:18:38.563027"], ["last_sign_in_at", "2017-08-08 10:18:38.563027"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:18:38.563478"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:18:38 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:18:38 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$CTQ5m1XcY8EO4sH3KYxl/ulF47bw7k6re1d6xzr/Ci7EYmB/doNmq"], ["created_at", "2017-08-08 10:18:38.587532"], ["updated_at", "2017-08-08 10:18:38.587532"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:18:38 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:18:38.592947"], ["last_sign_in_at", "2017-08-08 10:18:38.592947"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:18:38.593359"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:18:38 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:18:38 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$Vfa8VzG58CxP8lBDC.COyuPRg1DSbM.0lZdHf75Gxwz4PCUmEtn0e"], ["created_at", "2017-08-08 10:18:38.611255"], ["updated_at", "2017-08-08 10:18:38.611255"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:18:38 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:18:38.618555"], ["last_sign_in_at", "2017-08-08 10:18:38.618555"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:18:38.618988"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:18:38 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$ZGjI.e4GQXLheXQa27GrAu/ehkPJ9dqt92Z8QYlFwWGPZ8DuBD112"], ["created_at", "2017-08-08 10:18:38.650658"], ["updated_at", "2017-08-08 10:18:38.650658"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:18:38 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:18:38.656203"], ["last_sign_in_at", "2017-08-08 10:18:38.656203"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:18:38.656611"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:18:38 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 10ms (Views: 0.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$12ZcrNSzc7EOYG.iBQjmPex/mCxtZtiuGcH0XQ03L01f8A0w8evWq"], ["created_at", "2017-08-08 10:18:38.679116"], ["updated_at", "2017-08-08 10:18:38.679116"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:18:38 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:18:38.684307"], ["last_sign_in_at", "2017-08-08 10:18:38.684307"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:18:38.684722"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:18:38 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:18:38.697533"], ["updated_at", "2017-08-08 10:18:38.697533"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 12ms (Views: 0.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:18:51.088073', '2017-08-08 10:18:51.088073', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:18:51.088073', '2017-08-08 10:18:51.088073', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:18:51.090455', '2017-08-08 10:18:51.090455', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:18:51.090455', '2017-08-08 10:18:51.090455', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:18:51.092045', '2017-08-08 10:18:51.092045', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:18:51.092045', '2017-08-08 10:18:51.092045', 298486374)[0m
  [1m[35m (60.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$Y0BYx0SGvq.54PGFw659VONIi25anMwIEcfc5aap7eHKtKhvSPHZW"], ["created_at", "2017-08-08 10:18:51.240296"], ["updated_at", "2017-08-08 10:18:51.240296"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:18:51 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:18:51.302548"], ["last_sign_in_at", "2017-08-08 10:18:51.302548"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:18:51.303019"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 25ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:18:51 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:18:51.335752"], ["updated_at", "2017-08-08 10:18:51.335752"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 20ms (Views: 1.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$qO7cKpQC1FPOQ9CKIOtCLehmxb6tKDvBSPhs9jkm0rrap65Z652tq"], ["created_at", "2017-08-08 10:18:51.347921"], ["updated_at", "2017-08-08 10:18:51.347921"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:18:51 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:18:51.354035"], ["last_sign_in_at", "2017-08-08 10:18:51.354035"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:18:51.354538"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:18:51 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:18:51 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (2.1ms)
Completed 200 OK in 371ms (Views: 370.3ms | ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$Kd8ORfYxGrfSJgkZR..s3OJ2cOTo/3NKT965iILqyI8EXhfr5Rby."], ["created_at", "2017-08-08 10:18:51.749312"], ["updated_at", "2017-08-08 10:18:51.749312"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:18:51 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:18:51.759181"], ["last_sign_in_at", "2017-08-08 10:18:51.759181"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:18:51.759629"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:18:51 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.8ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:18:51 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 15ms (Views: 14.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$IEYpN84egCwNzeejfvfKpeyBphsoyNzZ.7JcWdXzpPQiewOigoSVu"], ["created_at", "2017-08-08 10:18:51.798304"], ["updated_at", "2017-08-08 10:18:51.798304"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:18:51 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:18:51.805461"], ["last_sign_in_at", "2017-08-08 10:18:51.805461"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:18:51.806326"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.9ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:18:51 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.7ms)
Completed 302 Found in 6ms (Views: 4.8ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:18:51 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$wX9QSUH9MTwga6HEmxyp3OA4PGe94qiLtALzUxFVGo/fB49aakVX2"], ["created_at", "2017-08-08 10:18:51.837184"], ["updated_at", "2017-08-08 10:18:51.837184"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:18:51 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:18:51.846988"], ["last_sign_in_at", "2017-08-08 10:18:51.846988"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:18:51.847438"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.1ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:18:51 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 11ms (Views: 9.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:18:51 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:18:51 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:22:45.397596', '2017-08-08 10:22:45.397596', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:22:45.397596', '2017-08-08 10:22:45.397596', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:22:45.400809', '2017-08-08 10:22:45.400809', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:22:45.400809', '2017-08-08 10:22:45.400809', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:22:45.402481', '2017-08-08 10:22:45.402481', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:22:45.402481', '2017-08-08 10:22:45.402481', 298486374)[0m
  [1m[35m (67.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$ntj/M7yh42b.qAv31Ze5G.xTnnHRLTyvspMU89UJ0HvZPkZuxTFfq"], ["created_at", "2017-08-08 10:22:45.567468"], ["updated_at", "2017-08-08 10:22:45.567468"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:22:45 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:22:45.621263"], ["last_sign_in_at", "2017-08-08 10:22:45.621263"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:22:45.621771"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 25ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:22:45 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:22:45.656133"], ["updated_at", "2017-08-08 10:22:45.656133"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 21ms (Views: 1.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$3SZ3oHqzSEriz1ffWjEvvuWsSOxeCoyQ/dx.tTxdG82GzEiSylmOq"], ["created_at", "2017-08-08 10:22:45.668935"], ["updated_at", "2017-08-08 10:22:45.668935"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:22:45 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:22:45.675459"], ["last_sign_in_at", "2017-08-08 10:22:45.675459"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:22:45.676219"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:22:45 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$6YzEgiOhIGajU6szBC6nGuBI9RJZRx/YHPYbGcK5He3hF8FDFL51q"], ["created_at", "2017-08-08 10:22:45.692107"], ["updated_at", "2017-08-08 10:22:45.692107"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:22:45 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:22:45.697726"], ["last_sign_in_at", "2017-08-08 10:22:45.697726"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:22:45.698254"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:22:45 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.7ms)
Completed 200 OK in 402ms (Views: 400.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:22:46 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$giwWydeQwGElAKh6Ksg0Me.konSD9PmEK1PkN8R5dl/HXfHpKL7Fa"], ["created_at", "2017-08-08 10:22:46.118024"], ["updated_at", "2017-08-08 10:22:46.118024"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:22:46 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:22:46.125270"], ["last_sign_in_at", "2017-08-08 10:22:46.125270"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:22:46.125718"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:22:46 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:22:46 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$Da8b3C9AG23a1x5mSylgTusYrtdVWfhe59PqvmLfyuWJCxaCdulHi"], ["created_at", "2017-08-08 10:22:46.145532"], ["updated_at", "2017-08-08 10:22:46.145532"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:22:46 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:22:46.151355"], ["last_sign_in_at", "2017-08-08 10:22:46.151355"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:22:46.152054"], ["id", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:22:46 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.2ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:22:46 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:22:46 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:22:46 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:23:47.710307', '2017-08-08 10:23:47.710307', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:23:47.710307', '2017-08-08 10:23:47.710307', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:23:47.713073', '2017-08-08 10:23:47.713073', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:23:47.713073', '2017-08-08 10:23:47.713073', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:23:47.714609', '2017-08-08 10:23:47.714609', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:23:47.714609', '2017-08-08 10:23:47.714609', 298486374)[0m
  [1m[35m (80.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$6sT/BKvwreVRa0zXGy/4YuH6rE26wsA3cov0ZUcr1ZTyQtOmsOxCS"], ["created_at", "2017-08-08 10:23:47.886201"], ["updated_at", "2017-08-08 10:23:47.886201"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:23:47 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:23:47.938878"], ["last_sign_in_at", "2017-08-08 10:23:47.938878"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:23:47.939356"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 25ms (ActiveRecord: 0.5ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:23:47 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 11ms (Views: 0.5ms | ActiveRecord: 0.3ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$DVq2nMpjk3y/.U1IjovEKujj2BwRKCDEj8dryyX5r5zoVSctITGY."], ["created_at", "2017-08-08 10:23:47.974643"], ["updated_at", "2017-08-08 10:23:47.974643"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:23:47 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:23:47.980759"], ["last_sign_in_at", "2017-08-08 10:23:47.980759"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:23:47.981354"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:23:47 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:23:47.997562"], ["updated_at", "2017-08-08 10:23:47.997562"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 16ms (Views: 1.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:23:48 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$UsC.p5aEolaSzyBk04ymwOtrhq0RR1PS3Lutj4wF9285f8M4IlPpS"], ["created_at", "2017-08-08 10:23:48.016764"], ["updated_at", "2017-08-08 10:23:48.016764"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:23:48 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:23:48.030022"], ["last_sign_in_at", "2017-08-08 10:23:48.030022"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:23:48.030470"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:23:48 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.7ms)
Completed 200 OK in 380ms (Views: 378.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:23:48 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:23:48 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$PtKEuARmuh3/l8CcNuAA8OzoACGl7OhEYnAyYcHc.OijrLqRJlZH2"], ["created_at", "2017-08-08 10:23:48.430161"], ["updated_at", "2017-08-08 10:23:48.430161"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:23:48 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:23:48.435843"], ["last_sign_in_at", "2017-08-08 10:23:48.435843"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:23:48.436301"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:23:48 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:23:48 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$L8eaZDsapk84zxjwXr/TW.vi6l1uxA9XsbiWXvLKsIdsT/iFryV82"], ["created_at", "2017-08-08 10:23:48.456799"], ["updated_at", "2017-08-08 10:23:48.456799"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:23:48 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:23:48.463352"], ["last_sign_in_at", "2017-08-08 10:23:48.463352"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:23:48.463823"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:23:48 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:23:48 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:24:21.257786', '2017-08-08 10:24:21.257786', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:24:21.257786', '2017-08-08 10:24:21.257786', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:24:21.260843', '2017-08-08 10:24:21.260843', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:24:21.260843', '2017-08-08 10:24:21.260843', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:24:21.262499', '2017-08-08 10:24:21.262499', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:24:21.262499', '2017-08-08 10:24:21.262499', 298486374)[0m
  [1m[35m (122.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:24:21 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 10ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$NMoBHBjTZ7Lmu5yFBQVYu.cCqOnpvWuTidQNDLjI2wPAgpoaeRvNC"], ["created_at", "2017-08-08 10:24:21.536868"], ["updated_at", "2017-08-08 10:24:21.536868"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:24:21 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:24:21.550078"], ["last_sign_in_at", "2017-08-08 10:24:21.550078"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:24:21.550620"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 14ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:24:21 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.7ms)
Completed 200 OK in 365ms (Views: 363.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$H/vEpdKb.iItBo9uKQ5WuezuLBVjHboBVziyJHRo0RwSh/3Y/loUO"], ["created_at", "2017-08-08 10:24:21.937483"], ["updated_at", "2017-08-08 10:24:21.937483"]]
  [1m[35m (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:24:21 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:24:21.946119"], ["last_sign_in_at", "2017-08-08 10:24:21.946119"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:24:21.946984"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:24:21 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 9ms (Views: 4.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:24:21 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.3ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$TogSNOKYVXS1lY5IccM8COXAg/J6qVc35GDa2zDsRQd39qghr9GHW"], ["created_at", "2017-08-08 10:24:21.980743"], ["updated_at", "2017-08-08 10:24:21.980743"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:24:21 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:24:21.988917"], ["last_sign_in_at", "2017-08-08 10:24:21.988917"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:24:21.989404"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 18ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:24:22 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 5ms (Views: 4.1ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:24:22 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.3ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:24:22 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:24:22 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$4ew8HkMDOtNaOyoSIQ1mCOIG7HeaJ5wZpB1SIYJc9PzTfEsNXtN6O"], ["created_at", "2017-08-08 10:24:22.048578"], ["updated_at", "2017-08-08 10:24:22.048578"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:24:22 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:24:22.057905"], ["last_sign_in_at", "2017-08-08 10:24:22.057905"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:24:22.058694"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:24:22 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:24:22.094016"], ["updated_at", "2017-08-08 10:24:22.094016"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 32ms (Views: 0.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$DGt0DOribNwiwe7cGoNIaex1Hnb6rQpJ4dMO1hb4nua6HijvY7.Hi"], ["created_at", "2017-08-08 10:24:22.105603"], ["updated_at", "2017-08-08 10:24:22.105603"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:24:22 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:24:22.111251"], ["last_sign_in_at", "2017-08-08 10:24:22.111251"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:24:22.111621"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:24:22 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 0.4ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:24:40.925655', '2017-08-08 10:24:40.925655', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:24:40.925655', '2017-08-08 10:24:40.925655', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:24:40.928408', '2017-08-08 10:24:40.928408', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:24:40.928408', '2017-08-08 10:24:40.928408', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:24:40.930263', '2017-08-08 10:24:40.930263', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:24:40.930263', '2017-08-08 10:24:40.930263', 298486374)[0m
  [1m[35m (152.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:24:41 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.7ms)
Completed 200 OK in 376ms (Views: 370.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$SxR2LyhMgeDnmNvjYB.tvuHYigvNr4xOXFyEerDUm7Uj0WNKBOvZm"], ["created_at", "2017-08-08 10:24:41.614365"], ["updated_at", "2017-08-08 10:24:41.614365"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:24:41 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:24:41.628937"], ["last_sign_in_at", "2017-08-08 10:24:41.628937"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:24:41.629410"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 21ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:24:41 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:24:41 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:24:41 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$GTFHlH5qz9i/CmN9hnahMO450MuIjZW7qS/YkDG5qYit7zDrHaj4i"], ["created_at", "2017-08-08 10:24:41.666762"], ["updated_at", "2017-08-08 10:24:41.666762"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:24:41 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:24:41.672277"], ["last_sign_in_at", "2017-08-08 10:24:41.672277"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:24:41.672716"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:24:41 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:24:41 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$ZbsbUFjwxO7ojaHWrxFEfe9ZYgB7mlv5hbB4ljt5Od9RmffezYt/S"], ["created_at", "2017-08-08 10:24:41.691584"], ["updated_at", "2017-08-08 10:24:41.691584"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:24:41 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:24:41.697180"], ["last_sign_in_at", "2017-08-08 10:24:41.697180"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:24:41.697657"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:24:41 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:24:41 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$QuQWrB0Emk5IXvCzpvdmi.KWwBQ0kYAhJdbEX341jrjtvFK98DfN2"], ["created_at", "2017-08-08 10:24:41.715300"], ["updated_at", "2017-08-08 10:24:41.715300"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:24:41 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:24:41.721004"], ["last_sign_in_at", "2017-08-08 10:24:41.721004"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:24:41.721640"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:24:41 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:24:41.743765"], ["updated_at", "2017-08-08 10:24:41.743765"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 20ms (Views: 1.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$V3/2k2Q5p/B.EaLg7J6NJ.tPIauRk8BI5phsjdSpGZ3S9hzv9f8Wy"], ["created_at", "2017-08-08 10:24:41.754954"], ["updated_at", "2017-08-08 10:24:41.754954"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:24:41 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:24:41.760244"], ["last_sign_in_at", "2017-08-08 10:24:41.760244"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:24:41.760659"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:24:41 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:25:07.128115', '2017-08-08 10:25:07.128115', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:25:07.128115', '2017-08-08 10:25:07.128115', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:25:07.130885', '2017-08-08 10:25:07.130885', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:25:07.130885', '2017-08-08 10:25:07.130885', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:25:07.132554', '2017-08-08 10:25:07.132554', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:25:07.132554', '2017-08-08 10:25:07.132554', 298486374)[0m
  [1m[35m (169.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$ydNdvIjoKzzo7X8kc3g13epHPSelS5sbp3MsCsn3rtjcy8EzVBIpm"], ["created_at", "2017-08-08 10:25:07.393996"], ["updated_at", "2017-08-08 10:25:07.393996"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:25:07 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:25:07.451257"], ["last_sign_in_at", "2017-08-08 10:25:07.451257"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:25:07.451719"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 25ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:25:07 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.7ms)
Completed 200 OK in 387ms (Views: 385.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:25:07 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:25:07 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.6ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$/iCdmQ7xgnovMSGEa5nr7uyzT4.v.c5oTmzHBl9w.1tIfKngBR6wO"], ["created_at", "2017-08-08 10:25:07.873519"], ["updated_at", "2017-08-08 10:25:07.873519"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:25:07 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:25:07.879315"], ["last_sign_in_at", "2017-08-08 10:25:07.879315"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:25:07.879706"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:25:07 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:25:07 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:25:07 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$6Y24Hbbts9iJp/QM6gmVQe4cFoN/kpvhUa/i7f7mIpM8pzpXj2jHS"], ["created_at", "2017-08-08 10:25:07.900988"], ["updated_at", "2017-08-08 10:25:07.900988"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:25:07 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:25:07.907622"], ["last_sign_in_at", "2017-08-08 10:25:07.907622"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:25:07.908262"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:25:07 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.5ms)
Completed 302 Found in 4ms (Views: 3.5ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:25:07 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$rgzR41eyBuCk4Klm7uwAFuTUWVFqL.iW/e9RHGvcht3Y80a.69U6i"], ["created_at", "2017-08-08 10:25:07.931986"], ["updated_at", "2017-08-08 10:25:07.931986"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:25:07 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:25:07.938888"], ["last_sign_in_at", "2017-08-08 10:25:07.938888"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:25:07.939374"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:25:07 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:25:07.982365"], ["updated_at", "2017-08-08 10:25:07.982365"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 40ms (Views: 1.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$FCr1fMLHGFiGFaYopz/W4OaY5gzWvkqGXK1SEnZbKnLJ39CWOuEXW"], ["created_at", "2017-08-08 10:25:07.994194"], ["updated_at", "2017-08-08 10:25:07.994194"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:25:07 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:25:08.000687"], ["last_sign_in_at", "2017-08-08 10:25:08.000687"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:25:08.001291"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:25:08 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:25:16.851465', '2017-08-08 10:25:16.851465', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:25:16.851465', '2017-08-08 10:25:16.851465', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:25:16.854301', '2017-08-08 10:25:16.854301', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:25:16.854301', '2017-08-08 10:25:16.854301', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:25:16.855934', '2017-08-08 10:25:16.855934', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:25:16.855934', '2017-08-08 10:25:16.855934', 298486374)[0m
  [1m[35m (88.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$aU2Ao3k12WfzE0E7TGgQ.eafgWhXiodWmxcxzE07x6LzQuN8.nuP2"], ["created_at", "2017-08-08 10:25:17.044094"], ["updated_at", "2017-08-08 10:25:17.044094"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:25:17 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:25:17.098039"], ["last_sign_in_at", "2017-08-08 10:25:17.098039"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:25:17.098527"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 24ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:25:17 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:25:17.132414"], ["updated_at", "2017-08-08 10:25:17.132414"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 21ms (Views: 1.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$EFm4FiDoIK8z12Sv1EyKw.aibqBlAiWHPiagJMvs0e.Is8UM6mHpK"], ["created_at", "2017-08-08 10:25:17.145128"], ["updated_at", "2017-08-08 10:25:17.145128"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:25:17 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:25:17.151355"], ["last_sign_in_at", "2017-08-08 10:25:17.151355"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:25:17.151806"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:25:17 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$WECI8ZNplOBOhkGnegFlfeH5PI6j.K7sD2u60APytHd5AGDXDfakS"], ["created_at", "2017-08-08 10:25:17.191247"], ["updated_at", "2017-08-08 10:25:17.191247"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:25:17 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:25:17.196747"], ["last_sign_in_at", "2017-08-08 10:25:17.196747"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:25:17.197137"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:25:17 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.7ms)
Completed 200 OK in 412ms (Views: 410.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:25:17 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$6zL9a.7DgXPYq7zioW2EzOUH0vjvm3tfVOHAZd1tNHepmvfrgxJrW"], ["created_at", "2017-08-08 10:25:17.632237"], ["updated_at", "2017-08-08 10:25:17.632237"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:25:17 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:25:17.637862"], ["last_sign_in_at", "2017-08-08 10:25:17.637862"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:25:17.638432"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:25:17 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.4ms)
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:25:17 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:25:17 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:25:17 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 9ms (Views: 8.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$KiW0GF8iHsb6/cZ/9R2OvOQ1fdeVw8bpdRPzgNBwJ4MSRgALTkdb."], ["created_at", "2017-08-08 10:25:17.674224"], ["updated_at", "2017-08-08 10:25:17.674224"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:25:17 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:25:17.681601"], ["last_sign_in_at", "2017-08-08 10:25:17.681601"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:25:17.682250"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.8ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:25:17 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.2ms)
Completed 302 Found in 4ms (Views: 3.1ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:25:17 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:25:36.742732', '2017-08-08 10:25:36.742732', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:25:36.742732', '2017-08-08 10:25:36.742732', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:25:36.745529', '2017-08-08 10:25:36.745529', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:25:36.745529', '2017-08-08 10:25:36.745529', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:25:36.747262', '2017-08-08 10:25:36.747262', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:25:36.747262', '2017-08-08 10:25:36.747262', 298486374)[0m
  [1m[35m (121.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$vRHmT/zNJrr9vHcEFCprV.a0SibwV9e57y2Dul/idlOWK.Io8Bd/y"], ["created_at", "2017-08-08 10:25:36.964973"], ["updated_at", "2017-08-08 10:25:36.964973"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:25:36 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:25:37.020244"], ["last_sign_in_at", "2017-08-08 10:25:37.020244"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:25:37.020772"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 25ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:25:37 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:25:37 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:25:37.061717"], ["updated_at", "2017-08-08 10:25:37.061717"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 21ms (Views: 2.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AccountsControllerTest: test_should_get_accounts
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$SB8NwMrsxqNefabtIY3V8uPbJlxW4rwtpNwuiknncZP7I82Fy4Ylm"], ["created_at", "2017-08-08 10:25:37.075488"], ["updated_at", "2017-08-08 10:25:37.075488"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:25:37 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:25:37.081225"], ["last_sign_in_at", "2017-08-08 10:25:37.081225"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:25:37.081670"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:25:37 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
  [1m[36mAccount Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:25:37 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.4ms)
Completed 200 OK in 402ms (Views: 401.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$UvW3e5DLTMTLjk5ZA43Cr.tMVXzfT36WoStZe6DTewviwQA9aCGtO"], ["created_at", "2017-08-08 10:25:37.507717"], ["updated_at", "2017-08-08 10:25:37.507717"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:25:37 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:25:37.513208"], ["last_sign_in_at", "2017-08-08 10:25:37.513208"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:25:37.513582"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:25:37 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:25:37 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$ekcrI4A985cOyihi8RO1rOpzAGeCRZIntX71B.mdb084cJ03JCWFu"], ["created_at", "2017-08-08 10:25:37.530283"], ["updated_at", "2017-08-08 10:25:37.530283"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:25:37 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:25:37.535846"], ["last_sign_in_at", "2017-08-08 10:25:37.535846"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:25:37.536297"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:25:37 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 2ms (Views: 2.0ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:25:37 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$FcgLthWZgKu2bT.aTgMv4eMQNL9bEETE0pDOaOUzrZQMsUsNaFRza"], ["created_at", "2017-08-08 10:25:37.555256"], ["updated_at", "2017-08-08 10:25:37.555256"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:25:37 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:25:37.561339"], ["last_sign_in_at", "2017-08-08 10:25:37.561339"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:25:37.561814"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:25:37 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.2ms)
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:25:37 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:25:37 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:25:54.220871', '2017-08-08 10:25:54.220871', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:25:54.220871', '2017-08-08 10:25:54.220871', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:25:54.223517', '2017-08-08 10:25:54.223517', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:25:54.223517', '2017-08-08 10:25:54.223517', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:25:54.225205', '2017-08-08 10:25:54.225205', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:25:54.225205', '2017-08-08 10:25:54.225205', 298486374)[0m
  [1m[35m (65.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$CR60RFhQBpFYsIeA/mH/5ODlYqNgZzu3UW.YNBvreY9x43jo5JL2e"], ["created_at", "2017-08-08 10:25:54.383645"], ["updated_at", "2017-08-08 10:25:54.383645"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:25:54 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:25:54.438943"], ["last_sign_in_at", "2017-08-08 10:25:54.438943"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:25:54.439468"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 36ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:25:54 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.7ms)
Completed 200 OK in 381ms (Views: 379.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$ZsZiziNnY5JQSrrAwcuDAOEhvpxP.Vpr9wFUJlOB7vKxD5tlt59QW"], ["created_at", "2017-08-08 10:25:54.855425"], ["updated_at", "2017-08-08 10:25:54.855425"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:25:54 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:25:54.861251"], ["last_sign_in_at", "2017-08-08 10:25:54.861251"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:25:54.861628"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:25:54 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:25:54 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$oMW0PcbE5utzhVH3u6m.1uC2PSqxUShRByahRXblZrupRQ1M7DwOO"], ["created_at", "2017-08-08 10:25:54.880381"], ["updated_at", "2017-08-08 10:25:54.880381"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:25:54 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:25:54.885806"], ["last_sign_in_at", "2017-08-08 10:25:54.885806"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:25:54.886181"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:25:54 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.0ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:25:54 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:25:54 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:25:54 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:25:54 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$7DvrDFvsovzo0vTpSxcS4eBa/iJJjO/8VFF64bpcSQNao7PYQ4Cb2"], ["created_at", "2017-08-08 10:25:54.920749"], ["updated_at", "2017-08-08 10:25:54.920749"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:25:54 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:25:54.926375"], ["last_sign_in_at", "2017-08-08 10:25:54.926375"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:25:54.926739"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:25:54 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:25:54 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:25:54.977964"], ["updated_at", "2017-08-08 10:25:54.977964"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 21ms (Views: 1.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:25:54 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.7ms | ActiveRecord: 0.3ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:26:39.864210', '2017-08-08 10:26:39.864210', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:26:39.864210', '2017-08-08 10:26:39.864210', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:26:39.867224', '2017-08-08 10:26:39.867224', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:26:39.867224', '2017-08-08 10:26:39.867224', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:26:39.868948', '2017-08-08 10:26:39.868948', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:26:39.868948', '2017-08-08 10:26:39.868948', 298486374)[0m
  [1m[35m (59.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$.QzhCg4uKo8QIvC4xtdM.Om0BXEMKVRK6FLMQB9uqaYrXGEGgnY7S"], ["created_at", "2017-08-08 10:26:40.032245"], ["updated_at", "2017-08-08 10:26:40.032245"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:26:40 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:26:40.090340"], ["last_sign_in_at", "2017-08-08 10:26:40.090340"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:26:40.090942"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 28ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:26:40 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:26:40 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:26:40.135986"], ["updated_at", "2017-08-08 10:26:40.135986"], ["currency", "USD"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 24ms (Views: 1.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:26:40 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 5ms (Views: 0.9ms | ActiveRecord: 0.3ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:26:40 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.7ms)
Completed 200 OK in 400ms (Views: 399.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$9/UbyBqeU//SFFjchBEALOFjTNPHmmaJARtRolwLPx7M732QrMNO6"], ["created_at", "2017-08-08 10:26:40.561370"], ["updated_at", "2017-08-08 10:26:40.561370"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:26:40 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:26:40.566784"], ["last_sign_in_at", "2017-08-08 10:26:40.566784"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:26:40.567185"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:26:40 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.2ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:26:40 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (1.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$C.eJ5Khn5YO1lNtV/Bj42.6fEZne/t.zX5Ad6A6cidUQZK5YRZEAe"], ["created_at", "2017-08-08 10:26:40.588194"], ["updated_at", "2017-08-08 10:26:40.588194"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:26:40 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:26:40.594274"], ["last_sign_in_at", "2017-08-08 10:26:40.594274"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:26:40.594807"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:26:40 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$ZXP3BmIgzOA8fMI1nNDmzek8UYdLch6v3EpuRpbyGDS8sknSgKSke"], ["created_at", "2017-08-08 10:26:40.609048"], ["updated_at", "2017-08-08 10:26:40.609048"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:26:40 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:26:40.614155"], ["last_sign_in_at", "2017-08-08 10:26:40.614155"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:26:40.614541"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:26:40 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:26:40 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:26:40 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:26:40 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:26:51.119597', '2017-08-08 10:26:51.119597', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:26:51.119597', '2017-08-08 10:26:51.119597', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:26:51.122593', '2017-08-08 10:26:51.122593', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:26:51.122593', '2017-08-08 10:26:51.122593', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:26:51.124217', '2017-08-08 10:26:51.124217', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:26:51.124217', '2017-08-08 10:26:51.124217', 298486374)[0m
  [1m[35m (92.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:26:51 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.7ms)
Completed 200 OK in 400ms (Views: 394.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:26:51 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:26:51 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:26:51 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$h1eHh2.p8QtO.6NHxACj2.7uK/DoGCYSCPIFgD62mC.J7/UB1LsZW"], ["created_at", "2017-08-08 10:26:51.771718"], ["updated_at", "2017-08-08 10:26:51.771718"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:26:51 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:26:51.784692"], ["last_sign_in_at", "2017-08-08 10:26:51.784692"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:26:51.785158"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:26:51 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.3ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:26:51 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$wOg2YE.SWKCRPwg0VAlqne6PiuTrqDTwz8nrmN6R4WNHT3tzQjTcC"], ["created_at", "2017-08-08 10:26:51.809886"], ["updated_at", "2017-08-08 10:26:51.809886"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:26:51 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:26:51.815383"], ["last_sign_in_at", "2017-08-08 10:26:51.815383"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:26:51.815825"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:26:51 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$sqJO9SyciIIvU86tcMf5JuzDOy5s9ESdzJuiQCqyLnK4WGyJrnq4S"], ["created_at", "2017-08-08 10:26:51.830102"], ["updated_at", "2017-08-08 10:26:51.830102"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:26:51 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:26:51.852733"], ["last_sign_in_at", "2017-08-08 10:26:51.852733"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:26:51.853097"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:26:51 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$vxTEGkFPxf7ZrLudjIN/guXYBRXjgnn/61E/QvKC/Bo57rLTw3q0m"], ["created_at", "2017-08-08 10:26:51.866867"], ["updated_at", "2017-08-08 10:26:51.866867"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:26:51 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:26:51.872527"], ["last_sign_in_at", "2017-08-08 10:26:51.872527"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:26:51.873169"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:26:51 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:26:51 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:26:51.904514"], ["updated_at", "2017-08-08 10:26:51.904514"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 21ms (Views: 1.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:26:51 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 5ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:27:11.168904', '2017-08-08 10:27:11.168904', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:27:11.168904', '2017-08-08 10:27:11.168904', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:27:11.171597', '2017-08-08 10:27:11.171597', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:27:11.171597', '2017-08-08 10:27:11.171597', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:27:11.173257', '2017-08-08 10:27:11.173257', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:27:11.173257', '2017-08-08 10:27:11.173257', 298486374)[0m
  [1m[35m (112.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$VmDY5V5aBdxJY8mleH58LO0N3Z2GtUi1TE8WBhTfhyZmACzqYm3ga"], ["created_at", "2017-08-08 10:27:11.381034"], ["updated_at", "2017-08-08 10:27:11.381034"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:27:11 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:27:11.447606"], ["last_sign_in_at", "2017-08-08 10:27:11.447606"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:27:11.448334"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 28ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:27:11 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:27:11 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:27:11.497711"], ["updated_at", "2017-08-08 10:27:11.497711"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 24ms (Views: 2.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:27:11 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$Y46iYQTl9tUx.epsYwxxMeWWu.bb7h/wc2ZhjOeZxPtIkOQ2Q5O2C"], ["created_at", "2017-08-08 10:27:11.519780"], ["updated_at", "2017-08-08 10:27:11.519780"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:27:11 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:27:11.527241"], ["last_sign_in_at", "2017-08-08 10:27:11.527241"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:27:11.527862"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:27:11 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (1.0ms)
Completed 200 OK in 378ms (Views: 375.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$B0tq0xwqKC3ch5tCIg/DIeFZJf3cqYSG5y.jMfbN.G7EYSP1PodfW"], ["created_at", "2017-08-08 10:27:11.926322"], ["updated_at", "2017-08-08 10:27:11.926322"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:27:11 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:27:11.935160"], ["last_sign_in_at", "2017-08-08 10:27:11.935160"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:27:11.936203"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:27:11 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:27:11 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.6ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$9iKbgdFCv7O2.5xP4d8fG.O04MSCnvDxvXweOYmNARQeA.ASKxHUi"], ["created_at", "2017-08-08 10:27:11.977727"], ["updated_at", "2017-08-08 10:27:11.977727"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:27:11 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:27:11.986531"], ["last_sign_in_at", "2017-08-08 10:27:11.986531"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:27:11.986989"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.1ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:27:11 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.6ms)
Completed 302 Found in 6ms (Views: 5.1ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:27:12 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 13ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:27:12 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:27:12 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:27:12 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.5ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:27:37.254447', '2017-08-08 10:27:37.254447', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:27:37.254447', '2017-08-08 10:27:37.254447', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:27:37.257402', '2017-08-08 10:27:37.257402', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:27:37.257402', '2017-08-08 10:27:37.257402', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:27:37.259024', '2017-08-08 10:27:37.259024', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:27:37.259024', '2017-08-08 10:27:37.259024', 298486374)[0m
  [1m[35m (85.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$/1zQQsg6cKZIOxfLvHeqwulhdPnwI/DURYqxM1JvPAEAbpHLrQnpa"], ["created_at", "2017-08-08 10:27:37.434709"], ["updated_at", "2017-08-08 10:27:37.434709"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:27:37 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:27:37.489128"], ["last_sign_in_at", "2017-08-08 10:27:37.489128"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:27:37.489601"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:27:37 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:27:37.525835"], ["updated_at", "2017-08-08 10:27:37.525835"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 22ms (Views: 1.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:27:37 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:27:37 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:27:37 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:27:37 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.2ms)
Completed 200 OK in 406ms (Views: 404.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:27:37 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$ebXnsjZ.XVTW66chKe.he.yyG3cqxrsHg1lPC8gayhdB0dal7.g0q"], ["created_at", "2017-08-08 10:27:37.972434"], ["updated_at", "2017-08-08 10:27:37.972434"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:27:37 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:27:37.977444"], ["last_sign_in_at", "2017-08-08 10:27:37.977444"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:27:37.977872"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:27:37 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 2ms (Views: 2.0ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:27:37 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$Lvq3LofOnwlchOj9fmGx0eiuJ9ye.rrhLQEKOsJxgAzpmK.286JwS"], ["created_at", "2017-08-08 10:27:37.996312"], ["updated_at", "2017-08-08 10:27:37.996312"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:27:37 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:27:38.001438"], ["last_sign_in_at", "2017-08-08 10:27:38.001438"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:27:38.001833"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:27:38 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.1ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$sQfKcxtIz.KiIOW5ZXfaZOfsnphExeFSUzvzE4gtIEVZCPGptet.a"], ["created_at", "2017-08-08 10:27:38.018550"], ["updated_at", "2017-08-08 10:27:38.018550"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:27:38 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:27:38.023570"], ["last_sign_in_at", "2017-08-08 10:27:38.023570"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:27:38.024013"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:27:38 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.2ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.0ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:27:57.868906', '2017-08-08 10:27:57.868906', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:27:57.868906', '2017-08-08 10:27:57.868906', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:27:57.871558', '2017-08-08 10:27:57.871558', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:27:57.871558', '2017-08-08 10:27:57.871558', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:27:57.873293', '2017-08-08 10:27:57.873293', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:27:57.873293', '2017-08-08 10:27:57.873293', 298486374)[0m
  [1m[35m (70.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$fjJpRx2eRw3/lLZZHXv75.kjBjkvmw28RRRXlv53.Qa4CukH11wly"], ["created_at", "2017-08-08 10:27:58.028373"], ["updated_at", "2017-08-08 10:27:58.028373"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:27:58 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:27:58.086625"], ["last_sign_in_at", "2017-08-08 10:27:58.086625"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:27:58.087094"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:27:58 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:27:58.120790"], ["updated_at", "2017-08-08 10:27:58.120790"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 20ms (Views: 1.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:27:58 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 5ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$fNiVYpBZngP8fjkCEbv8auZwYWW2hu7Sq4jYyKZVxTEtaSlhHItMi"], ["created_at", "2017-08-08 10:27:58.141305"], ["updated_at", "2017-08-08 10:27:58.141305"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:27:58 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:27:58.147053"], ["last_sign_in_at", "2017-08-08 10:27:58.147053"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:27:58.147488"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:27:58 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.7ms)
Completed 200 OK in 392ms (Views: 381.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:27:58 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:27:58 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:27:58 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$plswe2tovlDoxntsqVNH0OZ4HkVZ2QYdcWEJhJZ7kMfBkopUbjIFC"], ["created_at", "2017-08-08 10:27:58.567693"], ["updated_at", "2017-08-08 10:27:58.567693"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:27:58 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:27:58.573894"], ["last_sign_in_at", "2017-08-08 10:27:58.573894"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:27:58.574349"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:27:58 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 302 Found in 3ms (Views: 2.5ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:27:58 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$KSSLu5lWQzdhcy8U0uA.Pe..aBFqo/wq/1ZDA5Lk/vCHxQ7iFj.wi"], ["created_at", "2017-08-08 10:27:58.595087"], ["updated_at", "2017-08-08 10:27:58.595087"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:27:58 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:27:58.602801"], ["last_sign_in_at", "2017-08-08 10:27:58.602801"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:27:58.603298"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:27:58 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.2ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:27:58 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:28:33.985399', '2017-08-08 10:28:33.985399', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:28:33.985399', '2017-08-08 10:28:33.985399', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:28:33.988204', '2017-08-08 10:28:33.988204', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:28:33.988204', '2017-08-08 10:28:33.988204', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:28:33.989805', '2017-08-08 10:28:33.989805', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:28:33.989805', '2017-08-08 10:28:33.989805', 298486374)[0m
  [1m[35m (168.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:28:34 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.9ms)
Completed 200 OK in 360ms (Views: 354.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$r4BpLttyB/M9Xplrn29SHOGqF5zKwNetc4R38sa8mwkT72risOJlK"], ["created_at", "2017-08-08 10:28:34.689728"], ["updated_at", "2017-08-08 10:28:34.689728"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:28:34 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:28:34.717375"], ["last_sign_in_at", "2017-08-08 10:28:34.717375"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:28:34.717865"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 31ms (ActiveRecord: 1.1ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:28:34 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 6ms (Views: 3.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$dRdw/vGhmjLRYEVcPluNauHagp/4yXWVl06neZJLekIds.VL/dxOe"], ["created_at", "2017-08-08 10:28:34.761433"], ["updated_at", "2017-08-08 10:28:34.761433"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:28:34 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:28:34.769348"], ["last_sign_in_at", "2017-08-08 10:28:34.769348"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:28:34.769725"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:28:34 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:28:34 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:28:34 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:28:34 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$RIbvzy8liPOzSQ6af./AXeaumk1gZW31HazDyGdBoTrSZOAAgVN32"], ["created_at", "2017-08-08 10:28:34.802331"], ["updated_at", "2017-08-08 10:28:34.802331"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:28:34 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:28:34.808572"], ["last_sign_in_at", "2017-08-08 10:28:34.808572"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:28:34.808958"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:28:34 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.4ms)
Completed 302 Found in 4ms (Views: 3.2ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:28:34 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$lcyVN.JuXgXtRLBsKlgRnOUCrxy48skxLQ0jHAzoTOL.79LU0NlRK"], ["created_at", "2017-08-08 10:28:34.830332"], ["updated_at", "2017-08-08 10:28:34.830332"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:28:34 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:28:34.836294"], ["last_sign_in_at", "2017-08-08 10:28:34.836294"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:28:34.836684"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:28:34 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:28:34.872626"], ["updated_at", "2017-08-08 10:28:34.872626"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 32ms (Views: 1.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:28:34 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.2ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:29:26.692540', '2017-08-08 10:29:26.692540', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:29:26.692540', '2017-08-08 10:29:26.692540', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:29:26.695740', '2017-08-08 10:29:26.695740', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:29:26.695740', '2017-08-08 10:29:26.695740', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:29:26.697466', '2017-08-08 10:29:26.697466', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:29:26.697466', '2017-08-08 10:29:26.697466', 298486374)[0m
  [1m[35m (153.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$4S2lCMS22GvCvqk5lG/zdO5iEJOf8v4AUlek5sFyyDAVEWIcj/5Ie"], ["created_at", "2017-08-08 10:29:26.948268"], ["updated_at", "2017-08-08 10:29:26.948268"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:29:26 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:29:27.003099"], ["last_sign_in_at", "2017-08-08 10:29:27.003099"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:29:27.003630"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:29:27 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.8ms)
Completed 200 OK in 400ms (Views: 397.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:29:27 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:29:27 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:29:27 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$XyUrsevwM3Gp5DH525Pi4eE1EG3K8ZVrYpodLwnUfpv1XJLaLzZru"], ["created_at", "2017-08-08 10:29:27.439947"], ["updated_at", "2017-08-08 10:29:27.439947"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:29:27 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:29:27.445781"], ["last_sign_in_at", "2017-08-08 10:29:27.445781"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:29:27.446148"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:29:27 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.2ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:29:27 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:29:27 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.5ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$wwBTu.PsgFCJCcdht7AGEOofl1vgkvZfluxMB40V16fNinLuQufO2"], ["created_at", "2017-08-08 10:29:27.470209"], ["updated_at", "2017-08-08 10:29:27.470209"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:29:27 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:29:27.475598"], ["last_sign_in_at", "2017-08-08 10:29:27.475598"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:29:27.476003"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:29:27 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$e/i4hXXuKMXR5xsqwMxIzekOAKxdxECxblGRg2QhsyxKTPG4lUYK2"], ["created_at", "2017-08-08 10:29:27.490486"], ["updated_at", "2017-08-08 10:29:27.490486"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:29:27 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:29:27.496164"], ["last_sign_in_at", "2017-08-08 10:29:27.496164"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:29:27.496715"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:29:27 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:29:27.520203"], ["updated_at", "2017-08-08 10:29:27.520203"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 21ms (Views: 1.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:29:27 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:29:59.268310', '2017-08-08 10:29:59.268310', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:29:59.268310', '2017-08-08 10:29:59.268310', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:29:59.271110', '2017-08-08 10:29:59.271110', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:29:59.271110', '2017-08-08 10:29:59.271110', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:29:59.272921', '2017-08-08 10:29:59.272921', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:29:59.272921', '2017-08-08 10:29:59.272921', 298486374)[0m
  [1m[35m (104.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$MkOTLXbOWDsvfrKv/cIJ6OiJsYJJ0dPZ8koENyv8dpiZc53NqR2ke"], ["created_at", "2017-08-08 10:29:59.465927"], ["updated_at", "2017-08-08 10:29:59.465927"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:29:59 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:29:59.521441"], ["last_sign_in_at", "2017-08-08 10:29:59.521441"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:29:59.522026"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 41ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:29:59 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:29:59.583284"], ["updated_at", "2017-08-08 10:29:59.583284"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 30ms (Views: 1.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:29:59 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:29:59 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$T8v2LRfTVtQTRfjcSFg5Te8CBt9xuH9/TQSRl2dY1llDtqG2xgDmu"], ["created_at", "2017-08-08 10:29:59.610636"], ["updated_at", "2017-08-08 10:29:59.610636"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:29:59 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:29:59.616555"], ["last_sign_in_at", "2017-08-08 10:29:59.616555"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:29:59.617002"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:29:59 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.7ms)
Completed 200 OK in 360ms (Views: 358.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:29:59 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.4ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$IldDQEi3PTZk9Znx/J8LTOTdntcpe4ks1W3GSF58K9eXO.oViWA5K"], ["created_at", "2017-08-08 10:30:00.002965"], ["updated_at", "2017-08-08 10:30:00.002965"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:30:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:30:00.011278"], ["last_sign_in_at", "2017-08-08 10:30:00.011278"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:30:00.012513"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:30:00 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (1.2ms)
Completed 200 OK in 8ms (Views: 4.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:30:00 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:30:00 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.4ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$1iv9KvlKCbMEAIErQP6Iz.EVxe0ynPQKhEg7xD0e2EMx/.gEAbgY2"], ["created_at", "2017-08-08 10:30:00.071130"], ["updated_at", "2017-08-08 10:30:00.071130"]]
  [1m[35m (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:30:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:30:00.082061"], ["last_sign_in_at", "2017-08-08 10:30:00.082061"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:30:00.082615"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:30:00 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.4ms)
Completed 302 Found in 5ms (Views: 4.5ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:30:00 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.3ms)
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:30:14.451261', '2017-08-08 10:30:14.451261', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:30:14.451261', '2017-08-08 10:30:14.451261', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:30:14.453950', '2017-08-08 10:30:14.453950', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:30:14.453950', '2017-08-08 10:30:14.453950', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:30:14.455585', '2017-08-08 10:30:14.455585', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:30:14.455585', '2017-08-08 10:30:14.455585', 298486374)[0m
  [1m[35m (51.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$DMOTfwRREBUZXsWHrZxqaOzaoILqmnAEMPbWuFQmSo7pb4nrt8sx."], ["created_at", "2017-08-08 10:30:14.621201"], ["updated_at", "2017-08-08 10:30:14.621201"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:30:14 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:30:14.672676"], ["last_sign_in_at", "2017-08-08 10:30:14.672676"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:30:14.673149"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 24ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:30:14 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:30:14.706305"], ["updated_at", "2017-08-08 10:30:14.706305"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 20ms (Views: 1.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:30:14 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 6ms (Views: 1.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$LVPobOc4E8SK6pXM1hvz2uFVl5X01dFF8rrc8MQnZs4ok3ASZZhBi"], ["created_at", "2017-08-08 10:30:14.728950"], ["updated_at", "2017-08-08 10:30:14.728950"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:30:14 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:30:14.735042"], ["last_sign_in_at", "2017-08-08 10:30:14.735042"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:30:14.735475"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:30:14 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.8ms)
Completed 200 OK in 419ms (Views: 417.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:30:15 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:30:15 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:30:15 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$AEgGuft9PlE5Ii6i0Uvw2uOERVvZhoe8QIodW/v7wfhL3YXKsXypS"], ["created_at", "2017-08-08 10:30:15.183514"], ["updated_at", "2017-08-08 10:30:15.183514"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:30:15 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:30:15.188937"], ["last_sign_in_at", "2017-08-08 10:30:15.188937"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:30:15.189348"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:30:15 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:30:15 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$/n7yJeusZd9CpKLRBaZtK./6N8pkMcwv59h2fqaj46vJrSe9kcspu"], ["created_at", "2017-08-08 10:30:15.208423"], ["updated_at", "2017-08-08 10:30:15.208423"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:30:15 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:30:15.213612"], ["last_sign_in_at", "2017-08-08 10:30:15.213612"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:30:15.213993"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:30:15 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:30:15 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:30:51.926502', '2017-08-08 10:30:51.926502', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:30:51.926502', '2017-08-08 10:30:51.926502', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:30:51.929464', '2017-08-08 10:30:51.929464', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:30:51.929464', '2017-08-08 10:30:51.929464', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:30:51.931111', '2017-08-08 10:30:51.931111', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:30:51.931111', '2017-08-08 10:30:51.931111', 298486374)[0m
  [1m[35m (78.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$nTy7oOFnn9dVTbKhKRLXbe1xijEdtstchKvI7WP0pic6Fz7.f/02u"], ["created_at", "2017-08-08 10:30:52.109940"], ["updated_at", "2017-08-08 10:30:52.109940"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:30:52 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:30:52.170832"], ["last_sign_in_at", "2017-08-08 10:30:52.170832"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:30:52.171358"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:30:52 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.7ms)
Completed 200 OK in 407ms (Views: 405.0ms | ActiveRecord: 0.2ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:30:52 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:30:52 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$51RyzBdZan2Xy26MnxqGduJ67LLSc6MiulDNsZP3aupUmbJ8e.kda"], ["created_at", "2017-08-08 10:30:52.625354"], ["updated_at", "2017-08-08 10:30:52.625354"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:30:52 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:30:52.631892"], ["last_sign_in_at", "2017-08-08 10:30:52.631892"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:30:52.632324"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:30:52 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.1ms)
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:30:52 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:30:52 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$NaKoiBBXZNSCsJUmKgxFCO9PD/2.UArJJxCaQcWWMIzggkd9iPdpG"], ["created_at", "2017-08-08 10:30:52.653181"], ["updated_at", "2017-08-08 10:30:52.653181"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:30:52 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:30:52.658242"], ["last_sign_in_at", "2017-08-08 10:30:52.658242"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:30:52.658625"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:30:52 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:30:52 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$sadpO0R5SIvWaIRq5SCakeLAOd.lJ.22InJcvbBSh7VD1K08qFNpi"], ["created_at", "2017-08-08 10:30:52.677082"], ["updated_at", "2017-08-08 10:30:52.677082"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:30:52 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:30:52.682604"], ["last_sign_in_at", "2017-08-08 10:30:52.682604"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:30:52.682964"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:30:52 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:30:52.723253"], ["updated_at", "2017-08-08 10:30:52.723253"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 38ms (Views: 1.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:30:52 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:31:00.862163', '2017-08-08 10:31:00.862163', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:31:00.862163', '2017-08-08 10:31:00.862163', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:31:00.866741', '2017-08-08 10:31:00.866741', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:31:00.866741', '2017-08-08 10:31:00.866741', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:31:00.869322', '2017-08-08 10:31:00.869322', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:31:00.869322', '2017-08-08 10:31:00.869322', 298486374)[0m
  [1m[35m (49.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:31:01 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.9ms)
Completed 200 OK in 419ms (Views: 412.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$Y6mBeHfk51thttmFoBZYFeFve6anEzKyenHRUBLayFwAI.Qvm5u6a"], ["created_at", "2017-08-08 10:31:01.469458"], ["updated_at", "2017-08-08 10:31:01.469458"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:31:01 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:31:01.483280"], ["last_sign_in_at", "2017-08-08 10:31:01.483280"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:31:01.483782"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 19ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:31:01 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.3ms)
Completed 302 Found in 3ms (Views: 2.7ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:31:01 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:31:01 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:31:01 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$MLQRFBS0YZsVF0iCHEVyXeFKCFyh.QvKnZ/vpu/3o6LmnDzeIUiDa"], ["created_at", "2017-08-08 10:31:01.545366"], ["updated_at", "2017-08-08 10:31:01.545366"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:31:01 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:31:01.551208"], ["last_sign_in_at", "2017-08-08 10:31:01.551208"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:31:01.551624"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:31:01 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:31:01 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$ijkSf.dkeLQAhr4wIHuRiOZRhDwTixpp9KFHHIY.Bu/.PFNlp/xK6"], ["created_at", "2017-08-08 10:31:01.568956"], ["updated_at", "2017-08-08 10:31:01.568956"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:31:01 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:31:01.575124"], ["last_sign_in_at", "2017-08-08 10:31:01.575124"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:31:01.575685"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:31:01 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$c8Z6WYz66ztkjWPdE21QJOpFp2ALcXWxkpvcVpLFo.hS4Xp8G5dQe"], ["created_at", "2017-08-08 10:31:01.589976"], ["updated_at", "2017-08-08 10:31:01.589976"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:31:01 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:31:01.596124"], ["last_sign_in_at", "2017-08-08 10:31:01.596124"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:31:01.596635"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:31:01 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:31:01.625750"], ["updated_at", "2017-08-08 10:31:01.625750"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 25ms (Views: 0.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:31:01 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:31:10.955893', '2017-08-08 10:31:10.955893', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:31:10.955893', '2017-08-08 10:31:10.955893', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:31:10.958916', '2017-08-08 10:31:10.958916', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:31:10.958916', '2017-08-08 10:31:10.958916', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:31:10.960711', '2017-08-08 10:31:10.960711', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:31:10.960711', '2017-08-08 10:31:10.960711', 298486374)[0m
  [1m[35m (62.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$LEDMcCrz3DYf3fHL0JVE7Ovkc/y86cCif1mO9IzA92yLVhxIKiRdC"], ["created_at", "2017-08-08 10:31:11.125627"], ["updated_at", "2017-08-08 10:31:11.125627"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:31:11 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:31:11.180189"], ["last_sign_in_at", "2017-08-08 10:31:11.180189"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:31:11.180651"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 24ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:31:11 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.7ms)
Completed 200 OK in 400ms (Views: 398.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$AjRg4AMTElvAZiPd4nomVu1JhNolrFtoQTGHVCBOUV7tzGq5pAwqK"], ["created_at", "2017-08-08 10:31:11.608567"], ["updated_at", "2017-08-08 10:31:11.608567"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:31:11 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:31:11.617351"], ["last_sign_in_at", "2017-08-08 10:31:11.617351"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:31:11.617944"], ["id", 2]]
  [1m[35m (2.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 2.9ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:31:11 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.4ms)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.2ms)
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:31:11 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:31:11 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:31:11 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:31:11 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$OR6i74bizmdT0W9N95TrCeU.BItaGe03J947.WTU8.MgjNzLmfNvO"], ["created_at", "2017-08-08 10:31:11.660986"], ["updated_at", "2017-08-08 10:31:11.660986"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:31:11 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:31:11.666161"], ["last_sign_in_at", "2017-08-08 10:31:11.666161"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:31:11.666529"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:31:11 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:31:11 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$4BJnjgYw9f0nrXdy3a6mn.72ZBta3.MDsE/Nchc1hbCYBCwVIVtCS"], ["created_at", "2017-08-08 10:31:11.685338"], ["updated_at", "2017-08-08 10:31:11.685338"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:31:11 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:31:11.690664"], ["last_sign_in_at", "2017-08-08 10:31:11.690664"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:31:11.691396"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:31:11 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:31:11.713989"], ["updated_at", "2017-08-08 10:31:11.713989"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 19ms (Views: 0.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:31:11 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:31:21.594598', '2017-08-08 10:31:21.594598', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:31:21.594598', '2017-08-08 10:31:21.594598', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:31:21.597883', '2017-08-08 10:31:21.597883', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:31:21.597883', '2017-08-08 10:31:21.597883', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:31:21.599505', '2017-08-08 10:31:21.599505', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:31:21.599505', '2017-08-08 10:31:21.599505', 298486374)[0m
  [1m[35m (66.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$DhFtCOKughmMh/3NVnk9JO9IQvAmq/SDfhvZVMAC4Sxg9FzmMZLbS"], ["created_at", "2017-08-08 10:31:21.757418"], ["updated_at", "2017-08-08 10:31:21.757418"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:31:21 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:31:21.812226"], ["last_sign_in_at", "2017-08-08 10:31:21.812226"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:31:21.812747"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 25ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:31:21 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.7ms)
Completed 200 OK in 415ms (Views: 413.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:31:22 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:31:22 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:31:22 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$9ffykoYcpVVFGUNacbojretlqc48lqaQT8CF34WOtj9nPRlsQVXYS"], ["created_at", "2017-08-08 10:31:22.268399"], ["updated_at", "2017-08-08 10:31:22.268399"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:31:22 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:31:22.273650"], ["last_sign_in_at", "2017-08-08 10:31:22.273650"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:31:22.274029"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:31:22 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:31:22 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$fsEJG0p0AnQ13b3u5Lt3U.zD9GpSwiZMe28dKaujR9xzB1tLWGUHq"], ["created_at", "2017-08-08 10:31:22.291871"], ["updated_at", "2017-08-08 10:31:22.291871"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:31:22 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:31:22.299009"], ["last_sign_in_at", "2017-08-08 10:31:22.299009"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:31:22.299466"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:31:22 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.2ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:31:22 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$YKqPUfpwty8HbM87D37AbeBvrtSMvca3WA5RsPkrdWM/tvNL/Ugre"], ["created_at", "2017-08-08 10:31:22.318340"], ["updated_at", "2017-08-08 10:31:22.318340"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:31:22 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:31:22.323488"], ["last_sign_in_at", "2017-08-08 10:31:22.323488"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:31:22.323863"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:31:22 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:31:22.367055"], ["updated_at", "2017-08-08 10:31:22.367055"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 44ms (Views: 1.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:31:22 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 6ms (Views: 1.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:32:18.023437', '2017-08-08 10:32:18.023437', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:32:18.023437', '2017-08-08 10:32:18.023437', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:32:18.026218', '2017-08-08 10:32:18.026218', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:32:18.026218', '2017-08-08 10:32:18.026218', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:32:18.027850', '2017-08-08 10:32:18.027850', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:32:18.027850', '2017-08-08 10:32:18.027850', 298486374)[0m
  [1m[35m (63.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$CcR/63VeoD79LbcBYPHfxOYIO2SCAVBsm3NrUk.xv/UjNEXzbwJBK"], ["created_at", "2017-08-08 10:32:18.198830"], ["updated_at", "2017-08-08 10:32:18.198830"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:32:18 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:32:18.257870"], ["last_sign_in_at", "2017-08-08 10:32:18.257870"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:32:18.258414"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:32:18 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:32:18.293644"], ["updated_at", "2017-08-08 10:32:18.293644"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 22ms (Views: 1.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:32:18 +0300
Processing by AccountsController#index as JSON
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:32:18 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.4ms)
Completed 200 OK in 410ms (Views: 409.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:32:18 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:32:18 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$CGJVOiWGH6JnDNsCcIeNUuBA14pU8QgWI4xSMx2xaUYWyNW4MnBLC"], ["created_at", "2017-08-08 10:32:18.743871"], ["updated_at", "2017-08-08 10:32:18.743871"]]
  [1m[35m (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:32:18 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:32:18.752350"], ["last_sign_in_at", "2017-08-08 10:32:18.752350"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:32:18.752844"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.1ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:32:18 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:32:18 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$IXOE.m35gucYlXJ8Ezg1/e9ugDlNxXXC6pPgLpo4qUNAAS9xVrWpa"], ["created_at", "2017-08-08 10:32:18.774910"], ["updated_at", "2017-08-08 10:32:18.774910"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:32:18 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:32:18.780456"], ["last_sign_in_at", "2017-08-08 10:32:18.780456"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:32:18.780916"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:32:18 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.6ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:32:18 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$2ZzrahDqWVVmdq1mLlIRXe14dte4lEM5cGzNqisa3le2aY1ubl7DO"], ["created_at", "2017-08-08 10:32:18.801200"], ["updated_at", "2017-08-08 10:32:18.801200"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:32:18 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:32:18.806976"], ["last_sign_in_at", "2017-08-08 10:32:18.806976"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:32:18.807349"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:32:18 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 5ms (Views: 2.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:33:36.197333', '2017-08-08 10:33:36.197333', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:33:36.197333', '2017-08-08 10:33:36.197333', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:33:36.200295', '2017-08-08 10:33:36.200295', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:33:36.200295', '2017-08-08 10:33:36.200295', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:33:36.201948', '2017-08-08 10:33:36.201948', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:33:36.201948', '2017-08-08 10:33:36.201948', 298486374)[0m
  [1m[35m (60.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$Phvack02uKpOthYPDwxGaOhDyGjm0QwQkzWOYdyWyFUrEIrEmJgWu"], ["created_at", "2017-08-08 10:33:36.346570"], ["updated_at", "2017-08-08 10:33:36.346570"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:33:36 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:33:36.398826"], ["last_sign_in_at", "2017-08-08 10:33:36.398826"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:33:36.399285"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 25ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:33:36 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.7ms)
Completed 200 OK in 423ms (Views: 421.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:33:36 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$x2PNu3A.Ghd/Q7DbsAXOp.Y8KkHhj94E3hOuZEk9K29TEuBOMAC46"], ["created_at", "2017-08-08 10:33:36.851529"], ["updated_at", "2017-08-08 10:33:36.851529"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:33:36 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:33:36.857510"], ["last_sign_in_at", "2017-08-08 10:33:36.857510"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:33:36.857928"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:33:36 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (1.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:33:36 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:33:36 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:33:36 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$mdRZuP2dgFWajXIZNNqAA.MkFeLCR1l3IfKFinA59E37G2C0fwQQ."], ["created_at", "2017-08-08 10:33:36.884676"], ["updated_at", "2017-08-08 10:33:36.884676"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:33:36 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:33:36.890496"], ["last_sign_in_at", "2017-08-08 10:33:36.890496"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:33:36.890896"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:33:36 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:33:36 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$ff4ZbRJmwKz5H4yqCUnVTeYkIUdviWqyLeKf321R1/scTdfY5u3nG"], ["created_at", "2017-08-08 10:33:36.909601"], ["updated_at", "2017-08-08 10:33:36.909601"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:33:36 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:33:36.914619"], ["last_sign_in_at", "2017-08-08 10:33:36.914619"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:33:36.915122"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:33:36 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:33:36 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:33:36.964725"], ["updated_at", "2017-08-08 10:33:36.964725"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 40ms (Views: 0.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$tiLEQcRZLBQ0WAdDPeS7YeyO.XYhDc6ktUMYN7IavPSM7eBmFRK2W"], ["created_at", "2017-08-08 10:33:36.976630"], ["updated_at", "2017-08-08 10:33:36.976630"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:33:36 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:33:36.983080"], ["last_sign_in_at", "2017-08-08 10:33:36.983080"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:33:36.986506"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:33:36 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:33:37 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 6ms (Views: 0.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:34:18.596558', '2017-08-08 10:34:18.596558', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:34:18.596558', '2017-08-08 10:34:18.596558', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:34:18.599320', '2017-08-08 10:34:18.599320', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:34:18.599320', '2017-08-08 10:34:18.599320', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:34:18.601031', '2017-08-08 10:34:18.601031', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:34:18.601031', '2017-08-08 10:34:18.601031', 298486374)[0m
  [1m[35m (55.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$3vT/Lb6K.GFCyP2u9qUlt.VOJJ8NR1YFWZnAV5vgcG2YdMbBu0lFW"], ["created_at", "2017-08-08 10:34:18.746451"], ["updated_at", "2017-08-08 10:34:18.746451"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:34:18 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:34:18.817456"], ["last_sign_in_at", "2017-08-08 10:34:18.817456"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:34:18.817947"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 28ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:34:18 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:34:18 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:34:18.866340"], ["updated_at", "2017-08-08 10:34:18.866340"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 20ms (Views: 1.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$NZjL1Y4eeMHkzNHc3dKB8.ayblLTlg9/szNDxEATe9cei6xeiGKhq"], ["created_at", "2017-08-08 10:34:18.878241"], ["updated_at", "2017-08-08 10:34:18.878241"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:34:18 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:34:18.883704"], ["last_sign_in_at", "2017-08-08 10:34:18.883704"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:34:18.884129"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:34:18 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:34:18 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$jMNFp5iArxTZZIphx6vu4uTaKog0N.WikVs5pkuGSAPtsKA5laLqO"], ["created_at", "2017-08-08 10:34:18.907540"], ["updated_at", "2017-08-08 10:34:18.907540"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:34:18 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:34:18.913618"], ["last_sign_in_at", "2017-08-08 10:34:18.913618"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:34:18.914031"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:34:18 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.8ms)
Completed 200 OK in 381ms (Views: 379.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:34:19 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:34:19 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:34:19 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.6ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$C1A3XlPT/xMF2ZebBUPL3e94n0c0KN18bufHUJ52BiBj9s/2nwwzK"], ["created_at", "2017-08-08 10:34:19.342817"], ["updated_at", "2017-08-08 10:34:19.342817"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:34:19 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:34:19.350224"], ["last_sign_in_at", "2017-08-08 10:34:19.350224"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:34:19.350613"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 1.0ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:34:19 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 16ms (Views: 14.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:34:19 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$kFmDxNNIb2SAPAs1VHYuX.4voyfu7C4h87js7QlcxA74S1nsFGM1K"], ["created_at", "2017-08-08 10:34:19.386881"], ["updated_at", "2017-08-08 10:34:19.386881"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:34:19 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:34:19.394508"], ["last_sign_in_at", "2017-08-08 10:34:19.394508"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:34:19.395899"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:34:19 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.6ms)
Completed 302 Found in 6ms (Views: 5.0ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:34:19 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:34:37.523492', '2017-08-08 10:34:37.523492', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:34:37.523492', '2017-08-08 10:34:37.523492', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:34:37.527364', '2017-08-08 10:34:37.527364', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:34:37.527364', '2017-08-08 10:34:37.527364', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:34:37.529071', '2017-08-08 10:34:37.529071', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:34:37.529071', '2017-08-08 10:34:37.529071', 298486374)[0m
  [1m[35m (104.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$2epCkSKQ4v2S4YCInFWnfupz37cnT6GdHDHbonlZCTAITTfJAY4pu"], ["created_at", "2017-08-08 10:34:37.744895"], ["updated_at", "2017-08-08 10:34:37.744895"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:34:37 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:34:37.800416"], ["last_sign_in_at", "2017-08-08 10:34:37.800416"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:34:37.801019"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 36ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:34:37 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:34:37 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:34:37.852099"], ["updated_at", "2017-08-08 10:34:37.852099"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 21ms (Views: 1.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$sK68GV9BuYO4NFPw6Sg9.OwQYo5R23eVpTirfyowZRk.7IvNA5ZGS"], ["created_at", "2017-08-08 10:34:37.864382"], ["updated_at", "2017-08-08 10:34:37.864382"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:34:37 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:34:37.870034"], ["last_sign_in_at", "2017-08-08 10:34:37.870034"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:34:37.870425"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:34:37 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$r.iWPhyU.0BGggRqr8iF6e7tZ5Y1gO900kjJYqVeldQuk/vWyH9Lq"], ["created_at", "2017-08-08 10:34:37.885680"], ["updated_at", "2017-08-08 10:34:37.885680"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:34:37 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:34:37.891403"], ["last_sign_in_at", "2017-08-08 10:34:37.891403"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:34:37.891787"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:34:37 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.7ms)
Completed 200 OK in 394ms (Views: 392.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:34:38 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:34:38 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:34:38 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$CudbtQB56z4lOwZ.8syezekm0VhT2u1rY7hvDdAJWG3GQMIXHNwLC"], ["created_at", "2017-08-08 10:34:38.321696"], ["updated_at", "2017-08-08 10:34:38.321696"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:34:38 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:34:38.329158"], ["last_sign_in_at", "2017-08-08 10:34:38.329158"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:34:38.329929"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:34:38 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.3ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:34:38 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:34:38 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$zJBTfmFKj8YHBRpOQkjTKODVdM/ll1A4Vehfc.Q6OnwgI1pHRJj2y"], ["created_at", "2017-08-08 10:34:38.352874"], ["updated_at", "2017-08-08 10:34:38.352874"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:34:38 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:34:38.359768"], ["last_sign_in_at", "2017-08-08 10:34:38.359768"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:34:38.360208"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:34:38 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:36:17.519148', '2017-08-08 10:36:17.519148', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:36:17.519148', '2017-08-08 10:36:17.519148', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:36:17.521783', '2017-08-08 10:36:17.521783', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:36:17.521783', '2017-08-08 10:36:17.521783', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:36:17.523358', '2017-08-08 10:36:17.523358', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:36:17.523358', '2017-08-08 10:36:17.523358', 298486374)[0m
  [1m[35m (83.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:36:17 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (4.0ms)
Completed 200 OK in 421ms (Views: 414.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:36:18 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$3pnbVqT7yJ7ATPEb9DXaM.droPT64ldnjVybK4FIP.P8w37kILsuS"], ["created_at", "2017-08-08 10:36:18.199130"], ["updated_at", "2017-08-08 10:36:18.199130"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:36:18 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:36:18.212561"], ["last_sign_in_at", "2017-08-08 10:36:18.212561"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:36:18.213050"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:36:18 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$fGs0gzO9Vler6619sY1up.e3HAiH98T.F3Rrk1hMAfTk.UIzDFYeG"], ["created_at", "2017-08-08 10:36:18.233958"], ["updated_at", "2017-08-08 10:36:18.233958"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:36:18 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:36:18.239425"], ["last_sign_in_at", "2017-08-08 10:36:18.239425"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:36:18.239827"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:36:18 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:36:18 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:36:18 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$aAKhivXQ.X9jjHNY3OPRV.y9irIaPRcZ5Pr32zVX8qZPA32axYmxq"], ["created_at", "2017-08-08 10:36:18.261878"], ["updated_at", "2017-08-08 10:36:18.261878"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:36:18 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:36:18.267212"], ["last_sign_in_at", "2017-08-08 10:36:18.267212"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:36:18.267615"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:36:18 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:36:18 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$Y2yWaL80pwKZxEV/3q/.M.ES7tvqOo6qTyzhpwIlMMfKvZkuszpdi"], ["created_at", "2017-08-08 10:36:18.304925"], ["updated_at", "2017-08-08 10:36:18.304925"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:36:18 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:36:18.309991"], ["last_sign_in_at", "2017-08-08 10:36:18.309991"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:36:18.310384"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$QWn.ZhWUmGypt5qg7CZqz.N0DQAlR/F6wWTwda140OVQBKn2QC7zi"], ["created_at", "2017-08-08 10:36:18.326096"], ["updated_at", "2017-08-08 10:36:18.326096"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:36:18 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:36:18.332009"], ["last_sign_in_at", "2017-08-08 10:36:18.332009"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:36:18.332609"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:36:32.588857', '2017-08-08 10:36:32.588857', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:36:32.588857', '2017-08-08 10:36:32.588857', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:36:32.591812', '2017-08-08 10:36:32.591812', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:36:32.591812', '2017-08-08 10:36:32.591812', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:36:32.593499', '2017-08-08 10:36:32.593499', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:36:32.593499', '2017-08-08 10:36:32.593499', 298486374)[0m
  [1m[35m (59.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$teHsQzqjAZMZIrNPzaEPEuUZbfokfrWtIMnrKIp8qa73l0sek65Z2"], ["created_at", "2017-08-08 10:36:32.749998"], ["updated_at", "2017-08-08 10:36:32.749998"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:36:32 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:36:32.813593"], ["last_sign_in_at", "2017-08-08 10:36:32.813593"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:36:32.814158"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:36:32.843397"], ["updated_at", "2017-08-08 10:36:32.843397"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:36:32 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$UraZ5Ekn0XwM8IbBDuCO8eeJ/flSpBx/xi63jLghx3Wv3hzGEL/Wa"], ["created_at", "2017-08-08 10:36:32.861129"], ["updated_at", "2017-08-08 10:36:32.861129"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:36:32 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:36:32.867122"], ["last_sign_in_at", "2017-08-08 10:36:32.867122"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:36:32.867622"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:36:32.872436"], ["updated_at", "2017-08-08 10:36:32.872436"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:36:32 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$e5FSnPJSfzGF7cN3LBqVfucsoRJcgGE5bzX03luyOTYst7uoqeapG"], ["created_at", "2017-08-08 10:36:32.888789"], ["updated_at", "2017-08-08 10:36:32.888789"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:36:32 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:36:32.894554"], ["last_sign_in_at", "2017-08-08 10:36:32.894554"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:36:32.894923"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:36:32 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.7ms)
Completed 200 OK in 400ms (Views: 398.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$hGDR5m0X63WxzP4lNITWweUdWo5hW4djJUOrLPLX2CNLb9ambdumi"], ["created_at", "2017-08-08 10:36:33.312677"], ["updated_at", "2017-08-08 10:36:33.312677"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:36:33 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:36:33.320554"], ["last_sign_in_at", "2017-08-08 10:36:33.320554"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:36:33.320965"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 1.1ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:36:33 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 17ms (Views: 14.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:36:33 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.6ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:36:33 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:36:33 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$mNM1wbZbXjZ.Mm/hjLWJGew6LLVZrdfPxOLVeA7hHaSpHFUvCf/2a"], ["created_at", "2017-08-08 10:36:33.377809"], ["updated_at", "2017-08-08 10:36:33.377809"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:36:33 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:36:33.385844"], ["last_sign_in_at", "2017-08-08 10:36:33.385844"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:36:33.386348"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:36:33 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 302 Found in 3ms (Views: 2.7ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:36:33 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:36:33 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:37:01.585419', '2017-08-08 10:37:01.585419', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:37:01.585419', '2017-08-08 10:37:01.585419', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:37:01.588499', '2017-08-08 10:37:01.588499', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:37:01.588499', '2017-08-08 10:37:01.588499', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:37:01.590390', '2017-08-08 10:37:01.590390', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:37:01.590390', '2017-08-08 10:37:01.590390', 298486374)[0m
  [1m[35m (73.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:37:01 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 17ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:37:01 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.3ms)
Completed 200 OK in 386ms (Views: 385.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$1NtuWvdKz7349I8cVCRXguwyWk36qhQdO65ambNftNNpkoX7d0.Hy"], ["created_at", "2017-08-08 10:37:02.258809"], ["updated_at", "2017-08-08 10:37:02.258809"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:37:02 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:37:02.274723"], ["last_sign_in_at", "2017-08-08 10:37:02.274723"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:37:02.275202"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 14ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:37:02 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.4ms)
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:37:02 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:37:02 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$7S44Lx0I8OECt0P774FhDer7srIscicKn90MGffJQo9kUKRyspAEa"], ["created_at", "2017-08-08 10:37:02.304191"], ["updated_at", "2017-08-08 10:37:02.304191"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:37:02 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:37:02.310798"], ["last_sign_in_at", "2017-08-08 10:37:02.310798"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:37:02.311649"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.8ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:37:02 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 10ms (Views: 9.6ms | ActiveRecord: 0.3ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:37:02 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$Jb3E17WwHpT8APkXKwNTveiUwAlqpXMMAvsQE7WTtz0BtVktlA1JS"], ["created_at", "2017-08-08 10:37:02.337898"], ["updated_at", "2017-08-08 10:37:02.337898"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:37:02 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:37:02.342711"], ["last_sign_in_at", "2017-08-08 10:37:02.342711"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:37:02.343114"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:37:02 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$wa.nNNhyBc85mvIK6RPN0ON//UH7ZENoDyF1bRYEc0n/m0Kt3f6yS"], ["created_at", "2017-08-08 10:37:02.356572"], ["updated_at", "2017-08-08 10:37:02.356572"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:37:02 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:37:02.363363"], ["last_sign_in_at", "2017-08-08 10:37:02.363363"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:37:02.363851"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:37:02.381731"], ["updated_at", "2017-08-08 10:37:02.381731"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:37:02 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$dKoEUYw7j1qnIuXHulVYBOJqbJEwv19koEgVD30cxBsx1bzFoVz9C"], ["created_at", "2017-08-08 10:37:02.399105"], ["updated_at", "2017-08-08 10:37:02.399105"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:37:02 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:37:02.405330"], ["last_sign_in_at", "2017-08-08 10:37:02.405330"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:37:02.405807"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:37:02.411695"], ["updated_at", "2017-08-08 10:37:02.411695"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:37:02 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:37:18.347464', '2017-08-08 10:37:18.347464', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:37:18.347464', '2017-08-08 10:37:18.347464', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:37:18.350093', '2017-08-08 10:37:18.350093', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:37:18.350093', '2017-08-08 10:37:18.350093', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:37:18.351702', '2017-08-08 10:37:18.351702', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:37:18.351702', '2017-08-08 10:37:18.351702', 298486374)[0m
  [1m[35m (82.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$e.8Pt4u5PDGo9DPQ08t6JutqT8rqyvfsx6TPrmAIkU.fpatCDaAIy"], ["created_at", "2017-08-08 10:37:18.519397"], ["updated_at", "2017-08-08 10:37:18.519397"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:37:18 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:37:18.573636"], ["last_sign_in_at", "2017-08-08 10:37:18.573636"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:37:18.574143"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 25ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:37:18 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.7ms)
Completed 200 OK in 389ms (Views: 386.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:37:18 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:37:18 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:37:18 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$HoDPwpUk1p4.JFaPIyRdFekVFDqYvFQRttMpoA3DkJiJ.AOy8OMc."], ["created_at", "2017-08-08 10:37:19.001716"], ["updated_at", "2017-08-08 10:37:19.001716"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:37:19 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:37:19.007306"], ["last_sign_in_at", "2017-08-08 10:37:19.007306"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:37:19.007702"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:37:19 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.2ms)
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:37:19 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$N93jKtEmS0tkhICFclwQf.36MhI0j8WaXw36WBrn8V.0YrCd5OP7m"], ["created_at", "2017-08-08 10:37:19.028311"], ["updated_at", "2017-08-08 10:37:19.028311"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:37:19 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:37:19.034247"], ["last_sign_in_at", "2017-08-08 10:37:19.034247"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:37:19.034626"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:37:19 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.0ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:37:19 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$L0.INzWmwh1/lG51Kbty4.DhBC0Lr8B0gZcnFpVf2nla9SwP9Zda6"], ["created_at", "2017-08-08 10:37:19.053856"], ["updated_at", "2017-08-08 10:37:19.053856"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:37:19 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:37:19.059388"], ["last_sign_in_at", "2017-08-08 10:37:19.059388"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:37:19.059769"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:37:19.100192"], ["updated_at", "2017-08-08 10:37:19.100192"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:37:19 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$.p7Ld.7ypgaoUyfm0/rDw.5Yp9YZxo6gGBgm74Afb3KyMtU98fsjK"], ["created_at", "2017-08-08 10:37:19.115664"], ["updated_at", "2017-08-08 10:37:19.115664"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:37:19 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:37:19.121618"], ["last_sign_in_at", "2017-08-08 10:37:19.121618"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:37:19.122114"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:37:19.127148"], ["updated_at", "2017-08-08 10:37:19.127148"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:37:19 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:37:31.855771', '2017-08-08 10:37:31.855771', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:37:31.855771', '2017-08-08 10:37:31.855771', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:37:31.859393', '2017-08-08 10:37:31.859393', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:37:31.859393', '2017-08-08 10:37:31.859393', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:37:31.861267', '2017-08-08 10:37:31.861267', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:37:31.861267', '2017-08-08 10:37:31.861267', 298486374)[0m
  [1m[35m (50.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$tklVmmGstDPw.NIYyX9ym.84u0c6jGHb/a2tZbQGcMitDEVBq4OZi"], ["created_at", "2017-08-08 10:37:32.009674"], ["updated_at", "2017-08-08 10:37:32.009674"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:37:32 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:37:32.069572"], ["last_sign_in_at", "2017-08-08 10:37:32.069572"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:37:32.070072"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 25ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:37:32.100535"], ["updated_at", "2017-08-08 10:37:32.100535"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:37:32 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$MxxbCBzw4dbN/oudByOF..kZpgS1K.RE/UaCgWDyRG0oJFc8gJdS."], ["created_at", "2017-08-08 10:37:32.117498"], ["updated_at", "2017-08-08 10:37:32.117498"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:37:32 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:37:32.123037"], ["last_sign_in_at", "2017-08-08 10:37:32.123037"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:37:32.123464"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:37:32.128424"], ["updated_at", "2017-08-08 10:37:32.128424"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:37:32 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:37:32 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.3ms)
Completed 200 OK in 406ms (Views: 405.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:37:32 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$wI4wOkM3HKhLWSzDu3YpcOK1U6uG3VGpm5R4vOywJ7ONW6ywXrKym"], ["created_at", "2017-08-08 10:37:32.567408"], ["updated_at", "2017-08-08 10:37:32.567408"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:37:32 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:37:32.575658"], ["last_sign_in_at", "2017-08-08 10:37:32.575658"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:37:32.576614"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:37:32 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 7ms (Views: 4.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:37:32 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:37:32 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$h2yn05C4BQ03w3Uj0GNk9.nEm8O7N6MtvmnbqNgKROiTOubJlS48i"], ["created_at", "2017-08-08 10:37:32.610880"], ["updated_at", "2017-08-08 10:37:32.610880"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:37:32 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:37:32.617208"], ["last_sign_in_at", "2017-08-08 10:37:32.617208"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:37:32.617817"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:37:32 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.4ms | ActiveRecord: 0.3ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:37:32 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 0.3ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$zJ8SGgGuCp3w5pQi4qRR6eJr0RCDxyTIvxL4Dk9nJ5ADhpKnc35l2"], ["created_at", "2017-08-08 10:37:32.645066"], ["updated_at", "2017-08-08 10:37:32.645066"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:37:32 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:37:32.650508"], ["last_sign_in_at", "2017-08-08 10:37:32.650508"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:37:32.650897"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:37:32 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:39:55.999740', '2017-08-08 10:39:55.999740', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:39:55.999740', '2017-08-08 10:39:55.999740', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:39:56.002589', '2017-08-08 10:39:56.002589', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:39:56.002589', '2017-08-08 10:39:56.002589', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:39:56.004297', '2017-08-08 10:39:56.004297', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:39:56.004297', '2017-08-08 10:39:56.004297', 298486374)[0m
  [1m[35m (59.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:39:56 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.6ms)
Completed 200 OK in 373ms (Views: 367.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:39:56 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$6Kt.Y0t1ltj6JXNF.eyuu.Al0O7blEQGaRDXfYlBUvMvCCuQ.ihi6"], ["created_at", "2017-08-08 10:39:56.608465"], ["updated_at", "2017-08-08 10:39:56.608465"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:39:56 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:39:56.621973"], ["last_sign_in_at", "2017-08-08 10:39:56.621973"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:39:56.622539"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:39:56 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.2ms)
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:39:56 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$vKDikkVgooXCb4dNe4nEwuuJkblJVVHfTE9/AWE5y49amf9sb89o."], ["created_at", "2017-08-08 10:39:56.645926"], ["updated_at", "2017-08-08 10:39:56.645926"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:39:56 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:39:56.652245"], ["last_sign_in_at", "2017-08-08 10:39:56.652245"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:39:56.652697"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:39:56 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:39:56 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$8NMPDnAKEo0DfF0qRQ9jC.g1JYXMXSEuRjG4BZ0mrTRFDjZcCfXlW"], ["created_at", "2017-08-08 10:39:56.669775"], ["updated_at", "2017-08-08 10:39:56.669775"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:39:56 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:39:56.674894"], ["last_sign_in_at", "2017-08-08 10:39:56.674894"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:39:56.675299"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:39:56 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:39:56 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$WpUtLJIcZlxHwNJhMoEhyel814xc6qgl9HBgNhnOef1dYeA.WGG8y"], ["created_at", "2017-08-08 10:39:56.693316"], ["updated_at", "2017-08-08 10:39:56.693316"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:39:56 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:39:56.699091"], ["last_sign_in_at", "2017-08-08 10:39:56.699091"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:39:56.699576"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:39:56 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"test", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:39:56.723317"], ["updated_at", "2017-08-08 10:39:56.723317"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 22ms (Views: 0.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:39:56 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:39:56 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"test", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:39:56.739542"], ["updated_at", "2017-08-08 10:39:56.739542"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 4ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:39:56 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:39:56.745558"], ["updated_at", "2017-08-08 10:39:56.745558"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$UG/gO49VvJ3oZefD34ZAkelcZn/IVxta2K0mOFsbTX.fG32Zo7Dje"], ["created_at", "2017-08-08 10:39:56.754696"], ["updated_at", "2017-08-08 10:39:56.754696"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:39:56 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:39:56.759966"], ["last_sign_in_at", "2017-08-08 10:39:56.759966"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:39:56.760392"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:39:56 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"test", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:39:56.767183"], ["updated_at", "2017-08-08 10:39:56.767183"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 4ms (Views: 0.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:39:56 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:39:56 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"test", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:39:56.779839"], ["updated_at", "2017-08-08 10:39:56.779839"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 4ms (Views: 0.4ms | ActiveRecord: 0.4ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:39:56 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:40:38.537124', '2017-08-08 10:40:38.537124', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:40:38.537124', '2017-08-08 10:40:38.537124', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:40:38.539918', '2017-08-08 10:40:38.539918', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:40:38.539918', '2017-08-08 10:40:38.539918', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:40:38.541577', '2017-08-08 10:40:38.541577', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:40:38.541577', '2017-08-08 10:40:38.541577', 298486374)[0m
  [1m[35m (33.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$k57yTGNUyZSj6o16z/Ri0.CUYeRzmzORrPZpOEck8iB2mK/1FLjZe"], ["created_at", "2017-08-08 10:40:38.678627"], ["updated_at", "2017-08-08 10:40:38.678627"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:40:38 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:40:38.730233"], ["last_sign_in_at", "2017-08-08 10:40:38.730233"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:40:38.730720"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 25ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:40:38 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.7ms)
Completed 200 OK in 425ms (Views: 423.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:40:39 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:40:39 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$YoToXjQyL38CuHkesmoga.qx/nUz7dhJqva9Eoa3OkR9HAi3R7Kfe"], ["created_at", "2017-08-08 10:40:39.198583"], ["updated_at", "2017-08-08 10:40:39.198583"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:40:39 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:40:39.204045"], ["last_sign_in_at", "2017-08-08 10:40:39.204045"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:40:39.204579"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:40:39 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.2ms)
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:40:39 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:40:39 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$5.zcBtjUBD7OLpcUn/a4QOpPBmspLw1U.DjloCvWSqqkmJAdU/qVK"], ["created_at", "2017-08-08 10:40:39.228258"], ["updated_at", "2017-08-08 10:40:39.228258"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:40:39 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:40:39.233547"], ["last_sign_in_at", "2017-08-08 10:40:39.233547"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:40:39.234017"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:40:39 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.2ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:40:39 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$GmTfrIMLmTQczgrr3hv4ouy1MDzJfbv/O.wflAYFDxUihzqQ3WA4u"], ["created_at", "2017-08-08 10:40:39.253808"], ["updated_at", "2017-08-08 10:40:39.253808"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:40:39 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:40:39.260834"], ["last_sign_in_at", "2017-08-08 10:40:39.260834"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:40:39.261292"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:40:39 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"test", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:40:39.301337"], ["updated_at", "2017-08-08 10:40:39.301337"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 38ms (Views: 0.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:40:39 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:40:39.310255"], ["updated_at", "2017-08-08 10:40:39.310255"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 5ms (Views: 0.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$pxpLDEsLInXNEUL3N/98A.IwyDaudERfZFQCZljgwN5LarNHKKzdy"], ["created_at", "2017-08-08 10:40:39.319701"], ["updated_at", "2017-08-08 10:40:39.319701"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:40:39 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:40:39.324963"], ["last_sign_in_at", "2017-08-08 10:40:39.324963"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:40:39.325344"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:40:39 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"test", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:40:39.331408"], ["updated_at", "2017-08-08 10:40:39.331408"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 4ms (Views: 0.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:40:39 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:40:39 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"test", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:40:39.345248"], ["updated_at", "2017-08-08 10:40:39.345248"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 5ms (Views: 0.5ms | ActiveRecord: 0.5ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:40:39 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 1.0ms | ActiveRecord: 0.3ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:40:59.061428', '2017-08-08 10:40:59.061428', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:40:59.061428', '2017-08-08 10:40:59.061428', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:40:59.064505', '2017-08-08 10:40:59.064505', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:40:59.064505', '2017-08-08 10:40:59.064505', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:40:59.066094', '2017-08-08 10:40:59.066094', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:40:59.066094', '2017-08-08 10:40:59.066094', 298486374)[0m
  [1m[35m (80.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:40:59 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (4.1ms)
Completed 200 OK in 375ms (Views: 368.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$P7QlEY5tIiTrbmzpeluJ7OyRB4SxU77Yc57fSQNB9K/dPVK2b4ati"], ["created_at", "2017-08-08 10:40:59.725895"], ["updated_at", "2017-08-08 10:40:59.725895"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:40:59 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:40:59.754125"], ["last_sign_in_at", "2017-08-08 10:40:59.754125"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:40:59.755058"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 31ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:40:59 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:40:59 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:40:59 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.5ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$PyOgY9iNjn/.QbbD2LMdGuxZq7kHowiJ92FuVBs9ZckFmsDoa/rtu"], ["created_at", "2017-08-08 10:40:59.810866"], ["updated_at", "2017-08-08 10:40:59.810866"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:40:59 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:40:59.817071"], ["last_sign_in_at", "2017-08-08 10:40:59.817071"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:40:59.817446"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:40:59 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.8ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:40:59 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:40:59 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$bfOAfhlTek3y1MMWei0WEuBI29OaLMShbvqKAkMgAGho2zLVrceSa"], ["created_at", "2017-08-08 10:40:59.842813"], ["updated_at", "2017-08-08 10:40:59.842813"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:40:59 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:40:59.848565"], ["last_sign_in_at", "2017-08-08 10:40:59.848565"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:40:59.849115"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:40:59 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.4ms)
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$MSVPYL./yKkz/QnXTJkNluOIeec81H6lPQ6hb4u8iJ3BrG9S0DHmi"], ["created_at", "2017-08-08 10:40:59.865074"], ["updated_at", "2017-08-08 10:40:59.865074"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:40:59 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:40:59.870939"], ["last_sign_in_at", "2017-08-08 10:40:59.870939"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:40:59.871321"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:40:59 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"test", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:40:59.903362"], ["updated_at", "2017-08-08 10:40:59.903362"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 23ms (Views: 1.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:40:59 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:40:59 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"test", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:40:59.927199"], ["updated_at", "2017-08-08 10:40:59.927199"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 8ms (Views: 0.6ms | ActiveRecord: 0.6ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:40:59 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 6ms (Views: 1.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:41:27.268789', '2017-08-08 10:41:27.268789', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:41:27.268789', '2017-08-08 10:41:27.268789', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:41:27.271568', '2017-08-08 10:41:27.271568', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:41:27.271568', '2017-08-08 10:41:27.271568', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:41:27.273206', '2017-08-08 10:41:27.273206', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:41:27.273206', '2017-08-08 10:41:27.273206', 298486374)[0m
  [1m[35m (64.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$y518y2yc1.VCc79KqsVYpuEq5a7I77bvylxlqz43y5Ce07a3IuY/K"], ["created_at", "2017-08-08 10:41:27.421304"], ["updated_at", "2017-08-08 10:41:27.421304"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:41:27 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:41:27.488961"], ["last_sign_in_at", "2017-08-08 10:41:27.488961"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:41:27.489431"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 24ms (ActiveRecord: 0.4ms)
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:41:27 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"test", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:41:27.522507"], ["updated_at", "2017-08-08 10:41:27.522507"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 21ms (Views: 1.7ms | ActiveRecord: 0.5ms)
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:41:27 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 5ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$M.fBILksxuNz9h0TBkhmNeD8YO18GI6yK4aZyA3TfDiOrApyDXqFS"], ["created_at", "2017-08-08 10:41:27.541776"], ["updated_at", "2017-08-08 10:41:27.541776"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:41:27 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:41:27.548559"], ["last_sign_in_at", "2017-08-08 10:41:27.548559"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:41:27.548978"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:41:27 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.7ms)
Completed 200 OK in 404ms (Views: 402.8ms | ActiveRecord: 0.2ms)
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:41:27 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$J5f2VVj47OuSwzxYn7Z5uOKHWyhVLQ0g5CXdNvmRhsCskL4aLa8IW"], ["created_at", "2017-08-08 10:41:27.977608"], ["updated_at", "2017-08-08 10:41:27.977608"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:41:27 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:41:27.983003"], ["last_sign_in_at", "2017-08-08 10:41:27.983003"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:41:27.983396"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:41:27 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:41:27 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:41:27 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:41:28 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$BMfhB0QSRuIzI6DKFF.yFOC7nRoI2AuD5ABeoa591xQqMLflFKsRy"], ["created_at", "2017-08-08 10:41:28.010384"], ["updated_at", "2017-08-08 10:41:28.010384"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:41:28 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:41:28.015698"], ["last_sign_in_at", "2017-08-08 10:41:28.015698"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:41:28.016140"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:41:28 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:41:28 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:42:28.842597', '2017-08-08 10:42:28.842597', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:42:28.842597', '2017-08-08 10:42:28.842597', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:42:28.845908', '2017-08-08 10:42:28.845908', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:42:28.845908', '2017-08-08 10:42:28.845908', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:42:28.848092', '2017-08-08 10:42:28.848092', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:42:28.848092', '2017-08-08 10:42:28.848092', 298486374)[0m
  [1m[35m (143.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:42:29 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 10ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:42:29 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 200 OK in 403ms (Views: 402.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$OIo72J1cPXIB/a7oqivEBOCYcLw0OHGry8f53L0gUWxZ1MIU8sA52"], ["created_at", "2017-08-08 10:42:29.545958"], ["updated_at", "2017-08-08 10:42:29.545958"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:42:29 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:42:29.560530"], ["last_sign_in_at", "2017-08-08 10:42:29.560530"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:42:29.561130"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 13ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:42:29 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.2ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:42:29 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$pDB4x2WPcAPRz3RjgWKUI.LRjznZvuTs1/hMMLys5Wp4Mkan.0Doq"], ["created_at", "2017-08-08 10:42:29.585714"], ["updated_at", "2017-08-08 10:42:29.585714"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:42:29 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:42:29.591232"], ["last_sign_in_at", "2017-08-08 10:42:29.591232"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:42:29.591604"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:42:29 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$XFLoaG1Z9KGgoPj3r6Eom.5rJJxB08gXLL9WHlTpNZADua2hAgCqa"], ["created_at", "2017-08-08 10:42:29.607415"], ["updated_at", "2017-08-08 10:42:29.607415"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:42:29 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:42:29.613277"], ["last_sign_in_at", "2017-08-08 10:42:29.613277"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:42:29.613706"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:42:29 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 21ms (Views: 19.2ms | ActiveRecord: 0.1ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:42:29 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:42:29 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$94cVf7h205buh0QLbS.gbu3np5V0LLUav/VHqcxpo9phdi.YMESJS"], ["created_at", "2017-08-08 10:42:29.652186"], ["updated_at", "2017-08-08 10:42:29.652186"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:42:29 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:42:29.657431"], ["last_sign_in_at", "2017-08-08 10:42:29.657431"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:42:29.657922"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:42:29.675138"], ["updated_at", "2017-08-08 10:42:29.675138"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:42:29 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:42:43.075970', '2017-08-08 10:42:43.075970', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:42:43.075970', '2017-08-08 10:42:43.075970', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:42:43.078914', '2017-08-08 10:42:43.078914', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:42:43.078914', '2017-08-08 10:42:43.078914', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:42:43.080640', '2017-08-08 10:42:43.080640', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:42:43.080640', '2017-08-08 10:42:43.080640', 298486374)[0m
  [1m[35m (91.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$pjPwl0BU0q9vfo7JeP7V9uk53QT9KwkHGSMLotiJiW22olSc2DZEi"], ["created_at", "2017-08-08 10:42:43.274957"], ["updated_at", "2017-08-08 10:42:43.274957"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:42:43 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:42:43.326356"], ["last_sign_in_at", "2017-08-08 10:42:43.326356"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:42:43.326818"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 24ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:42:43.355838"], ["updated_at", "2017-08-08 10:42:43.355838"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:42:43 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:42:43.362340"], ["updated_at", "2017-08-08 10:42:43.362340"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 7ms (Views: 1.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$7yhxioU0/WEE6I.mFWo8F.3oDhm8WpocF87W4EbKmxwuMBEXRK.Gq"], ["created_at", "2017-08-08 10:42:43.378040"], ["updated_at", "2017-08-08 10:42:43.378040"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:42:43 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:42:43.384088"], ["last_sign_in_at", "2017-08-08 10:42:43.384088"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:42:43.384554"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:42:43.389313"], ["updated_at", "2017-08-08 10:42:43.389313"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:42:43 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:42:43 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$LgqY8pp.u1WCsIF8kR5N/u.l4qPZkFL9RwCz/jx6FjPK.6QztAepK"], ["created_at", "2017-08-08 10:42:43.409062"], ["updated_at", "2017-08-08 10:42:43.409062"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:42:43 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:42:43.414287"], ["last_sign_in_at", "2017-08-08 10:42:43.414287"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:42:43.414696"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:42:43 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.7ms)
Completed 200 OK in 409ms (Views: 407.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$Tr2oWtoFDBHH9gysz.v.tuhfW/fqpMeb3J4mHPqXYV1VJBCk8XzM2"], ["created_at", "2017-08-08 10:42:43.833935"], ["updated_at", "2017-08-08 10:42:43.833935"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:42:43 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:42:43.838999"], ["last_sign_in_at", "2017-08-08 10:42:43.838999"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:42:43.839425"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:42:43 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.4ms)
Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:42:43 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:42:43 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:42:43 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$HWgYHPuV.XNoT9p.a5/DzOvENeKLX7wuCOFGSnf0L2bySjVTW3HM6"], ["created_at", "2017-08-08 10:42:43.866401"], ["updated_at", "2017-08-08 10:42:43.866401"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:42:43 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:42:43.871550"], ["last_sign_in_at", "2017-08-08 10:42:43.871550"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:42:43.871905"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:42:43 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.0ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:42:43 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:43:38.594818', '2017-08-08 10:43:38.594818', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:43:38.594818', '2017-08-08 10:43:38.594818', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:43:38.597293', '2017-08-08 10:43:38.597293', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:43:38.597293', '2017-08-08 10:43:38.597293', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:43:38.598876', '2017-08-08 10:43:38.598876', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:43:38.598876', '2017-08-08 10:43:38.598876', 298486374)[0m
  [1m[35m (194.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$D67ih/n6QliRsm2BNMwwiebn5zbUmWHqWS9tKmqLMb4s5pdiSfIHW"], ["created_at", "2017-08-08 10:43:38.896533"], ["updated_at", "2017-08-08 10:43:38.896533"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:43:38 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:43:38.952333"], ["last_sign_in_at", "2017-08-08 10:43:38.952333"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:43:38.952877"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:43:38.982054"], ["updated_at", "2017-08-08 10:43:38.982054"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:43:38 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$WSRFODEt.LFHNwVo4xxHruFbHN/h9Uca8nbPzVAUAqDE0LIxvVRCa"], ["created_at", "2017-08-08 10:43:38.997593"], ["updated_at", "2017-08-08 10:43:38.997593"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:43:39 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:43:39.004776"], ["last_sign_in_at", "2017-08-08 10:43:39.004776"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:43:39.005238"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:43:39.009393"], ["updated_at", "2017-08-08 10:43:39.009393"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:43:39 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:43:39.014144"], ["updated_at", "2017-08-08 10:43:39.014144"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 6ms (Views: 1.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$d8EfRPr6FzUCgFi9Jb2qJeghJVG3ab4mGXAX5uVr.ianlIYuY9TbC"], ["created_at", "2017-08-08 10:43:39.026624"], ["updated_at", "2017-08-08 10:43:39.026624"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:43:39 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:43:39.032694"], ["last_sign_in_at", "2017-08-08 10:43:39.032694"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:43:39.033111"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:43:39 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.7ms)
Completed 200 OK in 414ms (Views: 412.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:43:39 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.6ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$g/2z7WsCwx1g.bIPV0u5XOFFkTxWubUGTqYUhyftPJz4VKm2Q1E1y"], ["created_at", "2017-08-08 10:43:39.463648"], ["updated_at", "2017-08-08 10:43:39.463648"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:43:39 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:43:39.469067"], ["last_sign_in_at", "2017-08-08 10:43:39.469067"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:43:39.469429"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:43:39 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.0ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:43:39 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:43:39 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:43:39 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$gSOoqh24qxaYeYjQ.mxJzOJnjvxiaSJ4uS3kdMTfomk1QL5VHTcZK"], ["created_at", "2017-08-08 10:43:39.495033"], ["updated_at", "2017-08-08 10:43:39.495033"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:43:39 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:43:39.502689"], ["last_sign_in_at", "2017-08-08 10:43:39.502689"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:43:39.503175"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:43:39 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.2ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:43:39 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:44:04.711427', '2017-08-08 10:44:04.711427', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:44:04.711427', '2017-08-08 10:44:04.711427', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:44:04.714355', '2017-08-08 10:44:04.714355', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:44:04.714355', '2017-08-08 10:44:04.714355', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:44:04.717579', '2017-08-08 10:44:04.717579', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:44:04.717579', '2017-08-08 10:44:04.717579', 298486374)[0m
  [1m[35m (71.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$kfHV/sfnKW1DFF4FEwJZMOyJYUDU46nEKlNs6euBfBypC8JnMtPUG"], ["created_at", "2017-08-08 10:44:04.886403"], ["updated_at", "2017-08-08 10:44:04.886403"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:44:04 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:44:04.953569"], ["last_sign_in_at", "2017-08-08 10:44:04.953569"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:44:04.954084"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 31ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:44:04.998383"], ["updated_at", "2017-08-08 10:44:04.998383"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:44:05 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:44:05.009147"], ["updated_at", "2017-08-08 10:44:05.009147"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 11ms (Views: 2.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$SnQP7cyH/empSceMnz1S/uSc5ltqJWxEZv7b3zZCblDumkVUnoR86"], ["created_at", "2017-08-08 10:44:05.027403"], ["updated_at", "2017-08-08 10:44:05.027403"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:44:05 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:44:05.034016"], ["last_sign_in_at", "2017-08-08 10:44:05.034016"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:44:05.034485"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:44:05.039159"], ["updated_at", "2017-08-08 10:44:05.039159"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:44:05 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:44:05 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 200 OK in 379ms (Views: 378.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$5eM7SXg3DA1rM11xXbvguO81UVhzo4CTGH3C8kry5dtiAycmDy2Hy"], ["created_at", "2017-08-08 10:44:05.439779"], ["updated_at", "2017-08-08 10:44:05.439779"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:44:05 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:44:05.447796"], ["last_sign_in_at", "2017-08-08 10:44:05.447796"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:44:05.448806"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:44:05 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 20ms (Views: 6.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:44:05 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:44:05 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.5ms)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$HjISlhtPu9ZysgUzr6bT1OuOq1QemwMlp6NrXqw/ELHt.Ulq/r8GS"], ["created_at", "2017-08-08 10:44:05.510146"], ["updated_at", "2017-08-08 10:44:05.510146"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:44:05 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:44:05.519966"], ["last_sign_in_at", "2017-08-08 10:44:05.519966"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:44:05.520994"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:44:05 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.8ms)
Completed 302 Found in 6ms (Views: 5.1ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:44:05 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:44:05 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$GTm9mhu1uWlKYnLvTcGLxeaPOwLiuYDJ5UpIfyJj4MQHLNGah8jZq"], ["created_at", "2017-08-08 10:44:05.552980"], ["updated_at", "2017-08-08 10:44:05.552980"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:44:05 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:44:05.559372"], ["last_sign_in_at", "2017-08-08 10:44:05.559372"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:44:05.559992"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:44:05 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.4ms)
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:44:41.092491', '2017-08-08 10:44:41.092491', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:44:41.092491', '2017-08-08 10:44:41.092491', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:44:41.095480', '2017-08-08 10:44:41.095480', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:44:41.095480', '2017-08-08 10:44:41.095480', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:44:41.097399', '2017-08-08 10:44:41.097399', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:44:41.097399', '2017-08-08 10:44:41.097399', 298486374)[0m
  [1m[35m (58.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$UDKx1GrFFYNEl/mKB/r17uh8s9xmPpDoCX2ezj9mKDTvrdUV/3Wpe"], ["created_at", "2017-08-08 10:44:41.252048"], ["updated_at", "2017-08-08 10:44:41.252048"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:44:41 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:44:41.324107"], ["last_sign_in_at", "2017-08-08 10:44:41.324107"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:44:41.324622"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 25ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:44:41.354522"], ["updated_at", "2017-08-08 10:44:41.354522"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:44:41 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$NK2xewOvyXFjn2i2m.HcD.UL4YqM82TL/E0LZFLyiRUByyYoYR/hu"], ["created_at", "2017-08-08 10:44:41.371187"], ["updated_at", "2017-08-08 10:44:41.371187"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:44:41 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:44:41.376849"], ["last_sign_in_at", "2017-08-08 10:44:41.376849"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:44:41.377448"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:44:41.381583"], ["updated_at", "2017-08-08 10:44:41.381583"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:44:41 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:44:41.387259"], ["updated_at", "2017-08-08 10:44:41.387259"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 7ms (Views: 1.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$xT.RK0G0ByRekesjEPLTJeoSE75w8vajSYiKUqPbfkpoWdukm4aem"], ["created_at", "2017-08-08 10:44:41.399399"], ["updated_at", "2017-08-08 10:44:41.399399"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:44:41 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:44:41.405304"], ["last_sign_in_at", "2017-08-08 10:44:41.405304"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:44:41.405784"], ["id", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:44:41 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.7ms)
Completed 200 OK in 448ms (Views: 446.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:44:41 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:44:41 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:44:41 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$zILD6nx0Y7.Ud/zXtgQr5OMVwMklqZXtEH6SIsGsILH.RoNXIbUzC"], ["created_at", "2017-08-08 10:44:41.881384"], ["updated_at", "2017-08-08 10:44:41.881384"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:44:41 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:44:41.887053"], ["last_sign_in_at", "2017-08-08 10:44:41.887053"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:44:41.887514"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:44:41 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:44:41 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:44:41 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$6dx7XRbHIIDxEVRHU3KWjeJoUY3hc7sSmkc3ZsFpK1cN4oqnn2TOG"], ["created_at", "2017-08-08 10:44:41.911595"], ["updated_at", "2017-08-08 10:44:41.911595"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:44:41 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:44:41.916867"], ["last_sign_in_at", "2017-08-08 10:44:41.916867"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:44:41.917343"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:44:41 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:47:38.396256', '2017-08-08 10:47:38.396256', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:47:38.396256', '2017-08-08 10:47:38.396256', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:47:38.399310', '2017-08-08 10:47:38.399310', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:47:38.399310', '2017-08-08 10:47:38.399310', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:47:38.400955', '2017-08-08 10:47:38.400955', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:47:38.400955', '2017-08-08 10:47:38.400955', 298486374)[0m
  [1m[35m (68.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$fmJ2OjxH1Ii/FuV1p2GvCunvFh6whti/jW8Un1Z0h2euv2/XeIn.6"], ["created_at", "2017-08-08 10:47:38.567896"], ["updated_at", "2017-08-08 10:47:38.567896"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:47:38 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:47:38.623846"], ["last_sign_in_at", "2017-08-08 10:47:38.623846"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:47:38.624417"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 34ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:47:38 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.7ms)
Completed 200 OK in 406ms (Views: 404.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:47:39 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:47:39 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:47:39 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$yoyOG/IqX1GgM.ve5/LYrew08qbZFVnqIIvOlD/sjL6.KjkopZTIW"], ["created_at", "2017-08-08 10:47:39.077662"], ["updated_at", "2017-08-08 10:47:39.077662"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:47:39 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:47:39.082757"], ["last_sign_in_at", "2017-08-08 10:47:39.082757"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:47:39.083151"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:47:39 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:47:39 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$SNVgbeA7E6UWU63Qgle1Kea5bb9YxDYkXkpgdKilz/sVmzSPi6knC"], ["created_at", "2017-08-08 10:47:39.102895"], ["updated_at", "2017-08-08 10:47:39.102895"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:47:39 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:47:39.108291"], ["last_sign_in_at", "2017-08-08 10:47:39.108291"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:47:39.108835"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:47:39 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.0ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:47:39 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 21ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$8XI/OPvLYMEiHXXAO/ykB..OMA7YK1LOodfvEzhZ8JTjXQ0yluAcK"], ["created_at", "2017-08-08 10:47:39.145414"], ["updated_at", "2017-08-08 10:47:39.145414"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:47:39 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:47:39.150409"], ["last_sign_in_at", "2017-08-08 10:47:39.150409"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:47:39.150832"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:47:39.168540"], ["updated_at", "2017-08-08 10:47:39.168540"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts" for 127.0.0.1 at 2017-08-08 13:47:39 +0300
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$bwO8XkrmUybxRT1KD4Kp/eHuYXxAys1nHnPWdzniJBZVEwJwKLBg2"], ["created_at", "2017-08-08 10:47:39.180806"], ["updated_at", "2017-08-08 10:47:39.180806"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:47:39 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:47:39.189520"], ["last_sign_in_at", "2017-08-08 10:47:39.189520"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:47:39.190645"], ["id", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:47:39.198408"], ["updated_at", "2017-08-08 10:47:39.198408"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:47:39 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:47:39.205000"], ["updated_at", "2017-08-08 10:47:39.205000"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 7ms (Views: 1.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$PkYX84w6l7xamXUhF1PjOufQQwOm.9gpvIscwgX7ir2W8m9BtSj3S"], ["created_at", "2017-08-08 10:47:39.216967"], ["updated_at", "2017-08-08 10:47:39.216967"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:47:39 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:47:39.222433"], ["last_sign_in_at", "2017-08-08 10:47:39.222433"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:47:39.222843"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:47:39.227143"], ["updated_at", "2017-08-08 10:47:39.227143"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:47:39 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.9ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:47:56.323871', '2017-08-08 10:47:56.323871', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:47:56.323871', '2017-08-08 10:47:56.323871', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:47:56.327487', '2017-08-08 10:47:56.327487', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:47:56.327487', '2017-08-08 10:47:56.327487', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:47:56.329479', '2017-08-08 10:47:56.329479', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:47:56.329479', '2017-08-08 10:47:56.329479', 298486374)[0m
  [1m[35m (88.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$hpizARpEISO5M6w6ufi5X.f7MPh8TEVPYkPSlIpWvozaYf6iZtyf."], ["created_at", "2017-08-08 10:47:56.536935"], ["updated_at", "2017-08-08 10:47:56.536935"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:47:56 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:47:56.592889"], ["last_sign_in_at", "2017-08-08 10:47:56.592889"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:47:56.593546"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 27ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:47:56 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.7ms)
Completed 200 OK in 420ms (Views: 418.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:47:57 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:47:57 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:47:57 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$h/5G6UKRYk4UiASBNaIjSusxAaqMuAsa6UVwy57dFi1yn3FBdNVTm"], ["created_at", "2017-08-08 10:47:57.055138"], ["updated_at", "2017-08-08 10:47:57.055138"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:47:57 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:47:57.060498"], ["last_sign_in_at", "2017-08-08 10:47:57.060498"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:47:57.060930"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:47:57 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:47:57 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$9vcJ1w.NBGRS.tTDyNPPXudu2O7G1vFBPqevxkj6mj8059Ohx2Kue"], ["created_at", "2017-08-08 10:47:57.078124"], ["updated_at", "2017-08-08 10:47:57.078124"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:47:57 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:47:57.083714"], ["last_sign_in_at", "2017-08-08 10:47:57.083714"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:47:57.084208"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:47:57 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:47:57 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$C1kt88ZGzJWB9PfUx4qCk.5.36q4XWaiMe8RUv6EQhllOd4b9zT.K"], ["created_at", "2017-08-08 10:47:57.104012"], ["updated_at", "2017-08-08 10:47:57.104012"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:47:57 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:47:57.109675"], ["last_sign_in_at", "2017-08-08 10:47:57.109675"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:47:57.110083"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:47:57.127524"], ["updated_at", "2017-08-08 10:47:57.127524"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts" for 127.0.0.1 at 2017-08-08 13:47:57 +0300
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$Qof9I6D7w/WuBJ0Yn14RJ.Oem4guloliwnt9Qs4vQ95OOtu9/vEf2"], ["created_at", "2017-08-08 10:47:57.138779"], ["updated_at", "2017-08-08 10:47:57.138779"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:47:57 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:47:57.144866"], ["last_sign_in_at", "2017-08-08 10:47:57.144866"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:47:57.145355"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:47:57.150121"], ["updated_at", "2017-08-08 10:47:57.150121"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:47:57 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 5ms (Views: 0.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$PESioA5YZ7hf1d3XxpmEzOW9d2EhtvSJvA294G7O6MoopJGXgD8Su"], ["created_at", "2017-08-08 10:47:57.172046"], ["updated_at", "2017-08-08 10:47:57.172046"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:47:57 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:47:57.177605"], ["last_sign_in_at", "2017-08-08 10:47:57.177605"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:47:57.178062"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:47:57.182884"], ["updated_at", "2017-08-08 10:47:57.182884"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:47:57 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:47:57.188380"], ["updated_at", "2017-08-08 10:47:57.188380"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 6ms (Views: 0.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:48:34.324983', '2017-08-08 10:48:34.324983', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:48:34.324983', '2017-08-08 10:48:34.324983', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:48:34.327574', '2017-08-08 10:48:34.327574', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:48:34.327574', '2017-08-08 10:48:34.327574', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:48:34.329233', '2017-08-08 10:48:34.329233', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:48:34.329233', '2017-08-08 10:48:34.329233', 298486374)[0m
  [1m[35m (113.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:48:34 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.7ms)
Completed 200 OK in 399ms (Views: 393.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:48:34 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:48:34 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$FXa/R7ngfPkjR5PpSXOsF.f92ylxeLu0PL2rEqRhORoD4brOS1lMC"], ["created_at", "2017-08-08 10:48:34.992247"], ["updated_at", "2017-08-08 10:48:34.992247"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:48:34 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:48:35.006757"], ["last_sign_in_at", "2017-08-08 10:48:35.006757"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:48:35.007433"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 15ms (ActiveRecord: 0.7ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:48:35 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 302 Found in 4ms (Views: 2.5ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:48:35 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$N6avC3v//VrhiCRn1puu2.aLlAWKHJuTIWISQTYlIjCZXg7UsA3T."], ["created_at", "2017-08-08 10:48:35.035897"], ["updated_at", "2017-08-08 10:48:35.035897"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:48:35 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:48:35.040937"], ["last_sign_in_at", "2017-08-08 10:48:35.040937"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:48:35.041322"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 23ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:48:35 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$F.hOZgne66hurElIOJARluRmw/1d2JDlLJHDiNXRzqjs2A90g72dq"], ["created_at", "2017-08-08 10:48:35.073260"], ["updated_at", "2017-08-08 10:48:35.073260"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:48:35 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:48:35.078637"], ["last_sign_in_at", "2017-08-08 10:48:35.078637"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:48:35.079007"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:48:35 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:48:35 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$yckM2MZnMWtU70CGDjYee.5GUy3h28F54GrV5UDypP7QT8K/xHtyS"], ["created_at", "2017-08-08 10:48:35.097296"], ["updated_at", "2017-08-08 10:48:35.097296"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:48:35 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:48:35.102654"], ["last_sign_in_at", "2017-08-08 10:48:35.102654"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:48:35.103120"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:48:35.120551"], ["updated_at", "2017-08-08 10:48:35.120551"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:48:35 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 5ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$RBBkZWMVIgwWJaATFJnOFe133bth0Gku4xNbvQL2X7yAp9MXG8qYS"], ["created_at", "2017-08-08 10:48:35.138868"], ["updated_at", "2017-08-08 10:48:35.138868"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:48:35 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:48:35.144171"], ["last_sign_in_at", "2017-08-08 10:48:35.144171"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:48:35.144588"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:48:35.148347"], ["updated_at", "2017-08-08 10:48:35.148347"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$n29xru33B7PfeBgIKp2Jfu3ml.qsOg.Ym02lw4ysB4EhyxMiUbUh2"], ["created_at", "2017-08-08 10:48:35.156117"], ["updated_at", "2017-08-08 10:48:35.156117"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:48:35 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:48:35.161233"], ["last_sign_in_at", "2017-08-08 10:48:35.161233"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:48:35.161644"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:48:35.165654"], ["updated_at", "2017-08-08 10:48:35.165654"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:48:35 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:48:35.170429"], ["updated_at", "2017-08-08 10:48:35.170429"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 5ms (Views: 0.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:48:54.766081', '2017-08-08 10:48:54.766081', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:48:54.766081', '2017-08-08 10:48:54.766081', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:48:54.768501', '2017-08-08 10:48:54.768501', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:48:54.768501', '2017-08-08 10:48:54.768501', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:48:54.770127', '2017-08-08 10:48:54.770127', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:48:54.770127', '2017-08-08 10:48:54.770127', 298486374)[0m
  [1m[35m (117.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:48:54 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.7ms)
Completed 200 OK in 389ms (Views: 383.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$NW/vAVk.3egdSB5ju4KExe/s..5IE3.wt8.II30WmirftusGyoZbq"], ["created_at", "2017-08-08 10:48:55.417605"], ["updated_at", "2017-08-08 10:48:55.417605"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:48:55 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:48:55.434798"], ["last_sign_in_at", "2017-08-08 10:48:55.434798"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:48:55.435293"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 38ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:48:55 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.2ms)
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:48:55 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:48:55 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$bzPP2lDPDbnWhSZXrG5.yOH9zk6vkfT9lIX2CBZQHUioWBe4Hj28."], ["created_at", "2017-08-08 10:48:55.488605"], ["updated_at", "2017-08-08 10:48:55.488605"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:48:55 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:48:55.494180"], ["last_sign_in_at", "2017-08-08 10:48:55.494180"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:48:55.494781"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:48:55 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:48:55 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$1cSynl2t0qrWvExiCP3UsOfFC5Rf1qmIDgnkEwyNhQFG0rH./bKQy"], ["created_at", "2017-08-08 10:48:55.514511"], ["updated_at", "2017-08-08 10:48:55.514511"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:48:55 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:48:55.520391"], ["last_sign_in_at", "2017-08-08 10:48:55.520391"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:48:55.520839"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:48:55 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.4ms)
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:48:55 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$ZCyzDCe1sMrPwyLRor8VAOpv.vxv07Ul1P4Yt6icIQtXmLGFK/1uy"], ["created_at", "2017-08-08 10:48:55.545455"], ["updated_at", "2017-08-08 10:48:55.545455"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:48:55 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:48:55.551307"], ["last_sign_in_at", "2017-08-08 10:48:55.551307"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:48:55.552476"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:48:55.570454"], ["updated_at", "2017-08-08 10:48:55.570454"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:48:55 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$/NvfgEJV2zfY.Ogu/9euEe3M.I9TXKRd58u4rjhl9N96VrYWoRo1u"], ["created_at", "2017-08-08 10:48:55.585886"], ["updated_at", "2017-08-08 10:48:55.585886"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:48:55 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:48:55.591040"], ["last_sign_in_at", "2017-08-08 10:48:55.591040"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:48:55.591502"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:48:55.595384"], ["updated_at", "2017-08-08 10:48:55.595384"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$4ZsiAXSbIAC0fIPGgcdqneN49P2I6axIePHNzV7.VoGCGE.Nuixbu"], ["created_at", "2017-08-08 10:48:55.603891"], ["updated_at", "2017-08-08 10:48:55.603891"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:48:55 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:48:55.609156"], ["last_sign_in_at", "2017-08-08 10:48:55.609156"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:48:55.609567"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:48:55.613693"], ["updated_at", "2017-08-08 10:48:55.613693"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:48:55 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:48:55.618546"], ["updated_at", "2017-08-08 10:48:55.618546"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 5ms (Views: 0.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:49:32.355705', '2017-08-08 10:49:32.355705', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 10:49:32.355705', '2017-08-08 10:49:32.355705', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:49:32.359069', '2017-08-08 10:49:32.359069', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 10:49:32.359069', '2017-08-08 10:49:32.359069', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:49:32.361247', '2017-08-08 10:49:32.361247', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 10:49:32.361247', '2017-08-08 10:49:32.361247', 298486374)[0m
  [1m[35m (995.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$fcaD7BWAT9i57I/2A6DzVedKQCHLBE04pgfdSS8BhP5WSiugwvmHm"], ["created_at", "2017-08-08 10:49:33.446836"], ["updated_at", "2017-08-08 10:49:33.446836"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:49:33 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:49:33.498687"], ["last_sign_in_at", "2017-08-08 10:49:33.498687"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:49:33.499290"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 25ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:49:33.527982"], ["updated_at", "2017-08-08 10:49:33.527982"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 13:49:33 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$a6PZafycFB5Z.M5/4ECGh.fMjwQgag3WNTS2XmtQ7C37tfyzYRdYW"], ["created_at", "2017-08-08 10:49:33.543179"], ["updated_at", "2017-08-08 10:49:33.543179"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:49:33 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:49:33.549113"], ["last_sign_in_at", "2017-08-08 10:49:33.549113"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:49:33.549801"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:49:33.554611"], ["updated_at", "2017-08-08 10:49:33.554611"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 13:49:33 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:49:33.559570"], ["updated_at", "2017-08-08 10:49:33.559570"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 7ms (Views: 2.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$BbgguRFMyOxbHzEwvgn5Hu6D4l1nqkMxUmP8dc1Hwp2uDr2bR9NcO"], ["created_at", "2017-08-08 10:49:33.575385"], ["updated_at", "2017-08-08 10:49:33.575385"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:49:33 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:49:33.581182"], ["last_sign_in_at", "2017-08-08 10:49:33.581182"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:49:33.581643"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 10:49:33.585932"], ["updated_at", "2017-08-08 10:49:33.585932"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$qJ56Z/nV2uNb7687Sn01G.fG.piebUYoLmOn0EaKne2tj1oN4xWKu"], ["created_at", "2017-08-08 10:49:33.593720"], ["updated_at", "2017-08-08 10:49:33.593720"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:49:33 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:49:33.599319"], ["last_sign_in_at", "2017-08-08 10:49:33.599319"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:49:33.599772"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:49:33 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.7ms)
Completed 200 OK in 388ms (Views: 386.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:49:33 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$6sKrgXRWPqOTtSyc9mX/ceIgk7r9e9y4vpxzWBmHBMEpff/DGoYee"], ["created_at", "2017-08-08 10:49:34.004905"], ["updated_at", "2017-08-08 10:49:34.004905"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:49:34 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:49:34.009992"], ["last_sign_in_at", "2017-08-08 10:49:34.009992"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:49:34.010386"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 13:49:34 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.2ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 13:49:34 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 13:49:34 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$3YvAj4qB8OnCDtbwXEw36./cNxPaabg0AGKNaH8dQQNliZRcfJsq2"], ["created_at", "2017-08-08 10:49:34.034879"], ["updated_at", "2017-08-08 10:49:34.034879"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 13:49:34 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 10:49:34.040774"], ["last_sign_in_at", "2017-08-08 10:49:34.040774"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 10:49:34.041214"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:49:34 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 13:49:34 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 13:49:34 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:14:29.622478', '2017-08-08 11:14:29.622478', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:14:29.622478', '2017-08-08 11:14:29.622478', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:14:29.625341', '2017-08-08 11:14:29.625341', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:14:29.625341', '2017-08-08 11:14:29.625341', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:14:29.626873', '2017-08-08 11:14:29.626873', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:14:29.626873', '2017-08-08 11:14:29.626873', 298486374)[0m
  [1m[35m (62.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$AD6QBKsPTLOk060V42NOsebDbvX63Iac5Ygw9mFwAOBhie13aK8/q"], ["created_at", "2017-08-08 11:14:29.796827"], ["updated_at", "2017-08-08 11:14:29.796827"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:14:29 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:14:29.849756"], ["last_sign_in_at", "2017-08-08 11:14:29.849756"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:14:29.850237"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 34ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:14:29.887618"], ["updated_at", "2017-08-08 11:14:29.887618"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts.980190963" for 127.0.0.1 at 2017-08-08 14:14:29 +0300
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$ysB/4c1OoHX5zgb41pyJLeEHSAu8rqVlwnxAmz3KrnX59ipSOerWe"], ["created_at", "2017-08-08 11:14:29.896839"], ["updated_at", "2017-08-08 11:14:29.896839"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:14:29 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:14:29.903358"], ["last_sign_in_at", "2017-08-08 11:14:29.903358"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:14:29.903918"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:14:29.908542"], ["updated_at", "2017-08-08 11:14:29.908542"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 14:14:29 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:14:29.915216"], ["updated_at", "2017-08-08 11:14:29.915216"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 8ms (Views: 2.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$WjJrjwV2nrRz1We/hu4gIOopRYmhOOYJV9gfgcl52CRhqjEuGHOz2"], ["created_at", "2017-08-08 11:14:29.929725"], ["updated_at", "2017-08-08 11:14:29.929725"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:14:29 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:14:29.936442"], ["last_sign_in_at", "2017-08-08 11:14:29.936442"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:14:29.936828"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:14:29.941253"], ["updated_at", "2017-08-08 11:14:29.941253"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 14:14:29 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.7ms | ActiveRecord: 0.2ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$VC6eY8xp.p.XnSn/WFWEququDFXzUjmkT0FQLyhOVFNLBwOzfAWYG"], ["created_at", "2017-08-08 11:14:29.954879"], ["updated_at", "2017-08-08 11:14:29.954879"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:14:29 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:14:29.961091"], ["last_sign_in_at", "2017-08-08 11:14:29.961091"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:14:29.961828"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:14:29 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.7ms)
Completed 200 OK in 397ms (Views: 395.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:14:30 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.7ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$Gf31CX2FGuWB8Iv0ifCeNewwEIHoO4vyBklgG1GbgAVXxswkzUwSy"], ["created_at", "2017-08-08 11:14:30.385736"], ["updated_at", "2017-08-08 11:14:30.385736"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:14:30 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:14:30.394138"], ["last_sign_in_at", "2017-08-08 11:14:30.394138"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:14:30.395543"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 19ms (ActiveRecord: 1.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:14:30 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 6ms (Views: 3.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:14:30 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:14:30 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.2ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$GOXEkYhkaOVu1uZQmwa3AeQqzdK5JNidxY5ZFm4pUGIhUl5LYNJ3O"], ["created_at", "2017-08-08 11:14:30.441280"], ["updated_at", "2017-08-08 11:14:30.441280"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:14:30 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:14:30.448937"], ["last_sign_in_at", "2017-08-08 11:14:30.448937"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:14:30.449320"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 14:14:30 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 4ms (Views: 3.9ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 14:14:30 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:14:30 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:16:28.638850', '2017-08-08 11:16:28.638850', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:16:28.638850', '2017-08-08 11:16:28.638850', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:16:28.641653', '2017-08-08 11:16:28.641653', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:16:28.641653', '2017-08-08 11:16:28.641653', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:16:28.643302', '2017-08-08 11:16:28.643302', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:16:28.643302', '2017-08-08 11:16:28.643302', 298486374)[0m
  [1m[35m (59.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$x.qcbCFPZSQejAoaH5v2M.sGqdiJsdROiIHTqrE/J5QpmL7OVg6FO"], ["created_at", "2017-08-08 11:16:28.795507"], ["updated_at", "2017-08-08 11:16:28.795507"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:16:28 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:16:28.847520"], ["last_sign_in_at", "2017-08-08 11:16:28.847520"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:16:28.847987"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 25ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:16:28.876287"], ["updated_at", "2017-08-08 11:16:28.876287"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$qJFHAs961g5pwvi8D3U5deYax5BGfC/ooceyzuUCW/8DllD/CkaHq"], ["created_at", "2017-08-08 11:16:28.884070"], ["updated_at", "2017-08-08 11:16:28.884070"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:16:28 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:16:28.890255"], ["last_sign_in_at", "2017-08-08 11:16:28.890255"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:16:28.890962"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:16:28.896256"], ["updated_at", "2017-08-08 11:16:28.896256"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 14:16:28 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:16:28.903295"], ["updated_at", "2017-08-08 11:16:28.903295"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 7ms (Views: 1.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$wwf5cwHRoqNHjB/jSLT0fOwsi9k9T9Uqb2ZnA7yLBAtZ0dAspV8Xi"], ["created_at", "2017-08-08 11:16:28.915697"], ["updated_at", "2017-08-08 11:16:28.915697"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:16:28 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:16:28.921491"], ["last_sign_in_at", "2017-08-08 11:16:28.921491"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:16:28.921928"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:16:28.926142"], ["updated_at", "2017-08-08 11:16:28.926142"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 14:16:28 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$XG99tYUk51ibd5MIJgYOleH3czwleCYLVgeazOtWD3JCMYfDNn9hm"], ["created_at", "2017-08-08 11:16:28.940586"], ["updated_at", "2017-08-08 11:16:28.940586"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:16:28 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:16:28.948836"], ["last_sign_in_at", "2017-08-08 11:16:28.948836"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:16:28.949595"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:16:28 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.8ms)
Completed 200 OK in 410ms (Views: 407.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:16:29 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$tvt49GILwAFd00ShGlNkMezsgfu5m4NHL6FV2NP5KwKlx7.8nJhAG"], ["created_at", "2017-08-08 11:16:29.377626"], ["updated_at", "2017-08-08 11:16:29.377626"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:16:29 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:16:29.383455"], ["last_sign_in_at", "2017-08-08 11:16:29.383455"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:16:29.383958"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:16:29 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.4ms)
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:16:29 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:16:29 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:16:29 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$PVn/XSet0nnZFY/rlwo8.ea5FzxxRh2m/rt/i9PFkR4V0MLzi7Zre"], ["created_at", "2017-08-08 11:16:29.413117"], ["updated_at", "2017-08-08 11:16:29.413117"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:16:29 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:16:29.418819"], ["last_sign_in_at", "2017-08-08 11:16:29.418819"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:16:29.419184"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 14:16:29 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.9ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 14:16:29 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:16:45.632724', '2017-08-08 11:16:45.632724', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:16:45.632724', '2017-08-08 11:16:45.632724', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:16:45.635235', '2017-08-08 11:16:45.635235', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:16:45.635235', '2017-08-08 11:16:45.635235', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:16:45.636906', '2017-08-08 11:16:45.636906', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:16:45.636906', '2017-08-08 11:16:45.636906', 298486374)[0m
  [1m[35m (128.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$dE68I.w5qSBezczF17s6ieTDDKcwSUOXKXtY8n/tKg8yERLoHZAx6"], ["created_at", "2017-08-08 11:16:45.851585"], ["updated_at", "2017-08-08 11:16:45.851585"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:16:45 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:16:45.904173"], ["last_sign_in_at", "2017-08-08 11:16:45.904173"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:16:45.904648"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 25ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:16:45.933584"], ["updated_at", "2017-08-08 11:16:45.933584"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 14:16:45 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:16:45.940848"], ["updated_at", "2017-08-08 11:16:45.940848"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 7ms (Views: 1.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$vmfzQOCaXhSwJMra/pBWYuzfeqFlqnECPfiULF.bacXpEnkGnFwUu"], ["created_at", "2017-08-08 11:16:45.952889"], ["updated_at", "2017-08-08 11:16:45.952889"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:16:45 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:16:45.960565"], ["last_sign_in_at", "2017-08-08 11:16:45.960565"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:16:45.961579"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:16:45.967477"], ["updated_at", "2017-08-08 11:16:45.967477"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 14:16:45 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$VJtci8pVhqh1tfMCRdOvXuMLDn8mdQ4L9veJdwGhUg1jSA/Qva4Da"], ["created_at", "2017-08-08 11:16:45.981061"], ["updated_at", "2017-08-08 11:16:45.981061"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:16:45 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:16:45.986674"], ["last_sign_in_at", "2017-08-08 11:16:45.986674"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:16:45.987132"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:16:45.991250"], ["updated_at", "2017-08-08 11:16:45.991250"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:16:45 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.3ms)
Completed 200 OK in 387ms (Views: 386.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$sZu7ac1UZEOnX.BOpgizT.mmGce7EAE08qCT6fHJlLnSQO0LxbWay"], ["created_at", "2017-08-08 11:16:46.393286"], ["updated_at", "2017-08-08 11:16:46.393286"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:16:46 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:16:46.398639"], ["last_sign_in_at", "2017-08-08 11:16:46.398639"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:16:46.399013"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:16:46 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:16:46 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$qxUqTDIHBRobSO.aWbDT8eeAPobrbq5Ntg.eMA7dyxGPyM5aABx72"], ["created_at", "2017-08-08 11:16:46.416905"], ["updated_at", "2017-08-08 11:16:46.416905"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:16:46 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:16:46.424143"], ["last_sign_in_at", "2017-08-08 11:16:46.424143"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:16:46.424526"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 14:16:46 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.2ms)
Completed 302 Found in 3ms (Views: 2.8ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 14:16:46 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$86ZCsdLtIpB02.1pS4hnRO4I06Zedo/J0Kq3VEkpgKYz7ktjzFax2"], ["created_at", "2017-08-08 11:16:46.444492"], ["updated_at", "2017-08-08 11:16:46.444492"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:16:46 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:16:46.450346"], ["last_sign_in_at", "2017-08-08 11:16:46.450346"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:16:46.450806"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 32ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:16:46 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:16:46 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:16:46 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:18:22.962668', '2017-08-08 11:18:22.962668', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:18:22.962668', '2017-08-08 11:18:22.962668', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:18:22.965169', '2017-08-08 11:18:22.965169', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:18:22.965169', '2017-08-08 11:18:22.965169', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:18:22.966782', '2017-08-08 11:18:22.966782', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:18:22.966782', '2017-08-08 11:18:22.966782', 298486374)[0m
  [1m[35m (82.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$teniAVDW.Cc4W3DR4iQfJOqYemyhCZrJwuOnQatLPHs0Z1Gky2BAO"], ["created_at", "2017-08-08 11:18:23.135663"], ["updated_at", "2017-08-08 11:18:23.135663"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:18:23 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:18:23.197567"], ["last_sign_in_at", "2017-08-08 11:18:23.197567"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:18:23.198074"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 25ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:18:23.226994"], ["updated_at", "2017-08-08 11:18:23.226994"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 14:18:23 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:18:23.234307"], ["updated_at", "2017-08-08 11:18:23.234307"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 8ms (Views: 2.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$cA6amjtGyyc6PijgLFkAoefPXFXEooVm3/RCyvrJH15ZQFAtla/26"], ["created_at", "2017-08-08 11:18:23.247459"], ["updated_at", "2017-08-08 11:18:23.247459"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:18:23 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:18:23.253008"], ["last_sign_in_at", "2017-08-08 11:18:23.253008"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:18:23.253397"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:18:23.257994"], ["updated_at", "2017-08-08 11:18:23.257994"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$YllFjZzFrClzTlLeuMrDFeQXDNGub0HvB4bujcDA.BM7CN8H32kFG"], ["created_at", "2017-08-08 11:18:23.266350"], ["updated_at", "2017-08-08 11:18:23.266350"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:18:23 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:18:23.271926"], ["last_sign_in_at", "2017-08-08 11:18:23.271926"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:18:23.272402"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:18:23.276895"], ["updated_at", "2017-08-08 11:18:23.276895"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 14:18:23 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:18:23 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:18:23 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (2.1ms)
Completed 200 OK in 440ms (Views: 439.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:18:23 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:18:23 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$vh34y.lQx/mtICubv3Ewm.d.Pw1WbnOSHDwTbNhcZRGpQcBBRB0Nm"], ["created_at", "2017-08-08 11:18:23.754055"], ["updated_at", "2017-08-08 11:18:23.754055"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:18:23 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:18:23.763615"], ["last_sign_in_at", "2017-08-08 11:18:23.763615"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:18:23.764131"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 14:18:23 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.5ms)
Completed 302 Found in 6ms (Views: 4.9ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 14:18:23 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$UMQR14NA85c8ZBL9eKVhHO5sK5j2ng4BJZLawJ0TDC49ce4sJkOxe"], ["created_at", "2017-08-08 11:18:23.791779"], ["updated_at", "2017-08-08 11:18:23.791779"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:18:23 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:18:23.799717"], ["last_sign_in_at", "2017-08-08 11:18:23.799717"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:18:23.800619"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.7ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:18:23 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.4ms)
Completed 200 OK in 5ms (Views: 2.3ms | ActiveRecord: 0.2ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$JruaJQj9.J66FZtmaKRqmuSx1VhVBvs46/Md7uDZ3xUj0dtqDC/IG"], ["created_at", "2017-08-08 11:18:23.820296"], ["updated_at", "2017-08-08 11:18:23.820296"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:18:23 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:18:23.826779"], ["last_sign_in_at", "2017-08-08 11:18:23.826779"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:18:23.827369"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:18:23 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:19:09.875263', '2017-08-08 11:19:09.875263', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:19:09.875263', '2017-08-08 11:19:09.875263', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:19:09.878407', '2017-08-08 11:19:09.878407', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:19:09.878407', '2017-08-08 11:19:09.878407', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:19:09.880327', '2017-08-08 11:19:09.880327', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:19:09.880327', '2017-08-08 11:19:09.880327', 298486374)[0m
  [1m[35m (57.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$PqzSsn4v8GeobzC6MMR5UeKo7ctMLvQrJaRMheLWaDK8w2otSR7AS"], ["created_at", "2017-08-08 11:19:10.031121"], ["updated_at", "2017-08-08 11:19:10.031121"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:19:10 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:19:10.083709"], ["last_sign_in_at", "2017-08-08 11:19:10.083709"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:19:10.084244"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 28ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:19:10.116551"], ["updated_at", "2017-08-08 11:19:10.116551"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$eoWQ1/ErtzMP97uiK2kKVO1sAtdmM5u0HzSpyW6.dL7MKF.Jv.i1W"], ["created_at", "2017-08-08 11:19:10.124980"], ["updated_at", "2017-08-08 11:19:10.124980"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:19:10 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:19:10.131131"], ["last_sign_in_at", "2017-08-08 11:19:10.131131"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:19:10.132179"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:19:10.137107"], ["updated_at", "2017-08-08 11:19:10.137107"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 14:19:10 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:19:10.143636"], ["updated_at", "2017-08-08 11:19:10.143636"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 7ms (Views: 1.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$SSwUhVdl2j5RxZR6iub3NeObtc7wvnli7LE8eGN04.EvSLceO6mSa"], ["created_at", "2017-08-08 11:19:10.156074"], ["updated_at", "2017-08-08 11:19:10.156074"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:19:10 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:19:10.161611"], ["last_sign_in_at", "2017-08-08 11:19:10.161611"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:19:10.162055"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:19:10.166549"], ["updated_at", "2017-08-08 11:19:10.166549"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 14:19:10 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:19:10 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$nVdWXt8jdODhF/X6aZOTGut2boxd22HDQzzUAzG5AAHv26dP.tV.O"], ["created_at", "2017-08-08 11:19:10.185902"], ["updated_at", "2017-08-08 11:19:10.185902"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:19:10 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:19:10.191087"], ["last_sign_in_at", "2017-08-08 11:19:10.191087"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:19:10.191452"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:19:10 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.7ms)
Completed 200 OK in 384ms (Views: 382.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:19:10 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$NYIQMiywvDmkX/X4h6IOh.omLSHYNag39VZxSY2iWCp./yf8e9oh6"], ["created_at", "2017-08-08 11:19:10.590685"], ["updated_at", "2017-08-08 11:19:10.590685"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:19:10 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:19:10.596875"], ["last_sign_in_at", "2017-08-08 11:19:10.596875"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:19:10.597497"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:19:10 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.4ms)
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.2ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:19:10 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:19:10 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$RUwQM/bMINDudLOmlFvqauNt25O1o2QpU3ybC6PWzo/vNbsCTjaQO"], ["created_at", "2017-08-08 11:19:10.620583"], ["updated_at", "2017-08-08 11:19:10.620583"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:19:10 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:19:10.626172"], ["last_sign_in_at", "2017-08-08 11:19:10.626172"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:19:10.626762"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 14:19:10 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.2ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 14:19:10 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:19:28.984138', '2017-08-08 11:19:28.984138', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:19:28.984138', '2017-08-08 11:19:28.984138', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:19:28.987161', '2017-08-08 11:19:28.987161', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:19:28.987161', '2017-08-08 11:19:28.987161', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:19:28.988895', '2017-08-08 11:19:28.988895', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:19:28.988895', '2017-08-08 11:19:28.988895', 298486374)[0m
  [1m[35m (61.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$R1s.7AZwk4IOAmnnv67wjO8KStns/ouLF8usBKRP9r0jq7IDLUgxi"], ["created_at", "2017-08-08 11:19:29.139027"], ["updated_at", "2017-08-08 11:19:29.139027"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:19:29 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:19:29.190926"], ["last_sign_in_at", "2017-08-08 11:19:29.190926"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:19:29.191399"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 25ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:19:29.220740"], ["updated_at", "2017-08-08 11:19:29.220740"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts" for 127.0.0.1 at 2017-08-08 14:19:29 +0300
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$AoscAnHBBaAuX2pcrXC.Ne5srTHZGejuMSmeqQmoo3AOmia37kj0u"], ["created_at", "2017-08-08 11:19:29.239050"], ["updated_at", "2017-08-08 11:19:29.239050"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:19:29 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:19:29.245664"], ["last_sign_in_at", "2017-08-08 11:19:29.245664"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:19:29.246102"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:19:29.250449"], ["updated_at", "2017-08-08 11:19:29.250449"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 14:19:29 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:19:29.257325"], ["updated_at", "2017-08-08 11:19:29.257325"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 7ms (Views: 1.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$WoLwqxK2A25g76c3V3/95ud4cWdUnVkO1jjGPjBlnIzUiOYGniEzi"], ["created_at", "2017-08-08 11:19:29.270119"], ["updated_at", "2017-08-08 11:19:29.270119"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:19:29 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:19:29.276058"], ["last_sign_in_at", "2017-08-08 11:19:29.276058"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:19:29.276440"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:19:29.280935"], ["updated_at", "2017-08-08 11:19:29.280935"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 14:19:29 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.7ms | ActiveRecord: 0.3ms)
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$urFfMBL41ftEGyDGiQOanuvWITCekh8WVoBx3yJv8Vd8kPunG3lNK"], ["created_at", "2017-08-08 11:19:29.295193"], ["updated_at", "2017-08-08 11:19:29.295193"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:19:29 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:19:29.300937"], ["last_sign_in_at", "2017-08-08 11:19:29.300937"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:19:29.301314"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:19:29 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.7ms)
Completed 200 OK in 375ms (Views: 373.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$3.eaJBFTGxLfNT.PjBIISOig12wKswoEaidFCbAlkTrGWjXbGZD6W"], ["created_at", "2017-08-08 11:19:29.689019"], ["updated_at", "2017-08-08 11:19:29.689019"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:19:29 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:19:29.694684"], ["last_sign_in_at", "2017-08-08 11:19:29.694684"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:19:29.695074"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:19:29 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:19:29 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (20.4ms)
Completed 200 OK in 23ms (Views: 22.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$2wTNFfr5CASnKBA5DGqgx.q6SR5nVCXXpg/RjnLGkGZp.J36sr1/W"], ["created_at", "2017-08-08 11:19:29.733790"], ["updated_at", "2017-08-08 11:19:29.733790"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:19:29 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:19:29.739107"], ["last_sign_in_at", "2017-08-08 11:19:29.739107"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:19:29.739466"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 14:19:29 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 14:19:29 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:19:29 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:19:29 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:19:29 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:19:50.151059', '2017-08-08 11:19:50.151059', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:19:50.151059', '2017-08-08 11:19:50.151059', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:19:50.153689', '2017-08-08 11:19:50.153689', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:19:50.153689', '2017-08-08 11:19:50.153689', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:19:50.155261', '2017-08-08 11:19:50.155261', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:19:50.155261', '2017-08-08 11:19:50.155261', 298486374)[0m
  [1m[35m (63.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$VqgHXu3QL802Yudlv2Pv.uo4F9FqLYlEzGxt1Vn8.2.Ef73vYIzXS"], ["created_at", "2017-08-08 11:19:50.311172"], ["updated_at", "2017-08-08 11:19:50.311172"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:19:50 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:19:50.364122"], ["last_sign_in_at", "2017-08-08 11:19:50.364122"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:19:50.364637"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:19:50.395445"], ["updated_at", "2017-08-08 11:19:50.395445"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 14:19:50 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$MIuXSt7HFNZU4jkIrn/IKO69mQUvsW0/u2HehtifHAAKwYbjEJBuC"], ["created_at", "2017-08-08 11:19:50.410972"], ["updated_at", "2017-08-08 11:19:50.410972"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:19:50 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:19:50.416664"], ["last_sign_in_at", "2017-08-08 11:19:50.416664"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:19:50.417053"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:19:50.421216"], ["updated_at", "2017-08-08 11:19:50.421216"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts" for 127.0.0.1 at 2017-08-08 14:19:50 +0300
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$H9dlAzUWc78z/FOTx6m5Zu899BcVUU6OYQ0slUnByOFqFCUHfEt3K"], ["created_at", "2017-08-08 11:19:50.430172"], ["updated_at", "2017-08-08 11:19:50.430172"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:19:50 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:19:50.436239"], ["last_sign_in_at", "2017-08-08 11:19:50.436239"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:19:50.436738"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:19:50.440993"], ["updated_at", "2017-08-08 11:19:50.440993"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 14:19:50 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:19:50.445890"], ["updated_at", "2017-08-08 11:19:50.445890"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 6ms (Views: 1.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:19:50 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.2ms)
Completed 200 OK in 405ms (Views: 404.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$Jxn2Ka9N4zzqfefFm9isQeMxo0zNhZiBWpFcglv4McwNRrS/RExY2"], ["created_at", "2017-08-08 11:19:50.870748"], ["updated_at", "2017-08-08 11:19:50.870748"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:19:50 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:19:50.876458"], ["last_sign_in_at", "2017-08-08 11:19:50.876458"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:19:50.876856"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:19:50 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.4ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:19:50 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$wDflzc4/eQxWy8vXE3Pmt.A18xlo7MhZe/0fhNRHKY5fKn.viGDda"], ["created_at", "2017-08-08 11:19:50.908876"], ["updated_at", "2017-08-08 11:19:50.908876"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:19:50 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:19:50.913760"], ["last_sign_in_at", "2017-08-08 11:19:50.913760"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:19:50.914169"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:19:50 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:19:50 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:19:50 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$3hD/Bc.xPsqhDvuZEgtz9OZIRsawiJjGNHLKG4.93gQKOAZV9fFMK"], ["created_at", "2017-08-08 11:19:50.933410"], ["updated_at", "2017-08-08 11:19:50.933410"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:19:50 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:19:50.938431"], ["last_sign_in_at", "2017-08-08 11:19:50.938431"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:19:50.938795"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 14:19:50 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 14:19:50 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.9ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:21:11.996618', '2017-08-08 11:21:11.996618', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:21:11.996618', '2017-08-08 11:21:11.996618', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:21:11.999055', '2017-08-08 11:21:11.999055', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:21:11.999055', '2017-08-08 11:21:11.999055', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:21:12.000672', '2017-08-08 11:21:12.000672', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:21:12.000672', '2017-08-08 11:21:12.000672', 298486374)[0m
  [1m[35m (55.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:21:12 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 11ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:21:12 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 200 OK in 419ms (Views: 418.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:21:12 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$ZYzRjO5bVEnNwq0efhvEn.5rbkHKDiRkco4PXjnA.M9o.iQyNLG0i"], ["created_at", "2017-08-08 11:21:12.637955"], ["updated_at", "2017-08-08 11:21:12.637955"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:21:12 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:21:12.650210"], ["last_sign_in_at", "2017-08-08 11:21:12.650210"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:21:12.650663"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 14:21:12 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 14:21:12 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$BfUMI9nj8z02gqwsOC.rXuUoUc2WlPBhBN8jmOukRYHS4CkITYBnG"], ["created_at", "2017-08-08 11:21:12.675273"], ["updated_at", "2017-08-08 11:21:12.675273"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:21:12 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:21:12.680331"], ["last_sign_in_at", "2017-08-08 11:21:12.680331"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:21:12.680732"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:21:12 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$IZ3DIWDksWKmNTuTtqz0ZOv0sRYKHtkWSFqkoHoVTnWe39V70rzVq"], ["created_at", "2017-08-08 11:21:12.693921"], ["updated_at", "2017-08-08 11:21:12.693921"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:21:12 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:21:12.699071"], ["last_sign_in_at", "2017-08-08 11:21:12.699071"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:21:12.699552"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:21:12 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:21:12 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$EnSWTZ/S1VfDBmsIDvosvucGARNzJMMEnf6KpaRuY5.TUD81CxlgW"], ["created_at", "2017-08-08 11:21:12.720347"], ["updated_at", "2017-08-08 11:21:12.720347"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:21:12 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:21:12.726652"], ["last_sign_in_at", "2017-08-08 11:21:12.726652"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:21:12.727201"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:21:12.745283"], ["updated_at", "2017-08-08 11:21:12.745283"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 14:21:12 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:21:12.752521"], ["updated_at", "2017-08-08 11:21:12.752521"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 6ms (Views: 0.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$PylDZqzh7IUxnUwmqFf0Ve0gHyYLsxSxWiDVPHBjPOEDsz5YPBxyC"], ["created_at", "2017-08-08 11:21:12.763092"], ["updated_at", "2017-08-08 11:21:12.763092"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:21:12 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:21:12.768241"], ["last_sign_in_at", "2017-08-08 11:21:12.768241"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:21:12.768623"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:21:12.772873"], ["updated_at", "2017-08-08 11:21:12.772873"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 14:21:12 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$OJe8YEoxW7hCrcua7onQduFZGZ0RBxfSl.idsbOW8g7TQDxZW8Neq"], ["created_at", "2017-08-08 11:21:12.788622"], ["updated_at", "2017-08-08 11:21:12.788622"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:21:12 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:21:12.797988"], ["last_sign_in_at", "2017-08-08 11:21:12.797988"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:21:12.798669"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:21:12.805561"], ["updated_at", "2017-08-08 11:21:12.805561"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts?id=980190963" for 127.0.0.1 at 2017-08-08 14:21:12 +0300
  [1m[35m (2.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:21:26.531072', '2017-08-08 11:21:26.531072', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:21:26.531072', '2017-08-08 11:21:26.531072', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:21:26.533652', '2017-08-08 11:21:26.533652', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:21:26.533652', '2017-08-08 11:21:26.533652', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:21:26.535257', '2017-08-08 11:21:26.535257', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:21:26.535257', '2017-08-08 11:21:26.535257', 298486374)[0m
  [1m[35m (66.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$m48BJXCqRjAghUqMRSGCHOVmn8xWi9IGGwUr4LA.kyfFDfmuU4fBS"], ["created_at", "2017-08-08 11:21:26.690245"], ["updated_at", "2017-08-08 11:21:26.690245"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:21:26 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:21:26.751000"], ["last_sign_in_at", "2017-08-08 11:21:26.751000"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:21:26.751484"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 33ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:21:26.780831"], ["updated_at", "2017-08-08 11:21:26.780831"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts?id=980190963" for 127.0.0.1 at 2017-08-08 14:21:26 +0300
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$sgJ1ZDSsneSZ87YZqyedyevBTLTGqxbhEqJ2uj8QLmpWa2qGHTwnu"], ["created_at", "2017-08-08 11:21:26.789834"], ["updated_at", "2017-08-08 11:21:26.789834"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:21:26 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:21:26.796397"], ["last_sign_in_at", "2017-08-08 11:21:26.796397"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:21:26.797066"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:21:26.804922"], ["updated_at", "2017-08-08 11:21:26.804922"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 14:21:26 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:21:26.814488"], ["updated_at", "2017-08-08 11:21:26.814488"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 8ms (Views: 1.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (1.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$PPQDq0Hgyp.1jHIaYBDkXOuWzFASrMooPU2yJxgpDU1GHXbqn0q.i"], ["created_at", "2017-08-08 11:21:26.830022"], ["updated_at", "2017-08-08 11:21:26.830022"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:21:26 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:21:26.837382"], ["last_sign_in_at", "2017-08-08 11:21:26.837382"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:21:26.837871"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:21:26.843882"], ["updated_at", "2017-08-08 11:21:26.843882"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 14:21:26 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:21:26 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.2ms)
Completed 200 OK in 362ms (Views: 361.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:21:27 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.3ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$VR/oAt6m1oLCcsad3N1.Y.6TzuTOnQSa5fGBQrG9Gk1NOXUNc1u.."], ["created_at", "2017-08-08 11:21:27.236161"], ["updated_at", "2017-08-08 11:21:27.236161"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:21:27 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:21:27.243693"], ["last_sign_in_at", "2017-08-08 11:21:27.243693"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:21:27.244668"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 14:21:27 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.9ms)
Completed 302 Found in 15ms (Views: 14.8ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 14:21:27 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$hX5a3xV7cUX1z2iy4D5PxeJmczLvb8GhmmEehJW4fpG24j6ZKAXEi"], ["created_at", "2017-08-08 11:21:27.284212"], ["updated_at", "2017-08-08 11:21:27.284212"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:21:27 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:21:27.292692"], ["last_sign_in_at", "2017-08-08 11:21:27.292692"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:21:27.293130"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:21:27 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.4ms)
Completed 200 OK in 11ms (Views: 7.0ms | ActiveRecord: 0.2ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$/jcz3K3nBJD2UFLn2Hc/MO1SDmQqTACvYorbgZdkyK5.ZUogVVfCq"], ["created_at", "2017-08-08 11:21:27.326386"], ["updated_at", "2017-08-08 11:21:27.326386"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:21:27 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:21:27.337663"], ["last_sign_in_at", "2017-08-08 11:21:27.337663"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:21:27.338449"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.6ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:21:27 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:21:27 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:21:27 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:21:50.930547', '2017-08-08 11:21:50.930547', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:21:50.930547', '2017-08-08 11:21:50.930547', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:21:50.934264', '2017-08-08 11:21:50.934264', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:21:50.934264', '2017-08-08 11:21:50.934264', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:21:50.935868', '2017-08-08 11:21:50.935868', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:21:50.935868', '2017-08-08 11:21:50.935868', 298486374)[0m
  [1m[35m (56.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$rrCUbC01TWtRiwRcLKI2y.YIwhKxQq9QDYHk1U/pZIbeHfqZiOxG2"], ["created_at", "2017-08-08 11:21:51.096053"], ["updated_at", "2017-08-08 11:21:51.096053"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:21:51 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:21:51.147761"], ["last_sign_in_at", "2017-08-08 11:21:51.147761"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:21:51.148254"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 25ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:21:51 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.7ms)
Completed 200 OK in 401ms (Views: 399.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:21:51 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$46AL95fLSEwIKbCtMTB8jOcuqIVCTISYhsW/EGJDTGCPNewkFgqjy"], ["created_at", "2017-08-08 11:21:51.582185"], ["updated_at", "2017-08-08 11:21:51.582185"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:21:51 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:21:51.589597"], ["last_sign_in_at", "2017-08-08 11:21:51.589597"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:21:51.590191"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:21:51 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.4ms)
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 0.3ms)
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:21:51 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.3ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$EuvAluC2ok1bTFOKtG1lMelb1KNnlv8dfVFv59HhrgvZmcJrMYcG6"], ["created_at", "2017-08-08 11:21:51.618079"], ["updated_at", "2017-08-08 11:21:51.618079"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:21:51 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:21:51.623610"], ["last_sign_in_at", "2017-08-08 11:21:51.623610"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:21:51.624057"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 14:21:51 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 14:21:51 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:21:51 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:21:51 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$/xipY96ixN6WMwT5QyoySeEKiM0BHG4XCi3RhWHrmvF73cUOM4K3W"], ["created_at", "2017-08-08 11:21:51.653706"], ["updated_at", "2017-08-08 11:21:51.653706"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:21:51 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:21:51.660803"], ["last_sign_in_at", "2017-08-08 11:21:51.660803"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:21:51.661316"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:21:51.685544"], ["updated_at", "2017-08-08 11:21:51.685544"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 14:21:51 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:21:51.693542"], ["updated_at", "2017-08-08 11:21:51.693542"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 7ms (Views: 1.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$3LOihai3/1Rv/FL/QRpWPOxWvwY43EYcUWcSClVyCChHnYU.3mCQC"], ["created_at", "2017-08-08 11:21:51.707816"], ["updated_at", "2017-08-08 11:21:51.707816"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:21:51 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:21:51.713154"], ["last_sign_in_at", "2017-08-08 11:21:51.713154"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:21:51.713573"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:21:51.718186"], ["updated_at", "2017-08-08 11:21:51.718186"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts?id=980190963" for 127.0.0.1 at 2017-08-08 14:21:51 +0300
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$QdB2mOzZvdUbRk0/lfIKDORHYZkDAiCqlpPIp6ziqFQxcxTssRxaO"], ["created_at", "2017-08-08 11:21:51.727072"], ["updated_at", "2017-08-08 11:21:51.727072"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:21:51 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:21:51.732363"], ["last_sign_in_at", "2017-08-08 11:21:51.732363"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:21:51.732845"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:21:51.736866"], ["updated_at", "2017-08-08 11:21:51.736866"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 14:21:51 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:23:15.787055', '2017-08-08 11:23:15.787055', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:23:15.787055', '2017-08-08 11:23:15.787055', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:23:15.790135', '2017-08-08 11:23:15.790135', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:23:15.790135', '2017-08-08 11:23:15.790135', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:23:15.791797', '2017-08-08 11:23:15.791797', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:23:15.791797', '2017-08-08 11:23:15.791797', 298486374)[0m
  [1m[35m (63.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:23:15 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.8ms)
Completed 200 OK in 402ms (Views: 395.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$N5hHjWnwMnjXOVmb939VJ.NgyPLqDlzMDZPumzTbJN1mkkBJ3BNLW"], ["created_at", "2017-08-08 11:23:16.397482"], ["updated_at", "2017-08-08 11:23:16.397482"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:23:16 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:23:16.420507"], ["last_sign_in_at", "2017-08-08 11:23:16.420507"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:23:16.421391"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 23ms (ActiveRecord: 0.8ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:23:16 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.2ms)
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:23:16 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:23:16 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$btdSY1g.aporasmEaiLiq.EET7mR3PY.6LoJi8xENCNhuIN1frxgi"], ["created_at", "2017-08-08 11:23:16.459749"], ["updated_at", "2017-08-08 11:23:16.459749"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:23:16 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:23:16.465155"], ["last_sign_in_at", "2017-08-08 11:23:16.465155"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:23:16.465589"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 14:23:16 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 2ms (Views: 2.0ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 14:23:16 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 21ms (ActiveRecord: 0.3ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$wiJcOnyv6OWrFaMgBsNXR.LCHLy2NG8i6DzcktMy1IpcqRZt9Pz46"], ["created_at", "2017-08-08 11:23:16.501729"], ["updated_at", "2017-08-08 11:23:16.501729"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:23:16 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:23:16.507090"], ["last_sign_in_at", "2017-08-08 11:23:16.507090"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:23:16.507467"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:23:16 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:23:16 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$XeQ.da9UKqai7tgxpplb1OJ/GKAT7rGLmJzabG8Q9sbFyxH2FZFKm"], ["created_at", "2017-08-08 11:23:16.525236"], ["updated_at", "2017-08-08 11:23:16.525236"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:23:16 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:23:16.530095"], ["last_sign_in_at", "2017-08-08 11:23:16.530095"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:23:16.530487"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:23:16.547258"], ["updated_at", "2017-08-08 11:23:16.547258"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts.980190963" for 127.0.0.1 at 2017-08-08 14:23:16 +0300
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$ilj68Sj1lpEder7t1taafepSvVdC8GJq6guF9quecU96ktNl9qEBy"], ["created_at", "2017-08-08 11:23:16.556379"], ["updated_at", "2017-08-08 11:23:16.556379"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:23:16 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:23:16.562508"], ["last_sign_in_at", "2017-08-08 11:23:16.562508"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:23:16.562887"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:23:16.566730"], ["updated_at", "2017-08-08 11:23:16.566730"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 14:23:16 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.3ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$vHqj02Erq4UshfrSHNqm8eO.znbGWsFMVHb4PslCULGHUAcfYW/JG"], ["created_at", "2017-08-08 11:23:16.581578"], ["updated_at", "2017-08-08 11:23:16.581578"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:23:16 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:23:16.586901"], ["last_sign_in_at", "2017-08-08 11:23:16.586901"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:23:16.587278"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:23:16.591733"], ["updated_at", "2017-08-08 11:23:16.591733"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 14:23:16 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:23:16.596432"], ["updated_at", "2017-08-08 11:23:16.596432"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 5ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:23:52.321402', '2017-08-08 11:23:52.321402', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:23:52.321402', '2017-08-08 11:23:52.321402', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:23:52.323973', '2017-08-08 11:23:52.323973', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:23:52.323973', '2017-08-08 11:23:52.323973', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:23:52.325541', '2017-08-08 11:23:52.325541', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:23:52.325541', '2017-08-08 11:23:52.325541', 298486374)[0m
  [1m[35m (204.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$EiKwvnz0PRJL1NNhTcXj2u/WJxiVRDmDNxkOf2San17vJkayNHaOO"], ["created_at", "2017-08-08 11:23:52.627593"], ["updated_at", "2017-08-08 11:23:52.627593"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:23:52 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:23:52.680256"], ["last_sign_in_at", "2017-08-08 11:23:52.680256"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:23:52.680757"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 29ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:23:52.722567"], ["updated_at", "2017-08-08 11:23:52.722567"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 14:23:52 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:23:52.732448"], ["updated_at", "2017-08-08 11:23:52.732448"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 7ms (Views: 1.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$6BAq6egnwCSqOPW59hi9reDv4BmDZLmdQPE74bmN8NR78Brx0dK5a"], ["created_at", "2017-08-08 11:23:52.745109"], ["updated_at", "2017-08-08 11:23:52.745109"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:23:52 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:23:52.750469"], ["last_sign_in_at", "2017-08-08 11:23:52.750469"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:23:52.750857"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:23:52.756048"], ["updated_at", "2017-08-08 11:23:52.756048"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 14:23:52 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$noTbJBOLlNhks18XIIYtgOBVg2P6LSE58OKRaQ/su9VAQfQKjygIy"], ["created_at", "2017-08-08 11:23:52.769710"], ["updated_at", "2017-08-08 11:23:52.769710"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:23:52 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:23:52.775513"], ["last_sign_in_at", "2017-08-08 11:23:52.775513"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:23:52.775928"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:23:52.780072"], ["updated_at", "2017-08-08 11:23:52.780072"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts.123" for 127.0.0.1 at 2017-08-08 14:23:52 +0300
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:23:52 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:23:52 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 200 OK in 411ms (Views: 410.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$uLjx08BYTBTPI99iapl18eVvaVb3CX4iTb222tSBXo8zeppE0XQ3a"], ["created_at", "2017-08-08 11:23:53.211570"], ["updated_at", "2017-08-08 11:23:53.211570"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:23:53 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:23:53.222433"], ["last_sign_in_at", "2017-08-08 11:23:53.222433"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:23:53.223089"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 14:23:53 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.3ms)
Completed 302 Found in 4ms (Views: 3.1ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 14:23:53 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$.eugmA.V.ViZX.tWbeXcYuUPnGfo1J1Ch4xwn92xfY5/TsQG0IRHm"], ["created_at", "2017-08-08 11:23:53.249116"], ["updated_at", "2017-08-08 11:23:53.249116"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:23:53 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:23:53.254865"], ["last_sign_in_at", "2017-08-08 11:23:53.254865"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:23:53.255255"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:23:53 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.2ms)
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$1DgItAycSUQl1b7isM8Vn.etDr4kLWO51nn99GlESAZw/ZTqbFW82"], ["created_at", "2017-08-08 11:23:53.270504"], ["updated_at", "2017-08-08 11:23:53.270504"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:23:53 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:23:53.277218"], ["last_sign_in_at", "2017-08-08 11:23:53.277218"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:23:53.277782"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:23:53 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.4ms)
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:23:53 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:23:53 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:26:48.091799', '2017-08-08 11:26:48.091799', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:26:48.091799', '2017-08-08 11:26:48.091799', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:26:48.095677', '2017-08-08 11:26:48.095677', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:26:48.095677', '2017-08-08 11:26:48.095677', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:26:48.097954', '2017-08-08 11:26:48.097954', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:26:48.097954', '2017-08-08 11:26:48.097954', 298486374)[0m
  [1m[35m (181.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:26:48 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.8ms)
Completed 200 OK in 372ms (Views: 366.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:26:48 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:26:48 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$C9gMmvF4CRTHP2UEaQVJN.VVcC1wV1R7l9F0YvwqZKC6bRiiIxJS."], ["created_at", "2017-08-08 11:26:48.818344"], ["updated_at", "2017-08-08 11:26:48.818344"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:26:48 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:26:48.830572"], ["last_sign_in_at", "2017-08-08 11:26:48.830572"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:26:48.831013"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 14:26:48 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 302 Found in 3ms (Views: 2.3ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 14:26:48 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:26:48 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$QyFZsI/0/hNP85WlcwaVGOCiJqb7.CLLLTjXwxAe7UX2GaYAxGX7O"], ["created_at", "2017-08-08 11:26:48.858912"], ["updated_at", "2017-08-08 11:26:48.858912"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:26:48 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:26:48.863808"], ["last_sign_in_at", "2017-08-08 11:26:48.863808"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:26:48.864270"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:26:48 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$.Kv3yrG8iWTPemHlZPuCvO5bCKVyukMRp1T1VAq2MF0/uLhwQkzG2"], ["created_at", "2017-08-08 11:26:48.877908"], ["updated_at", "2017-08-08 11:26:48.877908"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:26:48 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:26:48.883374"], ["last_sign_in_at", "2017-08-08 11:26:48.883374"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:26:48.883781"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:26:48 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$BsVTsX.OHwJW2A5pzAlILOpPzN6kqYJlqI.Gi2QvsO0BNfOf4hnOu"], ["created_at", "2017-08-08 11:26:48.897375"], ["updated_at", "2017-08-08 11:26:48.897375"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:26:48 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:26:48.902365"], ["last_sign_in_at", "2017-08-08 11:26:48.902365"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:26:48.902747"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:26:48.919735"], ["updated_at", "2017-08-08 11:26:48.919735"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 14:26:48 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:26:48.927368"], ["updated_at", "2017-08-08 11:26:48.927368"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 6ms (Views: 1.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$e2W5unH1nbe3fdkErImM2ugrbc7nDfLYj2rK2KzszQ6DQB4Bzdhz6"], ["created_at", "2017-08-08 11:26:48.940268"], ["updated_at", "2017-08-08 11:26:48.940268"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:26:48 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:26:48.946066"], ["last_sign_in_at", "2017-08-08 11:26:48.946066"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:26:48.946552"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:26:48.951333"], ["updated_at", "2017-08-08 11:26:48.951333"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts?id=123" for 127.0.0.1 at 2017-08-08 14:26:48 +0300
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$ERmZQRPNMB5rnovMzFzupu4YWb0Mp82LvGvelzP64X6J3WgipbtUO"], ["created_at", "2017-08-08 11:26:48.960528"], ["updated_at", "2017-08-08 11:26:48.960528"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:26:48 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:26:48.966069"], ["last_sign_in_at", "2017-08-08 11:26:48.966069"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:26:48.966548"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:26:48.970992"], ["updated_at", "2017-08-08 11:26:48.970992"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 14:26:48 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 5ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:27:03.035762', '2017-08-08 11:27:03.035762', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:27:03.035762', '2017-08-08 11:27:03.035762', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:27:03.038409', '2017-08-08 11:27:03.038409', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:27:03.038409', '2017-08-08 11:27:03.038409', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:27:03.040328', '2017-08-08 11:27:03.040328', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:27:03.040328', '2017-08-08 11:27:03.040328', 298486374)[0m
  [1m[35m (102.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$IItsW6kgRWCfYqkce9WiQOFQ8WbnA67hswCGvC5kf61OSS48LKB3G"], ["created_at", "2017-08-08 11:27:03.236323"], ["updated_at", "2017-08-08 11:27:03.236323"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:27:03 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:27:03.289404"], ["last_sign_in_at", "2017-08-08 11:27:03.289404"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:27:03.289879"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 33ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:27:03.326163"], ["updated_at", "2017-08-08 11:27:03.326163"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 14:27:03 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$VwPBCJ.vPsaTkXX2QZuBauDj.0fT5uav6B7HTHkf.eR1tqEMmxCJG"], ["created_at", "2017-08-08 11:27:03.342238"], ["updated_at", "2017-08-08 11:27:03.342238"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:27:03 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:27:03.347401"], ["last_sign_in_at", "2017-08-08 11:27:03.347401"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:27:03.347782"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:27:03.352208"], ["updated_at", "2017-08-08 11:27:03.352208"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts?id=123" for 127.0.0.1 at 2017-08-08 14:27:03 +0300
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$e/ixSExDM001FDeMhTW/SeEFg2i7kzHlA1Sq72uL3fL41.SDhx1ty"], ["created_at", "2017-08-08 11:27:03.362886"], ["updated_at", "2017-08-08 11:27:03.362886"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:27:03 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:27:03.368845"], ["last_sign_in_at", "2017-08-08 11:27:03.368845"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:27:03.369829"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:27:03.375017"], ["updated_at", "2017-08-08 11:27:03.375017"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 14:27:03 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:27:03.380375"], ["updated_at", "2017-08-08 11:27:03.380375"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 7ms (Views: 1.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:27:03 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.2ms)
Completed 200 OK in 367ms (Views: 366.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$inXFvhAP2gvJRd39k8k/NuL/8GZXVeugEy8ZPt6mR5ODiyfI80IYq"], ["created_at", "2017-08-08 11:27:03.767653"], ["updated_at", "2017-08-08 11:27:03.767653"]]
  [1m[35m (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:27:03 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:27:03.777469"], ["last_sign_in_at", "2017-08-08 11:27:03.777469"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:27:03.778820"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:27:03 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (1.3ms)
Completed 200 OK in 8ms (Views: 4.2ms | ActiveRecord: 0.2ms)
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:27:03 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:27:03 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 200 OK in 14ms (Views: 13.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$hExqocdeqv.SDsUQax8HvuQYcALEMl34ijI8Kx.CKBfNvG30hQxjm"], ["created_at", "2017-08-08 11:27:03.827729"], ["updated_at", "2017-08-08 11:27:03.827729"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:27:03 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:27:03.835133"], ["last_sign_in_at", "2017-08-08 11:27:03.835133"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:27:03.835596"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 14:27:03 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.5ms)
Completed 302 Found in 6ms (Views: 4.8ms | ActiveRecord: 0.6ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 14:27:03 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$vzXNIKfJ2e0L6VJ1Bu/PUeVx/J4rwEnp7fIDMQYIbp0kBD51kocye"], ["created_at", "2017-08-08 11:27:03.871260"], ["updated_at", "2017-08-08 11:27:03.871260"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:27:03 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:27:03.879793"], ["last_sign_in_at", "2017-08-08 11:27:03.879793"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:27:03.881262"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:27:03 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.4ms)
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:27:03 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:34:48.864898', '2017-08-08 11:34:48.864898', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:34:48.864898', '2017-08-08 11:34:48.864898', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:34:48.867504', '2017-08-08 11:34:48.867504', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:34:48.867504', '2017-08-08 11:34:48.867504', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:34:48.869125', '2017-08-08 11:34:48.869125', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:34:48.869125', '2017-08-08 11:34:48.869125', 298486374)[0m
  [1m[35m (55.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:34:49 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 10ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$/yit6pIjcnPJ1zFXfIh9N.ffNoDSHiMUZEqBByFT/HKlbS1OiUo8e"], ["created_at", "2017-08-08 11:34:49.082992"], ["updated_at", "2017-08-08 11:34:49.082992"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:34:49 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:34:49.095812"], ["last_sign_in_at", "2017-08-08 11:34:49.095812"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:34:49.096318"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 13ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:34:49 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.8ms)
Completed 200 OK in 405ms (Views: 403.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:34:49 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:34:49 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$PNVdaX9ehMwp/gHQEBz7vuA5mEhoh8So.yqNa8qlhmBO7Yem1qrVm"], ["created_at", "2017-08-08 11:34:49.528429"], ["updated_at", "2017-08-08 11:34:49.528429"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:34:49 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:34:49.534567"], ["last_sign_in_at", "2017-08-08 11:34:49.534567"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:34:49.534944"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:34:49 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:34:49 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$jKr4gqJrX1hpPvIbvRPp.exCRN5siAwNBnhakXbkh2Txz8yTx2yC2"], ["created_at", "2017-08-08 11:34:49.552979"], ["updated_at", "2017-08-08 11:34:49.552979"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:34:49 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:34:49.559239"], ["last_sign_in_at", "2017-08-08 11:34:49.559239"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:34:49.559740"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 14:34:49 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.3ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 14:34:49 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$Pr4ABxP.xWJ62YTmorYfNuLhVPe9lO/NUL4aCHz5wFIiIZphEoNPm"], ["created_at", "2017-08-08 11:34:49.578626"], ["updated_at", "2017-08-08 11:34:49.578626"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:34:49 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:34:49.583523"], ["last_sign_in_at", "2017-08-08 11:34:49.583523"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:34:49.583899"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:34:49.601243"], ["updated_at", "2017-08-08 11:34:49.601243"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 14:34:49 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:34:49.608192"], ["updated_at", "2017-08-08 11:34:49.608192"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 6ms (Views: 0.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$ejbYY311sFuaoJTm/BR6.u1e.k0Irj/VhsQK8LzkbjGgpgL04fIHG"], ["created_at", "2017-08-08 11:34:49.619527"], ["updated_at", "2017-08-08 11:34:49.619527"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:34:49 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:34:49.625282"], ["last_sign_in_at", "2017-08-08 11:34:49.625282"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:34:49.625720"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:34:49.630228"], ["updated_at", "2017-08-08 11:34:49.630228"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 14:34:49 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$fShlCqalBCSqQOxxJJu3leTLG2KosIN29Cgmy04JlLqwxb3eg6.8e"], ["created_at", "2017-08-08 11:34:49.643269"], ["updated_at", "2017-08-08 11:34:49.643269"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:34:49 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:34:49.648723"], ["last_sign_in_at", "2017-08-08 11:34:49.648723"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:34:49.649159"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:34:49.653518"], ["updated_at", "2017-08-08 11:34:49.653518"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:35:06.865520', '2017-08-08 11:35:06.865520', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:35:06.865520', '2017-08-08 11:35:06.865520', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:35:06.868249', '2017-08-08 11:35:06.868249', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:35:06.868249', '2017-08-08 11:35:06.868249', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:35:06.869815', '2017-08-08 11:35:06.869815', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:35:06.869815', '2017-08-08 11:35:06.869815', 298486374)[0m
  [1m[35m (56.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:35:07 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 10ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$QzAQpC5qKjSUiA6PbbtoDecDzMmRSWxQ4du4rOPOlfUG4TQBAP8g6"], ["created_at", "2017-08-08 11:35:07.077630"], ["updated_at", "2017-08-08 11:35:07.077630"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:35:07 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:35:07.090898"], ["last_sign_in_at", "2017-08-08 11:35:07.090898"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:35:07.091404"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 14ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:35:07 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.7ms)
Completed 200 OK in 393ms (Views: 391.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:35:07 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$qsgBl7/.NojtNtPftfMwreYBucD/18pHrgJQkUTpGcdYPCGogJYHu"], ["created_at", "2017-08-08 11:35:07.510698"], ["updated_at", "2017-08-08 11:35:07.510698"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:35:07 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:35:07.517860"], ["last_sign_in_at", "2017-08-08 11:35:07.517860"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:35:07.518433"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:35:07 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.4ms)
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:35:07 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.6ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$xrwGhmIX.CSrknZjCkBAY.7Ij4nj.P3bxk82BX7uknnYYQj4KVIWi"], ["created_at", "2017-08-08 11:35:07.538738"], ["updated_at", "2017-08-08 11:35:07.538738"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:35:07 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:35:07.545396"], ["last_sign_in_at", "2017-08-08 11:35:07.545396"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:35:07.545856"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 14:35:07 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.2ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 14:35:07 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:35:07 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$pAL2Gu6jJAgMMV0fN0rae.fCuVYHA90Zm2ms2bdgcjLOTr8DNH7AG"], ["created_at", "2017-08-08 11:35:07.568490"], ["updated_at", "2017-08-08 11:35:07.568490"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:35:07 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:35:07.573773"], ["last_sign_in_at", "2017-08-08 11:35:07.573773"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:35:07.574173"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:35:07.610233"], ["updated_at", "2017-08-08 11:35:07.610233"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts/980190963" for 127.0.0.1 at 2017-08-08 14:35:07 +0300
Processing by AccountsController#update as JSON
  Parameters: {"id"=>"980190963"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Completed 400 Bad Request in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$QualBImz3AxR2raHXYV3y.pAze6LGLSBYMAor38TRGNkZRaXAGQeO"], ["created_at", "2017-08-08 11:35:07.623711"], ["updated_at", "2017-08-08 11:35:07.623711"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:35:07 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:35:07.629672"], ["last_sign_in_at", "2017-08-08 11:35:07.629672"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:35:07.630117"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:35:07.634521"], ["updated_at", "2017-08-08 11:35:07.634521"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 14:35:07 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 1.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$6QOl2pt7MTbmUruSXns1A.WccraYJbWR7LTOarUAqvP5si4XzINvC"], ["created_at", "2017-08-08 11:35:07.648610"], ["updated_at", "2017-08-08 11:35:07.648610"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:35:07 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:35:07.653850"], ["last_sign_in_at", "2017-08-08 11:35:07.653850"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:35:07.654231"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:35:07.658680"], ["updated_at", "2017-08-08 11:35:07.658680"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 14:35:07 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:35:07.663172"], ["updated_at", "2017-08-08 11:35:07.663172"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 5ms (Views: 0.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:35:42.905551', '2017-08-08 11:35:42.905551', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:35:42.905551', '2017-08-08 11:35:42.905551', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:35:42.908341', '2017-08-08 11:35:42.908341', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:35:42.908341', '2017-08-08 11:35:42.908341', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:35:42.909983', '2017-08-08 11:35:42.909983', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:35:42.909983', '2017-08-08 11:35:42.909983', 298486374)[0m
  [1m[35m (81.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$YDOQrrZx.4HLxdnjb5Wz6.BNgIM2p50Nbk47S1VBIaUbqzttc/Cpu"], ["created_at", "2017-08-08 11:35:43.080827"], ["updated_at", "2017-08-08 11:35:43.080827"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:35:43 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:35:43.142753"], ["last_sign_in_at", "2017-08-08 11:35:43.142753"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:35:43.143258"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:35:43.172878"], ["updated_at", "2017-08-08 11:35:43.172878"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 14:35:43 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 5ms (Views: 0.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$lvcyPr7Fv8xgl9wvtkPnFO.jqdwx.eVaiUGvv86eH7rQ9Oya053i6"], ["created_at", "2017-08-08 11:35:43.188383"], ["updated_at", "2017-08-08 11:35:43.188383"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:35:43 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:35:43.193931"], ["last_sign_in_at", "2017-08-08 11:35:43.193931"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:35:43.194449"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:35:43.198928"], ["updated_at", "2017-08-08 11:35:43.198928"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts/980190963" for 127.0.0.1 at 2017-08-08 14:35:43 +0300
Processing by AccountsController#update as JSON
  Parameters: {"account"=>{"balance"=>"50000"}, "id"=>"980190963"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 50000.0], ["updated_at", "2017-08-08 11:35:43.204676"], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 6ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$ygxLzoPOUdoq.ZKjLbxOeeNEhQYoOZVTT0Qo31qy/j3zQ6jzt4fZu"], ["created_at", "2017-08-08 11:35:43.214473"], ["updated_at", "2017-08-08 11:35:43.214473"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:35:43 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:35:43.220408"], ["last_sign_in_at", "2017-08-08 11:35:43.220408"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:35:43.220832"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:35:43.226835"], ["updated_at", "2017-08-08 11:35:43.226835"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 14:35:43 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:35:43.233651"], ["updated_at", "2017-08-08 11:35:43.233651"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 9ms (Views: 1.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:35:43 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$rzaOcorLamCwOgefKB3aNu7crZwqa7OUM0MVuXjrn2JDUoeuN1CRG"], ["created_at", "2017-08-08 11:35:43.253531"], ["updated_at", "2017-08-08 11:35:43.253531"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:35:43 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:35:43.258928"], ["last_sign_in_at", "2017-08-08 11:35:43.258928"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:35:43.259323"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:35:43 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.7ms)
Completed 200 OK in 389ms (Views: 387.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:35:43 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.5ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:35:43 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:35:43 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$uM0u87ach3N5khtkS.7ISupWRfwWJsHzeNzigynDG8VYuaZQnfeWi"], ["created_at", "2017-08-08 11:35:43.684738"], ["updated_at", "2017-08-08 11:35:43.684738"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:35:43 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:35:43.690845"], ["last_sign_in_at", "2017-08-08 11:35:43.690845"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:35:43.691346"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 14:35:43 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.6ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 14:35:43 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 0.4ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$rzYZKfTSE9kNGFexzsnqFOnWMJkYln2/l6tKorVlZ7dyjRvyCz.f2"], ["created_at", "2017-08-08 11:35:43.718132"], ["updated_at", "2017-08-08 11:35:43.718132"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:35:43 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:35:43.723986"], ["last_sign_in_at", "2017-08-08 11:35:43.723986"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:35:43.724456"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:35:43 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.0ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:35:59.308263', '2017-08-08 11:35:59.308263', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:35:59.308263', '2017-08-08 11:35:59.308263', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:35:59.310679', '2017-08-08 11:35:59.310679', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:35:59.310679', '2017-08-08 11:35:59.310679', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:35:59.312381', '2017-08-08 11:35:59.312381', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:35:59.312381', '2017-08-08 11:35:59.312381', 298486374)[0m
  [1m[35m (75.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$Dy8QY.iv8wgNSQBvgizBCusqC74d5akueDsekyJNty26Ck7miZJ9C"], ["created_at", "2017-08-08 11:35:59.483406"], ["updated_at", "2017-08-08 11:35:59.483406"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:35:59 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:35:59.540460"], ["last_sign_in_at", "2017-08-08 11:35:59.540460"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:35:59.540986"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 25ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:35:59 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.7ms)
Completed 200 OK in 401ms (Views: 399.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:35:59 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:35:59 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:35:59 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$sEWD.Yb2GV9318Tj0evQK.055WXT2hE.BcQn.2nnQBjfFM8x8DlCG"], ["created_at", "2017-08-08 11:35:59.983593"], ["updated_at", "2017-08-08 11:35:59.983593"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:35:59 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:35:59.989639"], ["last_sign_in_at", "2017-08-08 11:35:59.989639"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:35:59.990134"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:35:59 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 5ms (Views: 2.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:36:00 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$I7dOG13roAo9vhmLRkM/vejW7K4Tl3x3toyoRA9ZZ080JmsWdRbtW"], ["created_at", "2017-08-08 11:36:00.011850"], ["updated_at", "2017-08-08 11:36:00.011850"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:36:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:36:00.017844"], ["last_sign_in_at", "2017-08-08 11:36:00.017844"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:36:00.018356"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 14:36:00 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 302 Found in 3ms (Views: 2.8ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 14:36:00 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$rzQ0V0ZxI6kvKS6azQ11huyr2bgWvlAyMVfFZ7z7zbazYz7QTfmjW"], ["created_at", "2017-08-08 11:36:00.040246"], ["updated_at", "2017-08-08 11:36:00.040246"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:36:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:36:00.046230"], ["last_sign_in_at", "2017-08-08 11:36:00.046230"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:36:00.046608"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:36:00.072315"], ["updated_at", "2017-08-08 11:36:00.072315"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 14:36:00 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.3ms)
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$58C5fxeYOx3P0S/hOH4j5ek0Fp6IXuxxhxFZnx57CnhTGiboknP7W"], ["created_at", "2017-08-08 11:36:00.088629"], ["updated_at", "2017-08-08 11:36:00.088629"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:36:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:36:00.094229"], ["last_sign_in_at", "2017-08-08 11:36:00.094229"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:36:00.094630"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:36:00.098567"], ["updated_at", "2017-08-08 11:36:00.098567"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts/980190963" for 127.0.0.1 at 2017-08-08 14:36:00 +0300
Processing by AccountsController#update as JSON
  Parameters: {"account"=>{"balance"=>"50000"}, "id"=>"980190963"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 50000.0], ["updated_at", "2017-08-08 11:36:00.104481"], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$nvdSIoP454psAqL4DbDtBuyBhMTmqZc4pg0XY0nE55iH.Lni008aG"], ["created_at", "2017-08-08 11:36:00.114102"], ["updated_at", "2017-08-08 11:36:00.114102"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:36:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:36:00.119666"], ["last_sign_in_at", "2017-08-08 11:36:00.119666"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:36:00.120127"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:36:00.124082"], ["updated_at", "2017-08-08 11:36:00.124082"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 14:36:00 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:36:00.128692"], ["updated_at", "2017-08-08 11:36:00.128692"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 5ms (Views: 0.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:36:09.690572', '2017-08-08 11:36:09.690572', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:36:09.690572', '2017-08-08 11:36:09.690572', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:36:09.693073', '2017-08-08 11:36:09.693073', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:36:09.693073', '2017-08-08 11:36:09.693073', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:36:09.694659', '2017-08-08 11:36:09.694659', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:36:09.694659', '2017-08-08 11:36:09.694659', 298486374)[0m
  [1m[35m (171.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$MVd61E/08iQlMPMxzuTlWeOxCViOJF/yWkaOwZB0EPPVqJmvxSwP6"], ["created_at", "2017-08-08 11:36:09.960842"], ["updated_at", "2017-08-08 11:36:09.960842"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:36:09 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:36:10.019803"], ["last_sign_in_at", "2017-08-08 11:36:10.019803"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:36:10.020324"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 27ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:36:10 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.8ms)
Completed 200 OK in 388ms (Views: 386.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:36:10 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:36:10 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$9yc0GDW3CkWIZ19v.37vn.bXwPKKg/htVliIrgZjgmBel/epGtzyq"], ["created_at", "2017-08-08 11:36:10.442256"], ["updated_at", "2017-08-08 11:36:10.442256"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:36:10 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:36:10.447874"], ["last_sign_in_at", "2017-08-08 11:36:10.447874"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:36:10.448308"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:36:10 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.1ms)
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:36:10 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:36:10 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$W2jfv/ySAxZOLvbMoOa3ceWfgi29V5D9N1pmTbBYrBglmp6ef4EfW"], ["created_at", "2017-08-08 11:36:10.471715"], ["updated_at", "2017-08-08 11:36:10.471715"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:36:10 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:36:10.477883"], ["last_sign_in_at", "2017-08-08 11:36:10.477883"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:36:10.478330"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 14:36:10 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 4ms (Views: 3.8ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 14:36:10 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$2oZ15LiIoFg8KE5ozf1kaegHvlSbQHfzj5NkgRUwTqpn0T6bncptu"], ["created_at", "2017-08-08 11:36:10.502719"], ["updated_at", "2017-08-08 11:36:10.502719"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:36:10 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:36:10.510254"], ["last_sign_in_at", "2017-08-08 11:36:10.510254"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:36:10.510883"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:36:10.547000"], ["updated_at", "2017-08-08 11:36:10.547000"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts/980190963" for 127.0.0.1 at 2017-08-08 14:36:10 +0300
Processing by AccountsController#update as JSON
  Parameters: {"account"=>{"balance"=>"50000"}, "id"=>"980190963"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 50000.0], ["updated_at", "2017-08-08 11:36:10.555141"], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 7ms (ActiveRecord: 0.5ms)
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$w7/DSn.8PKP9NNthwZqbBenN5m6LWKtYOuddTD40hZlF3CaE1wSGm"], ["created_at", "2017-08-08 11:36:10.565712"], ["updated_at", "2017-08-08 11:36:10.565712"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:36:10 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:36:10.572721"], ["last_sign_in_at", "2017-08-08 11:36:10.572721"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:36:10.573603"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:36:10.579010"], ["updated_at", "2017-08-08 11:36:10.579010"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 14:36:10 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:36:10.584292"], ["updated_at", "2017-08-08 11:36:10.584292"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 6ms (Views: 1.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$dGb07wGs3QREG7uvj7vt2.3.UxpeAJq.FN0C55jLy7KRcnejraKBG"], ["created_at", "2017-08-08 11:36:10.595827"], ["updated_at", "2017-08-08 11:36:10.595827"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:36:10 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:36:10.601406"], ["last_sign_in_at", "2017-08-08 11:36:10.601406"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:36:10.601820"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:36:10.606581"], ["updated_at", "2017-08-08 11:36:10.606581"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 14:36:10 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:37:39.256030', '2017-08-08 11:37:39.256030', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:37:39.256030', '2017-08-08 11:37:39.256030', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:37:39.258698', '2017-08-08 11:37:39.258698', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:37:39.258698', '2017-08-08 11:37:39.258698', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:37:39.260321', '2017-08-08 11:37:39.260321', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:37:39.260321', '2017-08-08 11:37:39.260321', 298486374)[0m
  [1m[35m (97.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$egQkAvWUfgIu2kRIbKR15uDnExAtERnZJXbDP8Th732te15PYgLHS"], ["created_at", "2017-08-08 11:37:39.452932"], ["updated_at", "2017-08-08 11:37:39.452932"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:37:39 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:37:39.506541"], ["last_sign_in_at", "2017-08-08 11:37:39.506541"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:37:39.507078"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 25ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:37:39.536463"], ["updated_at", "2017-08-08 11:37:39.536463"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts.980190963" for 127.0.0.1 at 2017-08-08 14:37:39 +0300
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$J6xbUsggchVPOKd/8q0q3.hbn/.3h.p4AF6LMpVa9BiMQ7SelJteS"], ["created_at", "2017-08-08 11:37:39.545862"], ["updated_at", "2017-08-08 11:37:39.545862"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:37:39 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:37:39.552498"], ["last_sign_in_at", "2017-08-08 11:37:39.552498"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:37:39.553189"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:37:39.557838"], ["updated_at", "2017-08-08 11:37:39.557838"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 14:37:39 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:37:39.564402"], ["updated_at", "2017-08-08 11:37:39.564402"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 7ms (Views: 1.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$2OK20SCTvcxENb6of4QIbeilBzkOCcnNZMEjI5Uq.hEGwxhgnR.zG"], ["created_at", "2017-08-08 11:37:39.577586"], ["updated_at", "2017-08-08 11:37:39.577586"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:37:39 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:37:39.583593"], ["last_sign_in_at", "2017-08-08 11:37:39.583593"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:37:39.584042"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:37:39.588963"], ["updated_at", "2017-08-08 11:37:39.588963"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 14:37:39 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 6ms (Views: 1.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:37:39 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.2ms)
Completed 200 OK in 402ms (Views: 400.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:37:40 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:37:40 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$vLSGslSitZDXH5erofCLruo8zdh.e3DJdtj0NyoC0KjyfCgsF2jBq"], ["created_at", "2017-08-08 11:37:40.027499"], ["updated_at", "2017-08-08 11:37:40.027499"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:37:40 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:37:40.033099"], ["last_sign_in_at", "2017-08-08 11:37:40.033099"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:37:40.033487"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:37:40 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.4ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$zGhUi5pFActokKBejbLOxuhgkGyiTnLa4AvNwgpK.8WR7DOpH4Qwa"], ["created_at", "2017-08-08 11:37:40.048449"], ["updated_at", "2017-08-08 11:37:40.048449"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:37:40 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:37:40.053894"], ["last_sign_in_at", "2017-08-08 11:37:40.053894"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:37:40.054417"], ["id", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:37:40 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.2ms)
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:37:40 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$gGHzo/6vUNfbhFuoNAJ8hOKF0fMgTBp4fsjSB7oouV6girxXsO1O."], ["created_at", "2017-08-08 11:37:40.072785"], ["updated_at", "2017-08-08 11:37:40.072785"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:37:40 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:37:40.078245"], ["last_sign_in_at", "2017-08-08 11:37:40.078245"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:37:40.078648"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 14:37:40 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 302 Found in 3ms (Views: 2.5ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 14:37:40 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:37:59.165420', '2017-08-08 11:37:59.165420', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:37:59.165420', '2017-08-08 11:37:59.165420', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:37:59.168155', '2017-08-08 11:37:59.168155', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:37:59.168155', '2017-08-08 11:37:59.168155', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:37:59.169741', '2017-08-08 11:37:59.169741', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:37:59.169741', '2017-08-08 11:37:59.169741', 298486374)[0m
  [1m[35m (222.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:37:59 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.8ms)
Completed 200 OK in 414ms (Views: 407.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$o597gTckCi4wY19c22RDYuqHOW046/KpLpUMaCkLy5EsB/gQALyJ."], ["created_at", "2017-08-08 11:37:59.938698"], ["updated_at", "2017-08-08 11:37:59.938698"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:37:59 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:37:59.956523"], ["last_sign_in_at", "2017-08-08 11:37:59.956523"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:37:59.957282"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 19ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 14:37:59 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 302 Found in 3ms (Views: 2.7ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 14:37:59 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$ZY5orBIVn4klElrxp6ZQ5.GhgW5Z/9Y/CLfsf6HhgrPAsFJrkcGuu"], ["created_at", "2017-08-08 11:37:59.990965"], ["updated_at", "2017-08-08 11:37:59.990965"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:37:59 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:37:59.996375"], ["last_sign_in_at", "2017-08-08 11:37:59.996375"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:37:59.996761"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:38:00 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.2ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$ixoZJjP1pnmgOu4wkbwaXOdBtvrsWXp4KL6e1QVeZDN5ZR9WyW46q"], ["created_at", "2017-08-08 11:38:00.012953"], ["updated_at", "2017-08-08 11:38:00.012953"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:38:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:38:00.019631"], ["last_sign_in_at", "2017-08-08 11:38:00.019631"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:38:00.020227"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:38:00 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.4ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.1ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:38:00 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:38:00 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:38:00 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$1yY6bhu8kQstBkcCVI1oue8OacNEUS6JYbYfPVLIlhtpNrWTo88LG"], ["created_at", "2017-08-08 11:38:00.058025"], ["updated_at", "2017-08-08 11:38:00.058025"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:38:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:38:00.063446"], ["last_sign_in_at", "2017-08-08 11:38:00.063446"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:38:00.063807"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:38:00.081000"], ["updated_at", "2017-08-08 11:38:00.081000"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 14:38:00 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:38:00.087697"], ["updated_at", "2017-08-08 11:38:00.087697"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 6ms (Views: 0.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$LYv4VaaIMOQuaaCA3I69K.Y6TsR9FsMvthDGR5KobMUNUNXN7bJji"], ["created_at", "2017-08-08 11:38:00.099313"], ["updated_at", "2017-08-08 11:38:00.099313"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:38:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:38:00.104813"], ["last_sign_in_at", "2017-08-08 11:38:00.104813"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:38:00.105277"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:38:00.110039"], ["updated_at", "2017-08-08 11:38:00.110039"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts/980190963" for 127.0.0.1 at 2017-08-08 14:38:00 +0300
Processing by AccountsController#update as JSON
  Parameters: {"account"=>{"balance"=>"50000"}, "id"=>"980190963"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 50000.0], ["updated_at", "2017-08-08 11:38:00.116543"], ["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 7ms (ActiveRecord: 0.6ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$rLTi8L8fzZhbWwNaxcQRkeyoj069k0uSGVXN9oMJtCaV1IckIB5HS"], ["created_at", "2017-08-08 11:38:00.127451"], ["updated_at", "2017-08-08 11:38:00.127451"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:38:00 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:38:00.133124"], ["last_sign_in_at", "2017-08-08 11:38:00.133124"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:38:00.133525"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:38:00.137739"], ["updated_at", "2017-08-08 11:38:00.137739"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 14:38:00 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:38:50.473830', '2017-08-08 11:38:50.473830', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 11:38:50.473830', '2017-08-08 11:38:50.473830', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:38:50.476883', '2017-08-08 11:38:50.476883', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 11:38:50.476883', '2017-08-08 11:38:50.476883', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:38:50.478558', '2017-08-08 11:38:50.478558', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 11:38:50.478558', '2017-08-08 11:38:50.478558', 298486374)[0m
  [1m[35m (195.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$8iEUQLjNpJayVSr6x/5Dp..n26d7aq3fNJ7Djhg/k.bTKgzcvoqVq"], ["created_at", "2017-08-08 11:38:50.762196"], ["updated_at", "2017-08-08 11:38:50.762196"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:38:50 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:38:50.824041"], ["last_sign_in_at", "2017-08-08 11:38:50.824041"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:38:50.824514"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 33ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:38:50.852921"], ["updated_at", "2017-08-08 11:38:50.852921"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts/980190963" for 127.0.0.1 at 2017-08-08 14:38:50 +0300
Processing by AccountsController#update as JSON
  Parameters: {"account"=>{"balance"=>"50000"}, "id"=>"980190963"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 50000.0], ["updated_at", "2017-08-08 11:38:50.861579"], ["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 8ms (ActiveRecord: 0.6ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$1sOFoNmZnuv5GI4D4Y1muOpl0n9ojRyy9SSuOQuz4Uy6MXa7HdPRK"], ["created_at", "2017-08-08 11:38:50.873272"], ["updated_at", "2017-08-08 11:38:50.873272"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:38:50 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:38:50.879203"], ["last_sign_in_at", "2017-08-08 11:38:50.879203"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:38:50.879693"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:38:50.884545"], ["updated_at", "2017-08-08 11:38:50.884545"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 14:38:50 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:38:50.889563"], ["updated_at", "2017-08-08 11:38:50.889563"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 6ms (Views: 1.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$Opa4ZbReK23KBBh1LkrH3OJWkO89AeUmn2yNPKG7FixH.wFuN8jv2"], ["created_at", "2017-08-08 11:38:50.901874"], ["updated_at", "2017-08-08 11:38:50.901874"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:38:50 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:38:50.907669"], ["last_sign_in_at", "2017-08-08 11:38:50.907669"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:38:50.908076"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 11:38:50.912305"], ["updated_at", "2017-08-08 11:38:50.912305"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 14:38:50 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 6ms (Views: 1.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$hDc/XFD3Aiv7ITca93uU/.JHTqriHkbOsEZYbKC3v5s2xlMqC9ttG"], ["created_at", "2017-08-08 11:38:50.930365"], ["updated_at", "2017-08-08 11:38:50.930365"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:38:50 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:38:50.936527"], ["last_sign_in_at", "2017-08-08 11:38:50.936527"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:38:50.937022"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:38:50 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.7ms)
Completed 200 OK in 369ms (Views: 367.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:38:51 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.2ms)
Completed 200 OK in 16ms (Views: 15.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$Jvbfw.ogJVcf1iJF4HWJYO80j3bBkQrP6VpsDmm5qL6XVYh9iKRCu"], ["created_at", "2017-08-08 11:38:51.342097"], ["updated_at", "2017-08-08 11:38:51.342097"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:38:51 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:38:51.350218"], ["last_sign_in_at", "2017-08-08 11:38:51.350218"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:38:51.350673"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 14:38:51 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.4ms)
Completed 302 Found in 6ms (Views: 5.2ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 14:38:51 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:38:51 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$eOSNVDFG8DTD62/SLGHc/.C7IqLd1XwEnvN.bVEivhDw2GDAWqH96"], ["created_at", "2017-08-08 11:38:51.389586"], ["updated_at", "2017-08-08 11:38:51.389586"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 14:38:51 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 11:38:51.396510"], ["last_sign_in_at", "2017-08-08 11:38:51.396510"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 11:38:51.396898"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 14:38:51 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 14:38:51 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 14:38:51 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.2ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 14:47:23.505210', '2017-08-08 14:47:23.505210', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 14:47:23.505210', '2017-08-08 14:47:23.505210', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 14:47:23.508104', '2017-08-08 14:47:23.508104', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 14:47:23.508104', '2017-08-08 14:47:23.508104', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 14:47:23.509748', '2017-08-08 14:47:23.509748', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 14:47:23.509748', '2017-08-08 14:47:23.509748', 298486374)[0m
  [1m[35m (96.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 17:47:23 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.7ms)
Completed 200 OK in 368ms (Views: 362.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$2GLMxaeij61h1bqyJKWy9ef4pDldPclEGndZEAuCQcFI6nFzx5hJO"], ["created_at", "2017-08-08 14:47:24.156838"], ["updated_at", "2017-08-08 14:47:24.156838"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:47:24 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:47:24.189318"], ["last_sign_in_at", "2017-08-08 14:47:24.189318"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:47:24.190297"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 32ms (ActiveRecord: 0.7ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 17:47:24 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.4ms)
Completed 200 OK in 7ms (Views: 3.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 17:47:24 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$ZBQzSKpD0r3HY8mMAV5d8OfdiAp9hHgxnFisDeR3gUaIP.bOSi9L2"], ["created_at", "2017-08-08 14:47:24.234331"], ["updated_at", "2017-08-08 14:47:24.234331"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:47:24 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:47:24.240065"], ["last_sign_in_at", "2017-08-08 14:47:24.240065"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:47:24.240434"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 17:47:24 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.5ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 17:47:24 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 17:47:24 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$gpuukZutmIofXhp2DgIwgueIK.DYG0wR8HYmIP3bkH3i6U6Wt879y"], ["created_at", "2017-08-08 14:47:24.266544"], ["updated_at", "2017-08-08 14:47:24.266544"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:47:24 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:47:24.272431"], ["last_sign_in_at", "2017-08-08 14:47:24.272431"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:47:24.272945"], ["id", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 17:47:24 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 11ms (Views: 9.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 17:47:24 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$fxaWC4tIeVIw83YEJoUHsuj/m9/isQ1VZu7eMuslEZ2h5r9/KINry"], ["created_at", "2017-08-08 14:47:24.298385"], ["updated_at", "2017-08-08 14:47:24.298385"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:47:24 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:47:24.303435"], ["last_sign_in_at", "2017-08-08 14:47:24.303435"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:47:24.303796"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:47:24.320458"], ["updated_at", "2017-08-08 14:47:24.320458"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts/980190963" for 127.0.0.1 at 2017-08-08 17:47:24 +0300
Processing by AccountsController#update as JSON
  Parameters: {"account"=>{"balance"=>"60000"}, "id"=>"980190963"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 60000.0], ["updated_at", "2017-08-08 14:47:24.328044"], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 6ms (ActiveRecord: 0.4ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$3vMvAIubB9kls.J40ZXfduokgsM9Vj2NZgp9cWI1rPLyO6JjfLPPG"], ["created_at", "2017-08-08 14:47:24.338341"], ["updated_at", "2017-08-08 14:47:24.338341"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:47:24 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:47:24.343671"], ["last_sign_in_at", "2017-08-08 14:47:24.343671"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:47:24.344154"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:47:24.348282"], ["updated_at", "2017-08-08 14:47:24.348282"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 17:47:24 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:47:24.352827"], ["updated_at", "2017-08-08 14:47:24.352827"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 5ms (Views: 0.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$pjENmX9b69X1D3tANDDpg.9UGp5z4iUGEuwWHrK.UR1B2oabLPYWO"], ["created_at", "2017-08-08 14:47:24.363096"], ["updated_at", "2017-08-08 14:47:24.363096"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:47:24 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:47:24.369260"], ["last_sign_in_at", "2017-08-08 14:47:24.369260"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:47:24.369675"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:47:24.374098"], ["updated_at", "2017-08-08 14:47:24.374098"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 17:47:24 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.9ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 14:47:39.195486', '2017-08-08 14:47:39.195486', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 14:47:39.195486', '2017-08-08 14:47:39.195486', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 14:47:39.199315', '2017-08-08 14:47:39.199315', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 14:47:39.199315', '2017-08-08 14:47:39.199315', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 14:47:39.202009', '2017-08-08 14:47:39.202009', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 14:47:39.202009', '2017-08-08 14:47:39.202009', 298486374)[0m
  [1m[35m (67.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$q7aKNUElLQykT8rI5s5NYuMe0fldWggLmzQfg6zk6mtpJLgQWzNya"], ["created_at", "2017-08-08 14:47:39.360388"], ["updated_at", "2017-08-08 14:47:39.360388"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:47:39 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:47:39.414232"], ["last_sign_in_at", "2017-08-08 14:47:39.414232"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:47:39.414750"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 27ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:47:39.444901"], ["updated_at", "2017-08-08 14:47:39.444901"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts/980190963" for 127.0.0.1 at 2017-08-08 17:47:39 +0300
Processing by AccountsController#update as JSON
  Parameters: {"account"=>{"balance"=>"60000"}, "id"=>"980190963"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 60000.0], ["updated_at", "2017-08-08 14:47:39.456672"], ["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 11ms (ActiveRecord: 0.7ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$ztbM5RVlvxVyPz9zUdf3.O0eFLdFiiMrx6LAvii6w3O38ELvlhLFC"], ["created_at", "2017-08-08 14:47:39.471222"], ["updated_at", "2017-08-08 14:47:39.471222"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:47:39 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:47:39.479598"], ["last_sign_in_at", "2017-08-08 14:47:39.479598"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:47:39.480200"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:47:39.486061"], ["updated_at", "2017-08-08 14:47:39.486061"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 17:47:39 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:47:39.492833"], ["updated_at", "2017-08-08 14:47:39.492833"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 10ms (Views: 3.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$f6EjfUBYkK0u.fMtHcgPIeqwj/K9A8qZRPE.RGYkUXMy8vCOSagPS"], ["created_at", "2017-08-08 14:47:39.507914"], ["updated_at", "2017-08-08 14:47:39.507914"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:47:39 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:47:39.522629"], ["last_sign_in_at", "2017-08-08 14:47:39.522629"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:47:39.523094"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 14ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:47:39.527614"], ["updated_at", "2017-08-08 14:47:39.527614"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 17:47:39 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.3ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$kGUrbrAptF0dS3G3XfGf7.JQimdjBKcbGu9xc0q7L.XkYiENdYKJm"], ["created_at", "2017-08-08 14:47:39.541708"], ["updated_at", "2017-08-08 14:47:39.541708"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:47:39 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:47:39.546686"], ["last_sign_in_at", "2017-08-08 14:47:39.546686"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:47:39.547047"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 17:47:39 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.9ms)
Completed 200 OK in 387ms (Views: 385.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 17:47:39 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.7ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (2.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$pngZ/AAcJCYX9.ULbkEj6OfISGQVEbyTwlH44NSuTZ0miG2jj55K6"], ["created_at", "2017-08-08 14:47:39.957016"], ["updated_at", "2017-08-08 14:47:39.957016"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:47:39 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:47:39.966092"], ["last_sign_in_at", "2017-08-08 14:47:39.966092"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:47:39.966546"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 17:47:39 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.6ms)
Completed 302 Found in 4ms (Views: 3.3ms | ActiveRecord: 0.3ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 17:47:39 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (2.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 17:47:39 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$hJqMiZVCI4juIqzkXlB/9O/NPeh863YH7HIWx2cIpKghm16zd5rkK"], ["created_at", "2017-08-08 14:47:40.021631"], ["updated_at", "2017-08-08 14:47:40.021631"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:47:40 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:47:40.027118"], ["last_sign_in_at", "2017-08-08 14:47:40.027118"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:47:40.027568"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 17:47:40 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.2ms)
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 17:47:40 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 17:47:40 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 14:50:51.674758', '2017-08-08 14:50:51.674758', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 14:50:51.674758', '2017-08-08 14:50:51.674758', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 14:50:51.677261', '2017-08-08 14:50:51.677261', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 14:50:51.677261', '2017-08-08 14:50:51.677261', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 14:50:51.678821', '2017-08-08 14:50:51.678821', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 14:50:51.678821', '2017-08-08 14:50:51.678821', 298486374)[0m
  [1m[35m (216.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
TransactionsControllerTest: test_should_create_transaction
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$vUiPQpha0blhFztMrZi0QeykTNTKbGAWRowmygSu0tUkmeVSWoBFO"], ["created_at", "2017-08-08 14:50:52.003342"], ["updated_at", "2017-08-08 14:50:52.003342"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:50:52 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:50:52.067727"], ["last_sign_in_at", "2017-08-08 14:50:52.067727"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:50:52.068238"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 27ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:50:52.100131"], ["updated_at", "2017-08-08 14:50:52.100131"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$b88rGxjrbFr6l66dauXXwuiqgK4zjgFU0mrCHHoC/kdkGvB/ONZuu"], ["created_at", "2017-08-08 14:50:52.253048"], ["updated_at", "2017-08-08 14:50:52.253048"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:50:52 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:50:52.259230"], ["last_sign_in_at", "2017-08-08 14:50:52.259230"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:50:52.260098"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 17:50:52 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.7ms)
Completed 200 OK in 340ms (Views: 338.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 17:50:52 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$IsLAVfVdPSqcGMNh/DYc/u33E1tgzYGBEfhDQPIIJUgxnW2Z1qcSa"], ["created_at", "2017-08-08 14:50:52.617558"], ["updated_at", "2017-08-08 14:50:52.617558"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:50:52 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:50:52.623280"], ["last_sign_in_at", "2017-08-08 14:50:52.623280"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:50:52.623698"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 17:50:52 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.0ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 17:50:52 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$DxCmE3UzskTNjUO2R5Vng.OBDqswLqbAASYi2WEEjvUE6TPnaW46a"], ["created_at", "2017-08-08 14:50:52.644208"], ["updated_at", "2017-08-08 14:50:52.644208"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:50:52 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:50:52.649645"], ["last_sign_in_at", "2017-08-08 14:50:52.649645"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:50:52.650494"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 17:50:52 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 17:50:52 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 17:50:52 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 17:50:52 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$psfv3Ar1QS5QIuM537Xx0eZSBi4ZWG7iW/.AF3daTBDswArg0DLou"], ["created_at", "2017-08-08 14:50:52.680811"], ["updated_at", "2017-08-08 14:50:52.680811"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:50:52 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:50:52.686416"], ["last_sign_in_at", "2017-08-08 14:50:52.686416"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:50:52.686824"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:50:52.691312"], ["updated_at", "2017-08-08 14:50:52.691312"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 17:50:52 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:50:52.697919"], ["updated_at", "2017-08-08 14:50:52.697919"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 6ms (Views: 1.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$HBFs7.U4DcTRq1rIJcm3Ou/ItpfH89ku1HLLakcHTZoI5PdRKef/a"], ["created_at", "2017-08-08 14:50:52.710529"], ["updated_at", "2017-08-08 14:50:52.710529"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:50:52 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:50:52.745540"], ["last_sign_in_at", "2017-08-08 14:50:52.745540"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:50:52.745914"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:50:52.750346"], ["updated_at", "2017-08-08 14:50:52.750346"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts/980190963" for 127.0.0.1 at 2017-08-08 17:50:52 +0300
Processing by AccountsController#update as JSON
  Parameters: {"account"=>{"balance"=>"60000"}, "id"=>"980190963"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 60000.0], ["updated_at", "2017-08-08 14:50:52.757250"], ["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 8ms (ActiveRecord: 0.6ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$dotOWCweKGtPfUMuXb.pwujsA6jUyjM1L6pw3NVuPBdA4lHwJ5CYS"], ["created_at", "2017-08-08 14:50:52.768314"], ["updated_at", "2017-08-08 14:50:52.768314"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:50:52 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:50:52.773913"], ["last_sign_in_at", "2017-08-08 14:50:52.773913"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:50:52.774311"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:50:52.779327"], ["updated_at", "2017-08-08 14:50:52.779327"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 17:50:52 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 6ms (Views: 1.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 14:51:16.742153', '2017-08-08 14:51:16.742153', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 14:51:16.742153', '2017-08-08 14:51:16.742153', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 14:51:16.745136', '2017-08-08 14:51:16.745136', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 14:51:16.745136', '2017-08-08 14:51:16.745136', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 14:51:16.746741', '2017-08-08 14:51:16.746741', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 14:51:16.746741', '2017-08-08 14:51:16.746741', 298486374)[0m
  [1m[35m (124.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$IIU50LZlEV29/aiA3xxXj.Q0HtVmtHMonG0wIMvKwIbiXAJsYvyKG"], ["created_at", "2017-08-08 14:51:16.963137"], ["updated_at", "2017-08-08 14:51:16.963137"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:51:16 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:51:17.017929"], ["last_sign_in_at", "2017-08-08 14:51:17.017929"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:51:17.018662"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:51:17.048411"], ["updated_at", "2017-08-08 14:51:17.048411"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts/980190963" for 127.0.0.1 at 2017-08-08 17:51:17 +0300
Processing by AccountsController#update as JSON
  Parameters: {"account"=>{"balance"=>"60000"}, "id"=>"980190963"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 60000.0], ["updated_at", "2017-08-08 14:51:17.059063"], ["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 10ms (ActiveRecord: 0.8ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$Cbd6BkzGN6dUuCHOtu0zOeBBeXFGAk.G1sCgwa9xhZa2dhpa4DSdW"], ["created_at", "2017-08-08 14:51:17.071625"], ["updated_at", "2017-08-08 14:51:17.071625"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:51:17 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:51:17.077466"], ["last_sign_in_at", "2017-08-08 14:51:17.077466"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:51:17.077908"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:51:17.082774"], ["updated_at", "2017-08-08 14:51:17.082774"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 17:51:17 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:51:17.087987"], ["updated_at", "2017-08-08 14:51:17.087987"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 7ms (Views: 1.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$1./zHeVcqsNtGqjPV6c8Fe5ltdPtmEnfL4j7YLOEqAqRd9.6zXgKW"], ["created_at", "2017-08-08 14:51:17.100622"], ["updated_at", "2017-08-08 14:51:17.100622"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:51:17 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:51:17.106120"], ["last_sign_in_at", "2017-08-08 14:51:17.106120"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:51:17.106574"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:51:17.111218"], ["updated_at", "2017-08-08 14:51:17.111218"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 17:51:17 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 17:51:17 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.4ms)
Completed 200 OK in 392ms (Views: 391.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$aQmv8yDMs0EXKI8C6PQPcOXLq8zzLl4IrIl8I4qSI5m21JaoJkTJe"], ["created_at", "2017-08-08 14:51:17.519603"], ["updated_at", "2017-08-08 14:51:17.519603"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:51:17 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:51:17.524971"], ["last_sign_in_at", "2017-08-08 14:51:17.524971"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:51:17.525393"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 17:51:17 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 17:51:17 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 17:51:17 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 17:51:17 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$ZrqgLOmOAkSKTMeVYa9r2O35n/uIMP9cTgTORRN8Bk5Sslsxs02hi"], ["created_at", "2017-08-08 14:51:17.553245"], ["updated_at", "2017-08-08 14:51:17.553245"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:51:17 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:51:17.560764"], ["last_sign_in_at", "2017-08-08 14:51:17.560764"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:51:17.561280"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 17:51:17 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$HJFkMbgnEPHcDREHgMn4A.ezXu.6HafCDfIDDnFK5iC0Mx0tBgVA."], ["created_at", "2017-08-08 14:51:17.576584"], ["updated_at", "2017-08-08 14:51:17.576584"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:51:17 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:51:17.582005"], ["last_sign_in_at", "2017-08-08 14:51:17.582005"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:51:17.582378"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 23ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 17:51:17 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 17:51:17 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
TransactionsControllerTest: test_should_create_transaction
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$OyvA/xgtFSfd4UsEy8bX4OCv4Vf7Jh4H1TOMBQMGL6mopmV3RTzIK"], ["created_at", "2017-08-08 14:51:17.617154"], ["updated_at", "2017-08-08 14:51:17.617154"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:51:17 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:51:17.622779"], ["last_sign_in_at", "2017-08-08 14:51:17.622779"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:51:17.623180"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:51:17.627584"], ["updated_at", "2017-08-08 14:51:17.627584"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
Started POST "/api/transactions" for 127.0.0.1 at 2017-08-08 17:51:17 +0300
Processing by TransactionsController#create as JSON
  Parameters: {"transaction"=>{"ammount"=>"400", "description"=>"test", "made_on_date"=>"2017-08-08", "accoinut_id"=>nil, "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Unpermitted parameter: :accoinut_id
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 13ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 14:52:29.974853', '2017-08-08 14:52:29.974853', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 14:52:29.974853', '2017-08-08 14:52:29.974853', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 14:52:29.977521', '2017-08-08 14:52:29.977521', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 14:52:29.977521', '2017-08-08 14:52:29.977521', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 14:52:29.979115', '2017-08-08 14:52:29.979115', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 14:52:29.979115', '2017-08-08 14:52:29.979115', 298486374)[0m
  [1m[35m (209.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 17:52:30 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 10ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$twLDAhdCorLNrlOWsRCIkO6fHBPZrVQq4jBpwDL4MpCqMZIGR39Ze"], ["created_at", "2017-08-08 14:52:30.351912"], ["updated_at", "2017-08-08 14:52:30.351912"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:52:30 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:52:30.365562"], ["last_sign_in_at", "2017-08-08 14:52:30.365562"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:52:30.366198"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 14ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 17:52:30 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (1.3ms)
Completed 200 OK in 384ms (Views: 381.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$pfsu70NHji/BedSDH7xDOeyrlTyj7QqyH4/6rAOO/6Zgl5n6lsE7K"], ["created_at", "2017-08-08 14:52:30.769795"], ["updated_at", "2017-08-08 14:52:30.769795"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:52:30 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:52:30.775061"], ["last_sign_in_at", "2017-08-08 14:52:30.775061"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:52:30.775497"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 17:52:30 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 17:52:30 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 17:52:30 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (2.7ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 17:52:30 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$jQT/1jryoBEzrMnM4PXHW.MLJBQ9ggJIX7QbTk6xfGsjzJuD7HLcy"], ["created_at", "2017-08-08 14:52:30.805130"], ["updated_at", "2017-08-08 14:52:30.805130"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:52:30 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:52:30.812865"], ["last_sign_in_at", "2017-08-08 14:52:30.812865"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:52:30.813366"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 17:52:30 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 2ms (Views: 2.0ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 17:52:30 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
TransactionsControllerTest: test_should_create_transaction
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$GMYShO8qhP6Fc6XzgVzbjOQL5/ueH230R46plcJCIcB6rD6/Y1mDi"], ["created_at", "2017-08-08 14:52:30.849830"], ["updated_at", "2017-08-08 14:52:30.849830"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:52:30 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:52:30.855285"], ["last_sign_in_at", "2017-08-08 14:52:30.855285"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:52:30.855721"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:52:30.873088"], ["updated_at", "2017-08-08 14:52:30.873088"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
Started POST "/api/transactions" for 127.0.0.1 at 2017-08-08 17:52:30 +0300
Processing by TransactionsController#create as JSON
  Parameters: {"transaction"=>{"ammount"=>"400", "description"=>"test", "made_on_date"=>"2017-08-08", "accoinut_id"=>nil, "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Unpermitted parameter: :accoinut_id
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 17ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$tM7EEafdRwzNkc5/eY3qN.B0QMggCk965UF9AJLG1R6qL4UynXBj."], ["created_at", "2017-08-08 14:52:30.903017"], ["updated_at", "2017-08-08 14:52:30.903017"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:52:30 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:52:30.908650"], ["last_sign_in_at", "2017-08-08 14:52:30.908650"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:52:30.909214"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:52:30.913777"], ["updated_at", "2017-08-08 14:52:30.913777"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 17:52:30 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:52:30.919975"], ["updated_at", "2017-08-08 14:52:30.919975"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 6ms (Views: 0.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$ChVVMsnuRU09cwpyiiUgs.ZQkXdnTDLK.z0nQFJVe4UgoZ4hbDw2i"], ["created_at", "2017-08-08 14:52:30.931684"], ["updated_at", "2017-08-08 14:52:30.931684"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:52:30 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:52:30.938161"], ["last_sign_in_at", "2017-08-08 14:52:30.938161"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:52:30.938598"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:52:30.942872"], ["updated_at", "2017-08-08 14:52:30.942872"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 17:52:30 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$XOl5QMQ0YPe14/K75SiOpeGAEVh.H3PlAsRB.Jkoimq52iSFZcM4i"], ["created_at", "2017-08-08 14:52:30.956428"], ["updated_at", "2017-08-08 14:52:30.956428"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:52:30 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:52:30.962815"], ["last_sign_in_at", "2017-08-08 14:52:30.962815"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:52:30.963236"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:52:30.967401"], ["updated_at", "2017-08-08 14:52:30.967401"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts/980190963" for 127.0.0.1 at 2017-08-08 17:52:30 +0300
Processing by AccountsController#update as JSON
  Parameters: {"account"=>{"balance"=>"60000"}, "id"=>"980190963"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 60000.0], ["updated_at", "2017-08-08 14:52:30.973474"], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 6ms (ActiveRecord: 0.4ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 14:52:55.788895', '2017-08-08 14:52:55.788895', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 14:52:55.788895', '2017-08-08 14:52:55.788895', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 14:52:55.791640', '2017-08-08 14:52:55.791640', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 14:52:55.791640', '2017-08-08 14:52:55.791640', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 14:52:55.793398', '2017-08-08 14:52:55.793398', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 14:52:55.793398', '2017-08-08 14:52:55.793398', 298486374)[0m
  [1m[35m (161.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 17:52:56 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 10ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$xsH3/dX1olvVPRB2CJUWFeYU1R9DWyvQ0kJvxspBUB2IK3HlwXXk6"], ["created_at", "2017-08-08 14:52:56.109743"], ["updated_at", "2017-08-08 14:52:56.109743"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:52:56 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:52:56.122499"], ["last_sign_in_at", "2017-08-08 14:52:56.122499"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:52:56.122973"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 13ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 17:52:56 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.7ms)
Completed 200 OK in 390ms (Views: 388.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 17:52:56 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.6ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 17:52:56 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$TyoLg8cXX3R7PmKWSm6KYelIxgeWDTvqLJQVaslZAdCSWJyPFoxwG"], ["created_at", "2017-08-08 14:52:56.537744"], ["updated_at", "2017-08-08 14:52:56.537744"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:52:56 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:52:56.543372"], ["last_sign_in_at", "2017-08-08 14:52:56.543372"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:52:56.543746"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 17:52:56 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.0ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 17:52:56 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$NqcW.A/srAQGqWBEmaMNFOAH1P4Y9k3rBGdSGig8b8XNG/WiLyB02"], ["created_at", "2017-08-08 14:52:56.563440"], ["updated_at", "2017-08-08 14:52:56.563440"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:52:56 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:52:56.569606"], ["last_sign_in_at", "2017-08-08 14:52:56.569606"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:52:56.570370"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 17:52:56 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 17:52:56 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
TransactionsControllerTest: test_should_create_transaction
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$ITBEhUs2Cbqe8nhR4skxEu/lg81eqGn13x8F3WRZDy1FtijswVw0y"], ["created_at", "2017-08-08 14:52:56.588991"], ["updated_at", "2017-08-08 14:52:56.588991"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:52:56 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:52:56.594152"], ["last_sign_in_at", "2017-08-08 14:52:56.594152"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:52:56.594571"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:52:56.611804"], ["updated_at", "2017-08-08 14:52:56.611804"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
Started POST "/api/transactions" for 127.0.0.1 at 2017-08-08 17:52:56 +0300
Processing by TransactionsController#create as JSON
  Parameters: {"transaction"=>{"ammount"=>"400", "description"=>"test", "made_on_date"=>"2017-08-08", "account_id"=>nil, "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 13ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$H8Vb8PgOE5t9BXNQvIlF9O/P0hDENcHqTL4/YBVdCYHr8JbimHpES"], ["created_at", "2017-08-08 14:52:56.637568"], ["updated_at", "2017-08-08 14:52:56.637568"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:52:56 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:52:56.643278"], ["last_sign_in_at", "2017-08-08 14:52:56.643278"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:52:56.643873"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:52:56.649046"], ["updated_at", "2017-08-08 14:52:56.649046"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 17:52:56 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:52:56.657977"], ["updated_at", "2017-08-08 14:52:56.657977"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 10ms (Views: 1.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$AajfJ0XAGqnRNsrrPBnhyuCOIT/uGLSKK0N2Yh16UfH6XuuzkizFi"], ["created_at", "2017-08-08 14:52:56.671520"], ["updated_at", "2017-08-08 14:52:56.671520"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:52:56 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:52:56.676820"], ["last_sign_in_at", "2017-08-08 14:52:56.676820"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:52:56.677225"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:52:56.681917"], ["updated_at", "2017-08-08 14:52:56.681917"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts/980190963" for 127.0.0.1 at 2017-08-08 17:52:56 +0300
Processing by AccountsController#update as JSON
  Parameters: {"account"=>{"balance"=>"60000"}, "id"=>"980190963"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 60000.0], ["updated_at", "2017-08-08 14:52:56.687921"], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 6ms (ActiveRecord: 0.4ms)
  [1m[36mAccount Load (0.0ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$l.jux11ntYRbzwku68rop.p7u3GYrZNRwaGoUGcSweypTfzJb3Gty"], ["created_at", "2017-08-08 14:52:56.698867"], ["updated_at", "2017-08-08 14:52:56.698867"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:52:56 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:52:56.704841"], ["last_sign_in_at", "2017-08-08 14:52:56.704841"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:52:56.705321"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:52:56.709556"], ["updated_at", "2017-08-08 14:52:56.709556"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 17:52:56 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 14:53:47.306801', '2017-08-08 14:53:47.306801', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 14:53:47.306801', '2017-08-08 14:53:47.306801', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 14:53:47.309325', '2017-08-08 14:53:47.309325', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 14:53:47.309325', '2017-08-08 14:53:47.309325', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 14:53:47.310979', '2017-08-08 14:53:47.310979', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 14:53:47.310979', '2017-08-08 14:53:47.310979', 298486374)[0m
  [1m[35m (48.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
TransactionsControllerTest: test_should_create_transaction
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$DUN3pR6/twI7feTFTQFi/uTnAe/lwf1okGcavNiXfzY4cpIHV2dSW"], ["created_at", "2017-08-08 14:53:47.444917"], ["updated_at", "2017-08-08 14:53:47.444917"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:53:47 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:53:47.502809"], ["last_sign_in_at", "2017-08-08 14:53:47.502809"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:53:47.503287"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 25ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:53:47.532954"], ["updated_at", "2017-08-08 14:53:47.532954"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
Started POST "/api/transactions" for 127.0.0.1 at 2017-08-08 17:53:47 +0300
Processing by TransactionsController#create as JSON
  Parameters: {"transaction"=>{"ammount"=>"400", "description"=>"test", "made_on_date"=>"2017-08-08", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 14ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$jNVbHDH7iABW/JhV/BH3we01VZ2lB9oMcs2rBYwRl2sP8xGN12kKa"], ["created_at", "2017-08-08 14:53:47.561434"], ["updated_at", "2017-08-08 14:53:47.561434"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:53:47 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:53:47.575914"], ["last_sign_in_at", "2017-08-08 14:53:47.575914"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:53:47.576426"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 14ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 17:53:47 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.7ms)
Completed 200 OK in 379ms (Views: 376.9ms | ActiveRecord: 0.1ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 17:53:47 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$M2LkshQ9/kBxgjyBSGl7RuIcdIcLQKP6Ncqnl/0PUvaia6uvODXw6"], ["created_at", "2017-08-08 14:53:47.974778"], ["updated_at", "2017-08-08 14:53:47.974778"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:53:47 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:53:47.980815"], ["last_sign_in_at", "2017-08-08 14:53:47.980815"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:53:47.981248"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 17:53:47 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 17:53:47 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 17:53:47 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$BMhALsSOD04/f/NUZcEE9.V808z2sG5ilgIra2H5ujWBpyae5G9.u"], ["created_at", "2017-08-08 14:53:48.006450"], ["updated_at", "2017-08-08 14:53:48.006450"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:53:48 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:53:48.012331"], ["last_sign_in_at", "2017-08-08 14:53:48.012331"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:53:48.012774"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 17:53:48 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.1ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 17:53:48 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 17:53:48 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$s2ou8r0W2uKsb1kz.PdoG.qM5jDcqUd0y1v5voVaI8yFUurWENHcu"], ["created_at", "2017-08-08 14:53:48.053436"], ["updated_at", "2017-08-08 14:53:48.053436"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:53:48 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:53:48.059317"], ["last_sign_in_at", "2017-08-08 14:53:48.059317"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:53:48.059699"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:53:48.064961"], ["updated_at", "2017-08-08 14:53:48.064961"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts/980190963" for 127.0.0.1 at 2017-08-08 17:53:48 +0300
Processing by AccountsController#update as JSON
  Parameters: {"account"=>{"balance"=>"60000"}, "id"=>"980190963"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 60000.0], ["updated_at", "2017-08-08 14:53:48.072125"], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 6ms (ActiveRecord: 0.4ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$qRb09YA/uI2IYkiV0ntnj.lfMS/SpEvwzn9baONCu.1NHDxcHS4/C"], ["created_at", "2017-08-08 14:53:48.082798"], ["updated_at", "2017-08-08 14:53:48.082798"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:53:48 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:53:48.088759"], ["last_sign_in_at", "2017-08-08 14:53:48.088759"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:53:48.089212"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:53:48.093289"], ["updated_at", "2017-08-08 14:53:48.093289"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 17:53:48 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$/bxo3.MlJ6MitnUSAbYCCe55BH/DbqMHO3jZ5VUo6tJ7iKHFcMXSu"], ["created_at", "2017-08-08 14:53:48.107495"], ["updated_at", "2017-08-08 14:53:48.107495"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:53:48 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:53:48.113296"], ["last_sign_in_at", "2017-08-08 14:53:48.113296"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:53:48.113767"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:53:48.118249"], ["updated_at", "2017-08-08 14:53:48.118249"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 17:53:48 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:53:48.123180"], ["updated_at", "2017-08-08 14:53:48.123180"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 5ms (Views: 0.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 14:54:23.618759', '2017-08-08 14:54:23.618759', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 14:54:23.618759', '2017-08-08 14:54:23.618759', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 14:54:23.621423', '2017-08-08 14:54:23.621423', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 14:54:23.621423', '2017-08-08 14:54:23.621423', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 14:54:23.623023', '2017-08-08 14:54:23.623023', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 14:54:23.623023', '2017-08-08 14:54:23.623023', 298486374)[0m
  [1m[35m (59.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$muyNDGU4MqKCvA4RC1kfr.sUZJxOPjvCa7CXVCcuMwpCS99YM8lQC"], ["created_at", "2017-08-08 14:54:23.777439"], ["updated_at", "2017-08-08 14:54:23.777439"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:54:23 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:54:23.840273"], ["last_sign_in_at", "2017-08-08 14:54:23.840273"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:54:23.841189"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 33ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:54:23.877116"], ["updated_at", "2017-08-08 14:54:23.877116"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 17:54:23 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:54:23.886052"], ["updated_at", "2017-08-08 14:54:23.886052"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 8ms (Views: 1.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$v2Uxw7jmfCO5GBldAmu4Fe6Uug5ok5/uCtb7SbwMQOSkDAx1CzsHa"], ["created_at", "2017-08-08 14:54:23.898895"], ["updated_at", "2017-08-08 14:54:23.898895"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:54:23 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:54:23.904940"], ["last_sign_in_at", "2017-08-08 14:54:23.904940"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:54:23.905473"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:54:23.910354"], ["updated_at", "2017-08-08 14:54:23.910354"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 17:54:23 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$yZ74hwTedQpztUNuLvC7H.xVpFkNYQrX2cCuuzQuvcQRq5TE901nu"], ["created_at", "2017-08-08 14:54:23.923390"], ["updated_at", "2017-08-08 14:54:23.923390"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:54:23 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:54:23.928500"], ["last_sign_in_at", "2017-08-08 14:54:23.928500"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:54:23.928865"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:54:23.933052"], ["updated_at", "2017-08-08 14:54:23.933052"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts/980190963" for 127.0.0.1 at 2017-08-08 17:54:23 +0300
Processing by AccountsController#update as JSON
  Parameters: {"account"=>{"balance"=>"60000"}, "id"=>"980190963"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 60000.0], ["updated_at", "2017-08-08 14:54:23.938985"], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 6ms (ActiveRecord: 0.5ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
TransactionsControllerTest: test_should_create_transaction
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$AtxUD1e0qN/HMC4HB.VpTu10//lk66nMOkOAoEfes9Ku1LOz6Go.a"], ["created_at", "2017-08-08 14:54:23.949046"], ["updated_at", "2017-08-08 14:54:23.949046"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:54:23 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:54:23.954962"], ["last_sign_in_at", "2017-08-08 14:54:23.954962"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:54:23.955424"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:54:23.959396"], ["updated_at", "2017-08-08 14:54:23.959396"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
Started POST "/api/transactions" for 127.0.0.1 at 2017-08-08 17:54:23 +0300
Processing by TransactionsController#create as JSON
  Parameters: {"transaction"=>{"ammount"=>"400", "description"=>"test", "made_on_date"=>"2017-08-08", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 13ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 17:54:23 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.6ms)
Completed 200 OK in 430ms (Views: 429.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 17:54:24 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 17:54:24 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$esw2ZWCBWr6Kfxt6fPnIdu7l25iyB1d8KB/Uq.4.3blIDm0sj4c22"], ["created_at", "2017-08-08 14:54:24.429979"], ["updated_at", "2017-08-08 14:54:24.429979"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:54:24 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:54:24.435632"], ["last_sign_in_at", "2017-08-08 14:54:24.435632"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:54:24.436170"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 17:54:24 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.4ms)
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$5fNduzm9roK6du/t7qtKNOuudQkrI6d9fMEk7W0OaZzWHuzWh1Z3O"], ["created_at", "2017-08-08 14:54:24.451613"], ["updated_at", "2017-08-08 14:54:24.451613"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:54:24 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:54:24.457354"], ["last_sign_in_at", "2017-08-08 14:54:24.457354"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:54:24.457720"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 17:54:24 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.2ms)
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 17:54:24 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$WFEtomzhTm/PBOazbYAZkuhZAiyBFBqYi7zugBJoCtjx8fBpfUl56"], ["created_at", "2017-08-08 14:54:24.483214"], ["updated_at", "2017-08-08 14:54:24.483214"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:54:24 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:54:24.489181"], ["last_sign_in_at", "2017-08-08 14:54:24.489181"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:54:24.489598"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 17:54:24 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.2ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 17:54:24 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 14:54:57.657645', '2017-08-08 14:54:57.657645', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 14:54:57.657645', '2017-08-08 14:54:57.657645', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 14:54:57.660878', '2017-08-08 14:54:57.660878', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 14:54:57.660878', '2017-08-08 14:54:57.660878', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 14:54:57.663210', '2017-08-08 14:54:57.663210', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 14:54:57.663210', '2017-08-08 14:54:57.663210', 298486374)[0m
  [1m[35m (92.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$palkXiK7Rz7ubIoK6yE10.3NOXxTW6bgCb.tazrWtcrIgeAACtGRG"], ["created_at", "2017-08-08 14:54:57.846698"], ["updated_at", "2017-08-08 14:54:57.846698"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:54:57 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:54:57.912058"], ["last_sign_in_at", "2017-08-08 14:54:57.912058"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:54:57.912521"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 25ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:54:57.942160"], ["updated_at", "2017-08-08 14:54:57.942160"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts/980190963" for 127.0.0.1 at 2017-08-08 17:54:57 +0300
Processing by AccountsController#update as JSON
  Parameters: {"account"=>{"balance"=>"60000"}, "id"=>"980190963"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 60000.0], ["updated_at", "2017-08-08 14:54:57.951764"], ["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 8ms (ActiveRecord: 0.6ms)
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$VjM6Opou2.Kn2waawdAbWO2U/eLMA7SIApz683G0192O5CvcRx7zi"], ["created_at", "2017-08-08 14:54:57.963079"], ["updated_at", "2017-08-08 14:54:57.963079"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:54:57 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:54:57.969002"], ["last_sign_in_at", "2017-08-08 14:54:57.969002"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:54:57.969684"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:54:57.975082"], ["updated_at", "2017-08-08 14:54:57.975082"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 17:54:57 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$B7grSUNJh5qCbev7AT7OBu0DWGVgvqi1dVb5CoGPteBaCvEjZUECC"], ["created_at", "2017-08-08 14:54:57.988448"], ["updated_at", "2017-08-08 14:54:57.988448"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:54:57 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:54:57.993861"], ["last_sign_in_at", "2017-08-08 14:54:57.993861"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:54:57.994243"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:54:57.997989"], ["updated_at", "2017-08-08 14:54:57.997989"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 17:54:57 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:54:58.002570"], ["updated_at", "2017-08-08 14:54:58.002570"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 6ms (Views: 1.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 17:54:58 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.7ms)
Completed 200 OK in 421ms (Views: 420.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 17:54:58 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$QtSFUQzZQbnxLpWQCz2a..Qk56jFHwuAf/xufpprfaRjm.rse.6Ym"], ["created_at", "2017-08-08 14:54:58.447979"], ["updated_at", "2017-08-08 14:54:58.447979"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:54:58 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:54:58.454779"], ["last_sign_in_at", "2017-08-08 14:54:58.454779"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:54:58.455317"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 17:54:58 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 17:54:58 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$45PVsTy0lqbQIPc5FSkvyuWiZiGLo7ppr7JGBY2phSPS4/pbF5zbO"], ["created_at", "2017-08-08 14:54:58.472368"], ["updated_at", "2017-08-08 14:54:58.472368"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:54:58 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:54:58.477443"], ["last_sign_in_at", "2017-08-08 14:54:58.477443"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:54:58.477806"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 17:54:58 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 2ms (Views: 2.0ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 17:54:58 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 17:54:58 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$VZkCm/hSmgO69qWu0uvl0ujStNGb9ljBxDILNLZ/w.jbVMIzSZnNe"], ["created_at", "2017-08-08 14:54:58.501743"], ["updated_at", "2017-08-08 14:54:58.501743"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:54:58 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:54:58.506879"], ["last_sign_in_at", "2017-08-08 14:54:58.506879"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:54:58.507300"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 17:54:58 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (18.2ms)
Completed 200 OK in 21ms (Views: 20.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
TransactionsControllerTest: test_should_create_transaction
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$lu7Yac7m8t0AD5VV8TdYveR3ZMOXDr48bJFRSnP4WdfcI66EMT39S"], ["created_at", "2017-08-08 14:54:58.539960"], ["updated_at", "2017-08-08 14:54:58.539960"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:54:58 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:54:58.545189"], ["last_sign_in_at", "2017-08-08 14:54:58.545189"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:54:58.545595"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:54:58.550524"], ["updated_at", "2017-08-08 14:54:58.550524"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
Started POST "/api/transactions" for 127.0.0.1 at 2017-08-08 17:54:58 +0300
Processing by TransactionsController#create as JSON
  Parameters: {"transaction"=>{"ammount"=>"400", "description"=>"test", "made_on_date"=>"2017-08-08", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 13ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 14:55:43.817862', '2017-08-08 14:55:43.817862', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 14:55:43.817862', '2017-08-08 14:55:43.817862', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 14:55:43.820598', '2017-08-08 14:55:43.820598', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 14:55:43.820598', '2017-08-08 14:55:43.820598', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 14:55:43.822261', '2017-08-08 14:55:43.822261', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 14:55:43.822261', '2017-08-08 14:55:43.822261', 298486374)[0m
  [1m[35m (53.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 17:55:43 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.9ms)
Completed 200 OK in 409ms (Views: 403.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$HG7qN2Oz307bK7ITk5XM7O.5Cs8CTOODXqgmhzaBbxjOvXlMs.WAG"], ["created_at", "2017-08-08 14:55:44.430635"], ["updated_at", "2017-08-08 14:55:44.430635"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:55:44 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:55:44.451864"], ["last_sign_in_at", "2017-08-08 14:55:44.451864"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:55:44.452513"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 20ms (ActiveRecord: 0.6ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 17:55:44 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.2ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$2CIDAlJuIIfIraGkkx3ZNea6nEUjwshTThIjFZq3dtddpSvr7QwyW"], ["created_at", "2017-08-08 14:55:44.479909"], ["updated_at", "2017-08-08 14:55:44.479909"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:55:44 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:55:44.485690"], ["last_sign_in_at", "2017-08-08 14:55:44.485690"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:55:44.486121"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 17:55:44 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 17:55:44 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 17:55:44 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 17:55:44 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$hIxjFzy10vjytUHwSgmWE.sHUlCWw0sL0bBtYoBnQKH4pgqResf6m"], ["created_at", "2017-08-08 14:55:44.529354"], ["updated_at", "2017-08-08 14:55:44.529354"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:55:44 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:55:44.535217"], ["last_sign_in_at", "2017-08-08 14:55:44.535217"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:55:44.535667"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 17:55:44 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.1ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 17:55:44 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
TransactionsControllerTest: test_should_create_transaction
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$zWXvbttCQGIwoiiGlIVlieszXQuDPESMlDPG8onIYit7uwzUFP3Wi"], ["created_at", "2017-08-08 14:55:44.554457"], ["updated_at", "2017-08-08 14:55:44.554457"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:55:44 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:55:44.560068"], ["last_sign_in_at", "2017-08-08 14:55:44.560068"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:55:44.560445"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:55:44.577243"], ["updated_at", "2017-08-08 14:55:44.577243"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
Started POST "/api/transactions" for 127.0.0.1 at 2017-08-08 17:55:44 +0300
Processing by TransactionsController#create as JSON
  Parameters: {"transaction"=>{"ammount"=>"400", "description"=>"test", "made_on_date"=>"2017-08-08", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$Kytms0OV1xhbTY.HgGh9XeLsbY/NpscnIKpRON1ujBLaXpmND1WMW"], ["created_at", "2017-08-08 14:55:44.604970"], ["updated_at", "2017-08-08 14:55:44.604970"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:55:44 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:55:44.610595"], ["last_sign_in_at", "2017-08-08 14:55:44.610595"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:55:44.611018"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:55:44.614978"], ["updated_at", "2017-08-08 14:55:44.614978"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 17:55:44 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:55:44.621254"], ["updated_at", "2017-08-08 14:55:44.621254"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 6ms (Views: 0.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$yhMt99DxwxdzuiO36i7b..KYivr8BCZjq4Nfniy2mAcU.E258/8Ti"], ["created_at", "2017-08-08 14:55:44.633621"], ["updated_at", "2017-08-08 14:55:44.633621"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:55:44 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:55:44.639674"], ["last_sign_in_at", "2017-08-08 14:55:44.639674"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:55:44.640175"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:55:44.644854"], ["updated_at", "2017-08-08 14:55:44.644854"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 17:55:44 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$w8xCH.8w/Rpoa/jnuLkrN.xiPChTgALiSsC/HaywC6eSChJ9yo8OO"], ["created_at", "2017-08-08 14:55:44.658742"], ["updated_at", "2017-08-08 14:55:44.658742"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:55:44 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:55:44.665748"], ["last_sign_in_at", "2017-08-08 14:55:44.665748"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:55:44.666216"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:55:44.675405"], ["updated_at", "2017-08-08 14:55:44.675405"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts/980190963" for 127.0.0.1 at 2017-08-08 17:55:44 +0300
Processing by AccountsController#update as JSON
  Parameters: {"account"=>{"balance"=>"60000"}, "id"=>"980190963"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 60000.0], ["updated_at", "2017-08-08 14:55:44.682614"], ["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 10ms (ActiveRecord: 0.9ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 14:55:53.494161', '2017-08-08 14:55:53.494161', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 14:55:53.494161', '2017-08-08 14:55:53.494161', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 14:55:53.496853', '2017-08-08 14:55:53.496853', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 14:55:53.496853', '2017-08-08 14:55:53.496853', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 14:55:53.498634', '2017-08-08 14:55:53.498634', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 14:55:53.498634', '2017-08-08 14:55:53.498634', 298486374)[0m
  [1m[35m (45.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
TransactionsControllerTest: test_should_create_transaction
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$46dj3AEV0FEKZBvrZ0hJw.GmKsn97dZA5a/W5Lubqwktn1NrXaKPG"], ["created_at", "2017-08-08 14:55:53.642373"], ["updated_at", "2017-08-08 14:55:53.642373"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:55:53 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:55:53.707067"], ["last_sign_in_at", "2017-08-08 14:55:53.707067"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:55:53.708211"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 33ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:55:53.739013"], ["updated_at", "2017-08-08 14:55:53.739013"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
Started POST "/api/transactions" for 127.0.0.1 at 2017-08-08 17:55:53 +0300
Processing by TransactionsController#create as JSON
  Parameters: {"transaction"=>{"ammount"=>"400", "description"=>"test", "made_on_date"=>"2017-08-08", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 17:55:53 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.2ms)
Completed 200 OK in 402ms (Views: 401.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$Ca2xBlhF4Z3pGbUPeLzTnug10ZkCEU30rucJ676LxNw7ULjCTgMfK"], ["created_at", "2017-08-08 14:55:54.180662"], ["updated_at", "2017-08-08 14:55:54.180662"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:55:54 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:55:54.188828"], ["last_sign_in_at", "2017-08-08 14:55:54.188828"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:55:54.189533"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.7ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 17:55:54 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.4ms)
Completed 200 OK in 5ms (Views: 2.4ms | ActiveRecord: 0.2ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 17:55:54 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$VK2TpjnpHLcvNXDLxAkp2.xxZQVJie0IFFCa2b8GZpI95UIHJPx.q"], ["created_at", "2017-08-08 14:55:54.213157"], ["updated_at", "2017-08-08 14:55:54.213157"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:55:54 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:55:54.220696"], ["last_sign_in_at", "2017-08-08 14:55:54.220696"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:55:54.221342"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 17:55:54 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.0ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 17:55:54 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 17:55:54 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$R8B/IdUoJdh1zG6z49tl2.Rf/viP.gmtmrQw/ZB/n4vwd8n3OcHti"], ["created_at", "2017-08-08 14:55:54.245113"], ["updated_at", "2017-08-08 14:55:54.245113"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:55:54 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:55:54.250340"], ["last_sign_in_at", "2017-08-08 14:55:54.250340"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:55:54.250716"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 17:55:54 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 17:55:54 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$3wzIROEUNUyhS6SogjTiz..9P2wlXyVDg.T1xCBhsPNXYfKajKi1."], ["created_at", "2017-08-08 14:55:54.267490"], ["updated_at", "2017-08-08 14:55:54.267490"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:55:54 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:55:54.272779"], ["last_sign_in_at", "2017-08-08 14:55:54.272779"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:55:54.273180"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:55:54.277358"], ["updated_at", "2017-08-08 14:55:54.277358"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 17:55:54 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:55:54.283560"], ["updated_at", "2017-08-08 14:55:54.283560"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 6ms (Views: 0.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$G.2LuKET6UaL3K0tTFQE9uj0RNcQgnbniQJgLcc2vob6SPHcN5Y66"], ["created_at", "2017-08-08 14:55:54.295456"], ["updated_at", "2017-08-08 14:55:54.295456"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:55:54 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:55:54.301556"], ["last_sign_in_at", "2017-08-08 14:55:54.301556"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:55:54.301987"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:55:54.306519"], ["updated_at", "2017-08-08 14:55:54.306519"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 17:55:54 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$GP.N6dpt8oJckvphbiaCxewl1BTxNa3vlRtFHISPcq.hBW.kANFoa"], ["created_at", "2017-08-08 14:55:54.319893"], ["updated_at", "2017-08-08 14:55:54.319893"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:55:54 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:55:54.325253"], ["last_sign_in_at", "2017-08-08 14:55:54.325253"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:55:54.325662"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:55:54.330064"], ["updated_at", "2017-08-08 14:55:54.330064"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts/980190963" for 127.0.0.1 at 2017-08-08 17:55:54 +0300
Processing by AccountsController#update as JSON
  Parameters: {"account"=>{"balance"=>"60000"}, "id"=>"980190963"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 60000.0], ["updated_at", "2017-08-08 14:55:54.335818"], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 6ms (ActiveRecord: 0.5ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 14:56:17.123837', '2017-08-08 14:56:17.123837', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 14:56:17.123837', '2017-08-08 14:56:17.123837', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 14:56:17.126776', '2017-08-08 14:56:17.126776', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 14:56:17.126776', '2017-08-08 14:56:17.126776', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 14:56:17.128390', '2017-08-08 14:56:17.128390', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 14:56:17.128390', '2017-08-08 14:56:17.128390', 298486374)[0m
  [1m[35m (61.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$BGthpCHr3570TEaFRHPKOeIqpqYqsRYgrFwtQh9rdlIxNWU8sg2MS"], ["created_at", "2017-08-08 14:56:17.289037"], ["updated_at", "2017-08-08 14:56:17.289037"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:56:17 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:56:17.342825"], ["last_sign_in_at", "2017-08-08 14:56:17.342825"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:56:17.343286"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 25ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:56:17.371398"], ["updated_at", "2017-08-08 14:56:17.371398"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 17:56:17 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:56:17.378207"], ["updated_at", "2017-08-08 14:56:17.378207"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 7ms (Views: 1.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$289C796U4AqJHA.G9vxqm.mPIkXWX0FGCBhHCovuNRogrMvjIN/6S"], ["created_at", "2017-08-08 14:56:17.390151"], ["updated_at", "2017-08-08 14:56:17.390151"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:56:17 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:56:17.396752"], ["last_sign_in_at", "2017-08-08 14:56:17.396752"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:56:17.397291"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:56:17.401975"], ["updated_at", "2017-08-08 14:56:17.401975"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts/980190963" for 127.0.0.1 at 2017-08-08 17:56:17 +0300
Processing by AccountsController#update as JSON
  Parameters: {"account"=>{"balance"=>"60000"}, "id"=>"980190963"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 60000.0], ["updated_at", "2017-08-08 14:56:17.408139"], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 7ms (ActiveRecord: 0.4ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$qflxrgn55fgCKYpkCoSMmOOOKZ/BJPHH0UiAuiMVB4UO2uCYv.NTO"], ["created_at", "2017-08-08 14:56:17.419265"], ["updated_at", "2017-08-08 14:56:17.419265"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:56:17 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:56:17.424747"], ["last_sign_in_at", "2017-08-08 14:56:17.424747"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:56:17.425178"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:56:17.429280"], ["updated_at", "2017-08-08 14:56:17.429280"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 17:56:17 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
TransactionsControllerTest: test_should_create_transaction
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$1Jm1DeiWS.SyM8j38jf0e.UEQjL4pFNVxR3VkCrfqtTInfBGMiiDK"], ["created_at", "2017-08-08 14:56:17.442632"], ["updated_at", "2017-08-08 14:56:17.442632"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:56:17 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:56:17.448490"], ["last_sign_in_at", "2017-08-08 14:56:17.448490"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:56:17.449223"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:56:17.455340"], ["updated_at", "2017-08-08 14:56:17.455340"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["ammount", 400.0], ["description", "test"], ["made_on_date", "2017-08-08"], ["currency", "USD"], ["account_id", 980190963], ["user_id", 2], ["created_at", "2017-08-08 14:56:17.484358"], ["updated_at", "2017-08-08 14:56:17.484358"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
Started POST "/api/transactions" for 127.0.0.1 at 2017-08-08 17:56:17 +0300
Processing by TransactionsController#create as JSON
  Parameters: {"transaction"=>{"ammount"=>"400", "description"=>"test", "made_on_date"=>"2017-08-08", "currency"=>"USD"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 8ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 17:56:17 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.3ms)
Completed 200 OK in 394ms (Views: 393.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$nyQzGlM2CT1r2TlT9KPiHOHci5QjUkNgAHOIEXKM.skq8DejLubfC"], ["created_at", "2017-08-08 14:56:17.905791"], ["updated_at", "2017-08-08 14:56:17.905791"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:56:17 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:56:17.910828"], ["last_sign_in_at", "2017-08-08 14:56:17.910828"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:56:17.911267"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 17:56:17 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 17:56:17 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 17:56:17 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 18ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$lF34f3Gh83I/J/wTdYKt2ei3sUbwdEP2RtEg5VCFHmmDFs6fXs3D2"], ["created_at", "2017-08-08 14:56:17.955446"], ["updated_at", "2017-08-08 14:56:17.955446"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:56:17 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:56:17.961974"], ["last_sign_in_at", "2017-08-08 14:56:17.961974"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:56:17.962571"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 17:56:17 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.4ms)
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.3ms)
  [1m[35m (2.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 17:56:17 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 17:56:17 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$lSBly0LFF7bBN561U/31v.H.wVwOcvYWHE3KIetqUVhSRtg/msBoK"], ["created_at", "2017-08-08 14:56:17.994706"], ["updated_at", "2017-08-08 14:56:17.994706"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:56:17 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:56:17.999794"], ["last_sign_in_at", "2017-08-08 14:56:17.999794"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:56:18.000190"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 17:56:18 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 14:57:52.136003', '2017-08-08 14:57:52.136003', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 14:57:52.136003', '2017-08-08 14:57:52.136003', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 14:57:52.138643', '2017-08-08 14:57:52.138643', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 14:57:52.138643', '2017-08-08 14:57:52.138643', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 14:57:52.140315', '2017-08-08 14:57:52.140315', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 14:57:52.140315', '2017-08-08 14:57:52.140315', 298486374)[0m
  [1m[35m (187.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 17:57:52 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (4.0ms)
Completed 200 OK in 409ms (Views: 402.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 17:57:52 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.5ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$FXACpwWnDVnuyzFf.Opl4uk/WFoyC0.tfPZ7R.Mlwx9uhuZB2tOLS"], ["created_at", "2017-08-08 14:57:52.878654"], ["updated_at", "2017-08-08 14:57:52.878654"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:57:52 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:57:52.895028"], ["last_sign_in_at", "2017-08-08 14:57:52.895028"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:57:52.895485"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 34ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 17:57:52 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.2ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 17:57:52 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 17:57:52 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$zdXBEcASk.pLy42nYhHcmO68gRwskS6FpdWCBx2B3InPJV2G2RNLy"], ["created_at", "2017-08-08 14:57:52.946103"], ["updated_at", "2017-08-08 14:57:52.946103"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:57:52 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:57:52.951597"], ["last_sign_in_at", "2017-08-08 14:57:52.951597"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:57:52.952033"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 17:57:52 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 17:57:52 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$DlGY2oIVmnCHo2WdhWddSeJB3CsbAsi5vqkyyUUTk9i5Jik88DyoW"], ["created_at", "2017-08-08 14:57:52.968512"], ["updated_at", "2017-08-08 14:57:52.968512"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:57:52 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:57:52.973722"], ["last_sign_in_at", "2017-08-08 14:57:52.973722"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:57:52.974088"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 17:57:52 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$8iNdcFi0rj7/BNCrw2aA8u71Th5AxOkEJG43K/pivpY2SmGB2WMXq"], ["created_at", "2017-08-08 14:57:52.989408"], ["updated_at", "2017-08-08 14:57:52.989408"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:57:52 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:57:52.994640"], ["last_sign_in_at", "2017-08-08 14:57:52.994640"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:57:52.995035"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:57:53.011443"], ["updated_at", "2017-08-08 14:57:53.011443"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 17:57:53 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:57:53.017903"], ["updated_at", "2017-08-08 14:57:53.017903"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 6ms (Views: 0.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$RlUKGQ2x.LQGHsznCFqzN.izLFwaj1DICKQHuhmA5cnZ0rSxvPyiG"], ["created_at", "2017-08-08 14:57:53.030839"], ["updated_at", "2017-08-08 14:57:53.030839"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:57:53 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:57:53.036319"], ["last_sign_in_at", "2017-08-08 14:57:53.036319"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:57:53.036717"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:57:53.040936"], ["updated_at", "2017-08-08 14:57:53.040936"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 17:57:53 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.2ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$uB4.kmqXguYCFxK1g/swKe8fRZy2Z8Fxg/m9TbeAEBEM94RjWvf4a"], ["created_at", "2017-08-08 14:57:53.054525"], ["updated_at", "2017-08-08 14:57:53.054525"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:57:53 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:57:53.061535"], ["last_sign_in_at", "2017-08-08 14:57:53.061535"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:57:53.062106"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:57:53.067811"], ["updated_at", "2017-08-08 14:57:53.067811"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts/980190963" for 127.0.0.1 at 2017-08-08 17:57:53 +0300
Processing by AccountsController#update as JSON
  Parameters: {"account"=>{"balance"=>"60000"}, "id"=>"980190963"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 60000.0], ["updated_at", "2017-08-08 14:57:53.076843"], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 8ms (ActiveRecord: 0.7ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
TransactionsControllerTest: test_should_create_transaction
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$C8wNUZSHQ1XSdfybnAzd8uHdBMbn1Hw9oxQOOSgp1vfreQba8UnAi"], ["created_at", "2017-08-08 14:57:53.088137"], ["updated_at", "2017-08-08 14:57:53.088137"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:57:53 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:57:53.093270"], ["last_sign_in_at", "2017-08-08 14:57:53.093270"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:57:53.093682"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:57:53.097700"], ["updated_at", "2017-08-08 14:57:53.097700"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
Started POST "/api/transactions" for 127.0.0.1 at 2017-08-08 17:57:53 +0300
Processing by TransactionsController#create as JSON
  Parameters: {"ammount"=>"400", "description"=>"test", "made_on_date"=>"2017-08-08", "currency"=>"USD"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 400 Bad Request in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 14:58:11.366451', '2017-08-08 14:58:11.366451', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 14:58:11.366451', '2017-08-08 14:58:11.366451', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 14:58:11.369625', '2017-08-08 14:58:11.369625', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 14:58:11.369625', '2017-08-08 14:58:11.369625', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 14:58:11.371318', '2017-08-08 14:58:11.371318', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 14:58:11.371318', '2017-08-08 14:58:11.371318', 298486374)[0m
  [1m[35m (137.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$LKo.LOSC3i1ZW9rMAflbJuU3L4zwlNkL7KBgM1q4TQRZRCGyCGDUa"], ["created_at", "2017-08-08 14:58:11.632870"], ["updated_at", "2017-08-08 14:58:11.632870"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:58:11 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:58:11.685755"], ["last_sign_in_at", "2017-08-08 14:58:11.685755"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:58:11.686257"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 17:58:11 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.7ms)
Completed 200 OK in 405ms (Views: 403.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 17:58:12 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.6ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 17:58:12 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 17:58:12 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$unMWCrc6pU2KcoTGwRuFeuqpLheI4KfDVoDSLJJ8yDiuUM4EIdAa."], ["created_at", "2017-08-08 14:58:12.133033"], ["updated_at", "2017-08-08 14:58:12.133033"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:58:12 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:58:12.138751"], ["last_sign_in_at", "2017-08-08 14:58:12.138751"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:58:12.139219"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 17:58:12 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 17:58:12 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$4ApR8nydNtLJIu8tQzKgS.CiqqGnATgaoNs70r7bm/bNsPsxxgu2K"], ["created_at", "2017-08-08 14:58:12.158244"], ["updated_at", "2017-08-08 14:58:12.158244"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:58:12 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:58:12.164221"], ["last_sign_in_at", "2017-08-08 14:58:12.164221"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:58:12.164685"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 17:58:12 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 17:58:12 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
TransactionsControllerTest: test_should_create_transaction
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$RPItjNK3iisSnLUg87573eHIf.811ZasK3AAT8iZpBL.DKmFyRlCm"], ["created_at", "2017-08-08 14:58:12.182471"], ["updated_at", "2017-08-08 14:58:12.182471"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:58:12 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:58:12.187315"], ["last_sign_in_at", "2017-08-08 14:58:12.187315"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:58:12.187675"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:58:12.205033"], ["updated_at", "2017-08-08 14:58:12.205033"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
Started POST "/api/transactions" for 127.0.0.1 at 2017-08-08 17:58:12 +0300
Processing by TransactionsController#create as JSON
  Parameters: {"transaction"=>{"ammount"=>"400", "description"=>"test", "made_on_date"=>"2017-08-08", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 13ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$noVO1W4SOqpfFcZpvuFNyuTBl9eZcr70sas8d8LfpVDqAl4qPXOT."], ["created_at", "2017-08-08 14:58:12.231130"], ["updated_at", "2017-08-08 14:58:12.231130"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:58:12 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:58:12.236791"], ["last_sign_in_at", "2017-08-08 14:58:12.236791"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:58:12.237185"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:58:12.241462"], ["updated_at", "2017-08-08 14:58:12.241462"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts/980190963" for 127.0.0.1 at 2017-08-08 17:58:12 +0300
Processing by AccountsController#update as JSON
  Parameters: {"account"=>{"balance"=>"60000"}, "id"=>"980190963"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 60000.0], ["updated_at", "2017-08-08 14:58:12.248879"], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 6ms (ActiveRecord: 0.4ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$L2VEaz31F/hehXHfmH9oDOs5DJ77Z8hMd7MUyLQrP2njzL851coAm"], ["created_at", "2017-08-08 14:58:12.259112"], ["updated_at", "2017-08-08 14:58:12.259112"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:58:12 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:58:12.264933"], ["last_sign_in_at", "2017-08-08 14:58:12.264933"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:58:12.265345"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:58:12.269660"], ["updated_at", "2017-08-08 14:58:12.269660"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 17:58:12 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:58:12.274820"], ["updated_at", "2017-08-08 14:58:12.274820"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 6ms (Views: 1.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$kQ8SiqRzgB2NjFMYL2/ZhuTLTqkJjO9jcOO4IEwicJKBahGoM4jAm"], ["created_at", "2017-08-08 14:58:12.285564"], ["updated_at", "2017-08-08 14:58:12.285564"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 17:58:12 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 14:58:12.290987"], ["last_sign_in_at", "2017-08-08 14:58:12.290987"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 14:58:12.291417"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 14:58:12.296557"], ["updated_at", "2017-08-08 14:58:12.296557"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 17:58:12 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 15:01:32.197723', '2017-08-08 15:01:32.197723', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 15:01:32.197723', '2017-08-08 15:01:32.197723', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 15:01:32.200577', '2017-08-08 15:01:32.200577', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 15:01:32.200577', '2017-08-08 15:01:32.200577', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 15:01:32.202328', '2017-08-08 15:01:32.202328', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 15:01:32.202328', '2017-08-08 15:01:32.202328', 298486374)[0m
  [1m[35m (53.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
TransactionsControllerTest: test_should_create_transaction
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$JevVxZ7EkN/luPZMwvi7ZeC4jTGG0StJmPWpJIOdIfUFw3KW2EGne"], ["created_at", "2017-08-08 15:01:32.347520"], ["updated_at", "2017-08-08 15:01:32.347520"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:01:32 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:01:32.403154"], ["last_sign_in_at", "2017-08-08 15:01:32.403154"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:01:32.403816"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 28ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:01:32.434915"], ["updated_at", "2017-08-08 15:01:32.434915"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
Started POST "/api/transactions" for 127.0.0.1 at 2017-08-08 18:01:32 +0300
Processing by TransactionsController#create as JSON
  Parameters: {"transaction"=>{"ammount"=>"400", "description"=>"test", "made_on_date"=>"2017-08-08", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 23ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$/GF2QrqfpjeXwrjNp/3I2Ou0PjRXB944nd.znEmBGFx/gew6kqJMi"], ["created_at", "2017-08-08 15:01:32.472469"], ["updated_at", "2017-08-08 15:01:32.472469"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:01:32 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:01:32.478010"], ["last_sign_in_at", "2017-08-08 15:01:32.478010"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:01:32.478422"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:01:32.483025"], ["updated_at", "2017-08-08 15:01:32.483025"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts/980190963" for 127.0.0.1 at 2017-08-08 18:01:32 +0300
Processing by AccountsController#update as JSON
  Parameters: {"account"=>{"balance"=>"60000"}, "id"=>"980190963"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 60000.0], ["updated_at", "2017-08-08 15:01:32.491045"], ["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 8ms (ActiveRecord: 0.5ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$97PxBnjzrCPQlaS4At7hZOwQvHsMRcHBlk2gOq24B2nFGOs8LQ1ay"], ["created_at", "2017-08-08 15:01:32.502302"], ["updated_at", "2017-08-08 15:01:32.502302"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:01:32 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:01:32.508547"], ["last_sign_in_at", "2017-08-08 15:01:32.508547"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:01:32.508922"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:01:32.512752"], ["updated_at", "2017-08-08 15:01:32.512752"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 18:01:32 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$r1zYzRLHI9ugYIxnM.rBgu/xf33qeHFj5JoBgx4Iy5s4TOxm9g.C2"], ["created_at", "2017-08-08 15:01:32.525039"], ["updated_at", "2017-08-08 15:01:32.525039"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:01:32 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:01:32.530712"], ["last_sign_in_at", "2017-08-08 15:01:32.530712"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:01:32.531293"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:01:32.535026"], ["updated_at", "2017-08-08 15:01:32.535026"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 18:01:32 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:01:32.539789"], ["updated_at", "2017-08-08 15:01:32.539789"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 6ms (Views: 1.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$Yl4JeBSLqbH4zBSDdduCoOzEgwHHWVFU0E4AHm0luozgjcIbuY3KO"], ["created_at", "2017-08-08 15:01:32.552007"], ["updated_at", "2017-08-08 15:01:32.552007"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:01:32 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:01:32.557906"], ["last_sign_in_at", "2017-08-08 15:01:32.557906"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:01:32.558322"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 18:01:32 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.8ms)
Completed 200 OK in 367ms (Views: 365.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 18:01:32 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (2.1ms)
Completed 200 OK in 8ms (Views: 7.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 18:01:32 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$mv44GTcUk.8s9eeKUQ1AlORJhXk.a7Xf0/r8XbgZk8sziujPdDNWy"], ["created_at", "2017-08-08 15:01:32.975889"], ["updated_at", "2017-08-08 15:01:32.975889"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:01:32 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:01:32.984496"], ["last_sign_in_at", "2017-08-08 15:01:32.984496"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:01:32.985023"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 18:01:32 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (1.1ms)
Completed 200 OK in 8ms (Views: 5.3ms | ActiveRecord: 0.2ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 18:01:33 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 18:01:33 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$EM/fmikuCNsFYeOqgFI4uu0ZwMMF84hADR.pdzUar4ZlMLK25Jdi."], ["created_at", "2017-08-08 15:01:33.021627"], ["updated_at", "2017-08-08 15:01:33.021627"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:01:33 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:01:33.029046"], ["last_sign_in_at", "2017-08-08 15:01:33.029046"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:01:33.029491"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 18:01:33 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 302 Found in 4ms (Views: 3.3ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 18:01:33 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 15:03:33.180310', '2017-08-08 15:03:33.180310', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 15:03:33.180310', '2017-08-08 15:03:33.180310', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 15:03:33.184405', '2017-08-08 15:03:33.184405', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 15:03:33.184405', '2017-08-08 15:03:33.184405', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 15:03:33.190567', '2017-08-08 15:03:33.190567', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 15:03:33.190567', '2017-08-08 15:03:33.190567', 298486374)[0m
  [1m[35m (134.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
TransactionsControllerTest: test_should_create_transaction
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$tgSK7jYLxtlbGAuGbOBCI.eN5a9zgYVqnDF7SzRZZSw1GqXdxAQ5S"], ["created_at", "2017-08-08 15:03:33.442263"], ["updated_at", "2017-08-08 15:03:33.442263"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:03:33 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:03:33.513258"], ["last_sign_in_at", "2017-08-08 15:03:33.513258"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:03:33.513854"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 27ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:03:33.546108"], ["updated_at", "2017-08-08 15:03:33.546108"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
Started POST "/api/transactions" for 127.0.0.1 at 2017-08-08 18:03:33 +0300
Processing by TransactionsController#create as JSON
  Parameters: {"transaction"=>{"ammount"=>"400", "description"=>"test", "made_on_date"=>"2017-08-08", "account_id"=>"2", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 18ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 18:03:33 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.2ms)
Completed 200 OK in 469ms (Views: 468.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$tZKKf5gjXfNrX83L5QQOUOhZb.LjNuodFDFtijsPlsuBGOivgG846"], ["created_at", "2017-08-08 15:03:34.061373"], ["updated_at", "2017-08-08 15:03:34.061373"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:03:34 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.6ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:03:34.074205"], ["last_sign_in_at", "2017-08-08 15:03:34.074205"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:03:34.077446"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 15ms (ActiveRecord: 2.0ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 18:03:34 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.5ms)
Completed 200 OK in 6ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 18:03:34 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$5rFq7MzOYWCTcObcravTmOKzkelWa/I0W3co1A7RSKD7Co9Ejdzy6"], ["created_at", "2017-08-08 15:03:34.117504"], ["updated_at", "2017-08-08 15:03:34.117504"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:03:34 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:03:34.124941"], ["last_sign_in_at", "2017-08-08 15:03:34.124941"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:03:34.125539"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 18:03:34 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 18:03:34 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 18:03:34 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 3ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$02apUOnoYqpJlgs7txORvuahzeYKOnz15fda3aFy5XTHCfC4nuLRG"], ["created_at", "2017-08-08 15:03:34.153486"], ["updated_at", "2017-08-08 15:03:34.153486"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:03:34 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:03:34.160118"], ["last_sign_in_at", "2017-08-08 15:03:34.160118"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:03:34.160745"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 18:03:34 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 302 Found in 4ms (Views: 2.8ms | ActiveRecord: 0.3ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 18:03:34 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 0.3ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$0d1addJmH0GBiErZfuH33.D6NGxlMcyr2rP5Ng7YNAIynLtCz.w92"], ["created_at", "2017-08-08 15:03:34.191032"], ["updated_at", "2017-08-08 15:03:34.191032"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:03:34 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:03:34.196659"], ["last_sign_in_at", "2017-08-08 15:03:34.196659"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:03:34.197097"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:03:34.201541"], ["updated_at", "2017-08-08 15:03:34.201541"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 18:03:34 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$YxP6brqBSnr/As43BGN5vOd61CAOyjMfg4LejOkwvDiX.RflIeSba"], ["created_at", "2017-08-08 15:03:34.217667"], ["updated_at", "2017-08-08 15:03:34.217667"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:03:34 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:03:34.223497"], ["last_sign_in_at", "2017-08-08 15:03:34.223497"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:03:34.224009"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:03:34.228251"], ["updated_at", "2017-08-08 15:03:34.228251"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 18:03:34 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:03:34.233873"], ["updated_at", "2017-08-08 15:03:34.233873"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 6ms (Views: 0.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$DL6xSRuliUzZQyUMvoqdlO/rDsQKqqg67o47zfJVTIo/veBQx.Pk2"], ["created_at", "2017-08-08 15:03:34.245823"], ["updated_at", "2017-08-08 15:03:34.245823"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:03:34 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:03:34.252201"], ["last_sign_in_at", "2017-08-08 15:03:34.252201"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:03:34.252745"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:03:34.259144"], ["updated_at", "2017-08-08 15:03:34.259144"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts/980190963" for 127.0.0.1 at 2017-08-08 18:03:34 +0300
Processing by AccountsController#update as JSON
  Parameters: {"account"=>{"balance"=>"60000"}, "id"=>"980190963"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 60000.0], ["updated_at", "2017-08-08 15:03:34.265678"], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 6ms (ActiveRecord: 0.5ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 15:03:53.115797', '2017-08-08 15:03:53.115797', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 15:03:53.115797', '2017-08-08 15:03:53.115797', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 15:03:53.119315', '2017-08-08 15:03:53.119315', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 15:03:53.119315', '2017-08-08 15:03:53.119315', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 15:03:53.121167', '2017-08-08 15:03:53.121167', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 15:03:53.121167', '2017-08-08 15:03:53.121167', 298486374)[0m
  [1m[35m (53.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 18:03:53 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.7ms)
Completed 200 OK in 400ms (Views: 391.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$bI1hfH.hr6EFb84iCmVa9.ArMBP6FnLdOyyabV5gqg3RkjIXGUOzq"], ["created_at", "2017-08-08 15:03:53.707274"], ["updated_at", "2017-08-08 15:03:53.707274"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:03:53 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:03:53.724367"], ["last_sign_in_at", "2017-08-08 15:03:53.724367"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:03:53.724835"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 19ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 18:03:53 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 302 Found in 3ms (Views: 2.6ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 18:03:53 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$.Qu/vpd7jcwMzVH5O2VBV.rpsF00lr5H.tMG.WCEkKNfrSJK3fFgS"], ["created_at", "2017-08-08 15:03:53.764660"], ["updated_at", "2017-08-08 15:03:53.764660"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:03:53 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:03:53.769771"], ["last_sign_in_at", "2017-08-08 15:03:53.769771"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:03:53.770150"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 18:03:53 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 18:03:53 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 18:03:53 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 18:03:53 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$O1ifHH97iROl1aMpnc0mNuI8v9Zd4K0msGiezF8HgXePMXXj0yyHO"], ["created_at", "2017-08-08 15:03:53.799797"], ["updated_at", "2017-08-08 15:03:53.799797"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:03:53 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:03:53.805184"], ["last_sign_in_at", "2017-08-08 15:03:53.805184"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:03:53.805621"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 18:03:53 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
TransactionsControllerTest: test_should_create_transaction
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$50kbqNt3Czy9yflEerYvDOvlg.9B6Tt.NJI83CR2PdaEqTfO4Mj6S"], ["created_at", "2017-08-08 15:03:53.819986"], ["updated_at", "2017-08-08 15:03:53.819986"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:03:53 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:03:53.825710"], ["last_sign_in_at", "2017-08-08 15:03:53.825710"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:03:53.826265"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:03:53.845885"], ["updated_at", "2017-08-08 15:03:53.845885"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
Started POST "/api/transactions" for 127.0.0.1 at 2017-08-08 18:03:53 +0300
Processing by TransactionsController#create as JSON
  Parameters: {"transaction"=>{"ammount"=>"400", "description"=>"test", "made_on_date"=>"2017-08-08", "account_id"=>"980190963", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["ammount", 400.0], ["description", "test"], ["made_on_date", "2017-08-08"], ["currency", "USD"], ["account_id", 980190963], ["user_id", 2], ["created_at", "2017-08-08 15:03:53.863603"], ["updated_at", "2017-08-08 15:03:53.863603"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 17ms (Views: 1.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$651TRnhRe53eeG8TSOMPjO//8h8yh/5ZRBMVcwlw5QJI2VYuBUpi."], ["created_at", "2017-08-08 15:03:53.875375"], ["updated_at", "2017-08-08 15:03:53.875375"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:03:53 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:03:53.881711"], ["last_sign_in_at", "2017-08-08 15:03:53.881711"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:03:53.882283"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:03:53.887064"], ["updated_at", "2017-08-08 15:03:53.887064"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 18:03:53 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 5ms (Views: 0.9ms | ActiveRecord: 0.3ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$wZMsLTMfNpftPk9w7/yBuOzjqPRXfDkpvxARwjaDVINtoZuHdXzS."], ["created_at", "2017-08-08 15:03:53.903552"], ["updated_at", "2017-08-08 15:03:53.903552"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:03:53 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:03:53.909246"], ["last_sign_in_at", "2017-08-08 15:03:53.909246"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:03:53.909726"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:03:53.914141"], ["updated_at", "2017-08-08 15:03:53.914141"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts/980190963" for 127.0.0.1 at 2017-08-08 18:03:53 +0300
Processing by AccountsController#update as JSON
  Parameters: {"account"=>{"balance"=>"60000"}, "id"=>"980190963"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 60000.0], ["updated_at", "2017-08-08 15:03:53.919258"], ["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 5ms (ActiveRecord: 0.4ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$dwI/F8qo0dI02mwAVYmZeOsBWLAMWT6GsMlyOTLHEdnmm9DbwfcA6"], ["created_at", "2017-08-08 15:03:53.929584"], ["updated_at", "2017-08-08 15:03:53.929584"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:03:53 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:03:53.936304"], ["last_sign_in_at", "2017-08-08 15:03:53.936304"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:03:53.936752"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:03:53.941180"], ["updated_at", "2017-08-08 15:03:53.941180"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 18:03:53 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:03:53.946043"], ["updated_at", "2017-08-08 15:03:53.946043"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 5ms (Views: 0.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 15:05:35.152574', '2017-08-08 15:05:35.152574', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 15:05:35.152574', '2017-08-08 15:05:35.152574', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 15:05:35.155472', '2017-08-08 15:05:35.155472', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 15:05:35.155472', '2017-08-08 15:05:35.155472', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 15:05:35.157113', '2017-08-08 15:05:35.157113', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 15:05:35.157113', '2017-08-08 15:05:35.157113', 298486374)[0m
  [1m[35m (328.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
TransactionsControllerTest: test_should_create_transaction
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$5eQX3NbFDU7yumnLj/qkpeaTFF8IIi0dL09MxmvzNtVfctc/ZUCzi"], ["created_at", "2017-08-08 15:05:35.576200"], ["updated_at", "2017-08-08 15:05:35.576200"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:05:35 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:05:35.641212"], ["last_sign_in_at", "2017-08-08 15:05:35.641212"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:05:35.641778"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:05:35.672010"], ["updated_at", "2017-08-08 15:05:35.672010"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
Started POST "/api/transactions" for 127.0.0.1 at 2017-08-08 18:05:35 +0300
Processing by TransactionsController#create as JSON
  Parameters: {"transaction"=>{"ammount"=>"400", "description"=>"test", "made_on_date"=>"2017-08-08", "account_id"=>"980190963", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["ammount", 400.0], ["description", "test"], ["made_on_date", "2017-08-08"], ["currency", "USD"], ["account_id", 980190963], ["user_id", 2], ["created_at", "2017-08-08 15:05:35.703316"], ["updated_at", "2017-08-08 15:05:35.703316"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 26ms (Views: 1.7ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
TransactionsControllerTest: test_should_get_only_user's_transactions
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$8FAfkuCx2Ia1Dh47eR5asuhEeKXwcLJOCaJvxKCMXrqUiA15VB38G"], ["created_at", "2017-08-08 15:05:35.715780"], ["updated_at", "2017-08-08 15:05:35.715780"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:05:35 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:05:35.721203"], ["last_sign_in_at", "2017-08-08 15:05:35.721203"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:05:35.721601"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:05:35.726610"], ["updated_at", "2017-08-08 15:05:35.726610"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/transactions" for 127.0.0.1 at 2017-08-08 18:05:35 +0300
Processing by TransactionsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$lJUQfYHBB2fevnWM/eVKbOk62f3352so66Orllo4dw2YqWcARQ3y."], ["created_at", "2017-08-08 15:05:35.739468"], ["updated_at", "2017-08-08 15:05:35.739468"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:05:35 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:05:35.745338"], ["last_sign_in_at", "2017-08-08 15:05:35.745338"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:05:35.745830"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:05:35.749852"], ["updated_at", "2017-08-08 15:05:35.749852"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts/980190963" for 127.0.0.1 at 2017-08-08 18:05:35 +0300
Processing by AccountsController#update as JSON
  Parameters: {"account"=>{"balance"=>"60000"}, "id"=>"980190963"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 60000.0], ["updated_at", "2017-08-08 15:05:35.756700"], ["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 6ms (ActiveRecord: 0.5ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$Hmw95WWlPZwyQ5iWxNemweAUz0LltEYNnulhccawwlXgYVZgd1ReK"], ["created_at", "2017-08-08 15:05:35.767554"], ["updated_at", "2017-08-08 15:05:35.767554"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:05:35 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:05:35.773683"], ["last_sign_in_at", "2017-08-08 15:05:35.773683"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:05:35.774133"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:05:35.778419"], ["updated_at", "2017-08-08 15:05:35.778419"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 18:05:35 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:05:35.783568"], ["updated_at", "2017-08-08 15:05:35.783568"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 5ms (Views: 0.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$M1B8BG/qIOQcyzLTQccpluHxISYzNX6QcYjouamH8UQ13R3n52.Eq"], ["created_at", "2017-08-08 15:05:35.794120"], ["updated_at", "2017-08-08 15:05:35.794120"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:05:35 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:05:35.800351"], ["last_sign_in_at", "2017-08-08 15:05:35.800351"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:05:35.800842"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:05:35.805769"], ["updated_at", "2017-08-08 15:05:35.805769"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 18:05:35 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 0.3ms)
  [1m[35m (1.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 18:05:35 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 200 OK in 420ms (Views: 419.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 18:05:36 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 18:05:36 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$y60d1pT/gA0nOJuAml0r5uulkUV5bnH5QDnhELGVGSqyucvpDmHiq"], ["created_at", "2017-08-08 15:05:36.261157"], ["updated_at", "2017-08-08 15:05:36.261157"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:05:36 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:05:36.266946"], ["last_sign_in_at", "2017-08-08 15:05:36.266946"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:05:36.267324"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 18:05:36 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.6ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 18:05:36 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 18:05:36 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$UJ6U8cMnxwjUcagYd0bdz.cxaZhY6ciGo0gFdB9qPInDVD9TRoxWS"], ["created_at", "2017-08-08 15:05:36.291689"], ["updated_at", "2017-08-08 15:05:36.291689"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:05:36 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:05:36.297121"], ["last_sign_in_at", "2017-08-08 15:05:36.297121"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:05:36.297663"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 18:05:36 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.4ms)
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$0mLeaO6EQipVUohq3HmZN.fnM99hN7XoST61XjNBpjgbxCDQJWetm"], ["created_at", "2017-08-08 15:05:36.313237"], ["updated_at", "2017-08-08 15:05:36.313237"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:05:36 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:05:36.325457"], ["last_sign_in_at", "2017-08-08 15:05:36.325457"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:05:36.325827"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 18:05:36 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 15:05:47.777948', '2017-08-08 15:05:47.777948', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 15:05:47.777948', '2017-08-08 15:05:47.777948', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 15:05:47.781005', '2017-08-08 15:05:47.781005', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 15:05:47.781005', '2017-08-08 15:05:47.781005', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 15:05:47.782662', '2017-08-08 15:05:47.782662', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 15:05:47.782662', '2017-08-08 15:05:47.782662', 298486374)[0m
  [1m[35m (69.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$aKosObZhmrhnFEfSic01s.zYbh.T6UQnumMqwxPXT.od24aOztYvK"], ["created_at", "2017-08-08 15:05:47.963389"], ["updated_at", "2017-08-08 15:05:47.963389"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:05:47 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:05:48.020906"], ["last_sign_in_at", "2017-08-08 15:05:48.020906"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:05:48.021408"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 25ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:05:48.050885"], ["updated_at", "2017-08-08 15:05:48.050885"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 18:05:48 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:05:48.058342"], ["updated_at", "2017-08-08 15:05:48.058342"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 8ms (Views: 2.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$A1XRyGy98UbFqpDxRMj.c./Bgt7ZH//sm96RuPfK2JFoYuLgCgLFW"], ["created_at", "2017-08-08 15:05:48.071394"], ["updated_at", "2017-08-08 15:05:48.071394"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:05:48 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:05:48.076709"], ["last_sign_in_at", "2017-08-08 15:05:48.076709"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:05:48.077130"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:05:48.081880"], ["updated_at", "2017-08-08 15:05:48.081880"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 18:05:48 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$Fc1k/nFvvQFR0d9p7WHVBeqLhMGwCIf5dwDX78xVrlQA8/9kt3rhC"], ["created_at", "2017-08-08 15:05:48.094706"], ["updated_at", "2017-08-08 15:05:48.094706"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:05:48 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:05:48.099929"], ["last_sign_in_at", "2017-08-08 15:05:48.099929"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:05:48.100341"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:05:48.104034"], ["updated_at", "2017-08-08 15:05:48.104034"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts/980190963" for 127.0.0.1 at 2017-08-08 18:05:48 +0300
Processing by AccountsController#update as JSON
  Parameters: {"account"=>{"balance"=>"60000"}, "id"=>"980190963"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 60000.0], ["updated_at", "2017-08-08 15:05:48.109763"], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 6ms (ActiveRecord: 0.5ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
TransactionsControllerTest: test_should_create_transaction
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$KosJyfTgMZ0775m/YiVyZeyXjcmb2pxXKHi31g.dDqWsutE6B5Woy"], ["created_at", "2017-08-08 15:05:48.120310"], ["updated_at", "2017-08-08 15:05:48.120310"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:05:48 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:05:48.125602"], ["last_sign_in_at", "2017-08-08 15:05:48.125602"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:05:48.126081"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:05:48.130093"], ["updated_at", "2017-08-08 15:05:48.130093"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
Started POST "/api/transactions" for 127.0.0.1 at 2017-08-08 18:05:48 +0300
Processing by TransactionsController#create as JSON
  Parameters: {"transaction"=>{"ammount"=>"400", "description"=>"test", "made_on_date"=>"2017-08-08", "account_id"=>"980190963", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["ammount", 400.0], ["description", "test"], ["made_on_date", "2017-08-08"], ["currency", "USD"], ["account_id", 980190963], ["user_id", 2], ["created_at", "2017-08-08 15:05:48.145819"], ["updated_at", "2017-08-08 15:05:48.145819"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 15ms (Views: 0.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
TransactionsControllerTest: test_should_get_only_user's_transactions
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$R7ZvE.ZbZ6woqg/MxaxTz.KtT7Lh4cog/0kNF.MKBrdP3r/9lBVNK"], ["created_at", "2017-08-08 15:05:48.156977"], ["updated_at", "2017-08-08 15:05:48.156977"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:05:48 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:05:48.162875"], ["last_sign_in_at", "2017-08-08 15:05:48.162875"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:05:48.163262"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:05:48.167618"], ["updated_at", "2017-08-08 15:05:48.167618"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/transactions" for 127.0.0.1 at 2017-08-08 18:05:48 +0300
Processing by TransactionsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 18:05:48 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 18:05:48 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 18:05:48 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.9ms)
Completed 200 OK in 414ms (Views: 412.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$nBL63geTDf0Vx52Kp62psOvvRySm4rkUemNPifsnpKp4Q1glJfQ4O"], ["created_at", "2017-08-08 15:05:48.613281"], ["updated_at", "2017-08-08 15:05:48.613281"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:05:48 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:05:48.618489"], ["last_sign_in_at", "2017-08-08 15:05:48.618489"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:05:48.618868"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 18:05:48 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 18:05:48 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$VHRhJrVROLiptIU7B8Pve.3GdUITwP0eAMT/dLYJgND3pSRSeQydS"], ["created_at", "2017-08-08 15:05:48.635437"], ["updated_at", "2017-08-08 15:05:48.635437"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:05:48 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:05:48.642059"], ["last_sign_in_at", "2017-08-08 15:05:48.642059"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:05:48.642454"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 18:05:48 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.5ms | ActiveRecord: 0.1ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 18:05:48 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$YF/Fy7HDTsXxH/Ne6YevhOwm1NTzPOum3xWb8wLkx.aklMDWUIbdm"], ["created_at", "2017-08-08 15:05:48.661726"], ["updated_at", "2017-08-08 15:05:48.661726"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:05:48 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:05:48.666988"], ["last_sign_in_at", "2017-08-08 15:05:48.666988"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:05:48.667424"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 27ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 18:05:48 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.4ms)
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 0.3ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 15:05:56.738349', '2017-08-08 15:05:56.738349', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 15:05:56.738349', '2017-08-08 15:05:56.738349', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 15:05:56.741254', '2017-08-08 15:05:56.741254', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 15:05:56.741254', '2017-08-08 15:05:56.741254', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 15:05:56.742893', '2017-08-08 15:05:56.742893', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 15:05:56.742893', '2017-08-08 15:05:56.742893', 298486374)[0m
  [1m[35m (55.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
TransactionsControllerTest: test_should_create_transaction
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$i.z.z6yOXfVw7FcmnjZubOw9vRVjEADtvUjeEF2tJlpFgtF9twoIC"], ["created_at", "2017-08-08 15:05:56.890702"], ["updated_at", "2017-08-08 15:05:56.890702"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:05:56 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:05:56.948460"], ["last_sign_in_at", "2017-08-08 15:05:56.948460"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:05:56.949314"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 37ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:05:56.986879"], ["updated_at", "2017-08-08 15:05:56.986879"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
Started POST "/api/transactions" for 127.0.0.1 at 2017-08-08 18:05:56 +0300
Processing by TransactionsController#create as JSON
  Parameters: {"transaction"=>{"ammount"=>"400", "description"=>"test", "made_on_date"=>"2017-08-08", "account_id"=>"980190963", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["ammount", 400.0], ["description", "test"], ["made_on_date", "2017-08-08"], ["currency", "USD"], ["account_id", 980190963], ["user_id", 2], ["created_at", "2017-08-08 15:05:57.014576"], ["updated_at", "2017-08-08 15:05:57.014576"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 27ms (Views: 1.6ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
TransactionsControllerTest: test_should_get_only_user's_transactions
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$JoQkB1fSzD.TJpHkLzoj6OPe7/M6NRq8eTVajmjRurhvUh9Kd7YkW"], ["created_at", "2017-08-08 15:05:57.026716"], ["updated_at", "2017-08-08 15:05:57.026716"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:05:57 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:05:57.031838"], ["last_sign_in_at", "2017-08-08 15:05:57.031838"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:05:57.032250"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:05:57.036758"], ["updated_at", "2017-08-08 15:05:57.036758"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/transactions" for 127.0.0.1 at 2017-08-08 18:05:57 +0300
Processing by TransactionsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Load (0.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$Uy/vkj/ZAx2r4HzvgzmEf.la9z9IdZUyY/1PjZYMjOJMmF2ct/RNW"], ["created_at", "2017-08-08 15:05:57.049437"], ["updated_at", "2017-08-08 15:05:57.049437"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:05:57 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:05:57.055191"], ["last_sign_in_at", "2017-08-08 15:05:57.055191"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:05:57.055583"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 18:05:57 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.7ms)
Completed 200 OK in 415ms (Views: 413.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 18:05:57 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 18:05:57 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$CSDF2dorSfXNol/d22TwKuO0YA1V9mkoGHadM6A8BvZIixGyq0HCW"], ["created_at", "2017-08-08 15:05:57.490949"], ["updated_at", "2017-08-08 15:05:57.490949"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:05:57 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:05:57.497732"], ["last_sign_in_at", "2017-08-08 15:05:57.497732"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:05:57.498381"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 18:05:57 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 22ms (Views: 20.4ms | ActiveRecord: 0.1ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 18:05:57 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$Y231Dfwg.sstEoBj4pW/I.aAOGGCoAiCvHsM4m6pSNMvZRfPtcAjq"], ["created_at", "2017-08-08 15:05:57.536002"], ["updated_at", "2017-08-08 15:05:57.536002"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:05:57 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:05:57.541890"], ["last_sign_in_at", "2017-08-08 15:05:57.541890"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:05:57.542330"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 18:05:57 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.3ms)
Completed 302 Found in 3ms (Views: 2.5ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 18:05:57 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 18:05:57 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$UStFaskERY/9LJdovMFZt..mxNe9.c2UmgnVO5C6bNQMPdOSJKoae"], ["created_at", "2017-08-08 15:05:57.566949"], ["updated_at", "2017-08-08 15:05:57.566949"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:05:57 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:05:57.572822"], ["last_sign_in_at", "2017-08-08 15:05:57.572822"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:05:57.573299"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:05:57.577990"], ["updated_at", "2017-08-08 15:05:57.577990"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 18:05:57 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 1.0ms | ActiveRecord: 0.3ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$2SZgINp3SgvQEhQFxbLsgeLSRWQBh2xsvcrDfFkxVA3LbGfSkV1bm"], ["created_at", "2017-08-08 15:05:57.593573"], ["updated_at", "2017-08-08 15:05:57.593573"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:05:57 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:05:57.599423"], ["last_sign_in_at", "2017-08-08 15:05:57.599423"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:05:57.599900"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:05:57.604240"], ["updated_at", "2017-08-08 15:05:57.604240"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts/980190963" for 127.0.0.1 at 2017-08-08 18:05:57 +0300
Processing by AccountsController#update as JSON
  Parameters: {"account"=>{"balance"=>"60000"}, "id"=>"980190963"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 60000.0], ["updated_at", "2017-08-08 15:05:57.609221"], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 5ms (ActiveRecord: 0.4ms)
  [1m[36mAccount Load (0.0ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$mKJK9uBM4Z0XmuI4FAfepO6L9R3u7zr6nL//r1IGyTilcKvD2kaji"], ["created_at", "2017-08-08 15:05:57.619561"], ["updated_at", "2017-08-08 15:05:57.619561"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:05:57 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:05:57.625324"], ["last_sign_in_at", "2017-08-08 15:05:57.625324"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:05:57.625768"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:05:57.629726"], ["updated_at", "2017-08-08 15:05:57.629726"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 18:05:57 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:05:57.634931"], ["updated_at", "2017-08-08 15:05:57.634931"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 5ms (Views: 0.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 15:07:12.762963', '2017-08-08 15:07:12.762963', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 15:07:12.762963', '2017-08-08 15:07:12.762963', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 15:07:12.766317', '2017-08-08 15:07:12.766317', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 15:07:12.766317', '2017-08-08 15:07:12.766317', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 15:07:12.769316', '2017-08-08 15:07:12.769316', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 15:07:12.769316', '2017-08-08 15:07:12.769316', 298486374)[0m
  [1m[35m (177.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.7ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
TransactionsControllerTest: test_should_create_transaction
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$ayhy7QqDqTOEVUyos.lfvub45ZvA8n0ArJuV/EZDG21KSpukPnVte"], ["created_at", "2017-08-08 15:07:13.066288"], ["updated_at", "2017-08-08 15:07:13.066288"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:07:13 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:07:13.121457"], ["last_sign_in_at", "2017-08-08 15:07:13.121457"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:07:13.121960"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 25ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:07:13.151299"], ["updated_at", "2017-08-08 15:07:13.151299"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
TransactionsControllerTest: test_should_get_only_user's_transactions
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$04gCQlYSwInXyrLR.1xq.e.EepCOJ2QfVffQNVhXno/4.jNy/PEAa"], ["created_at", "2017-08-08 15:07:13.170119"], ["updated_at", "2017-08-08 15:07:13.170119"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:07:13 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:07:13.175617"], ["last_sign_in_at", "2017-08-08 15:07:13.175617"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:07:13.176079"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:07:13.180241"], ["updated_at", "2017-08-08 15:07:13.180241"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$99cZ6k5.7EFo4xK8sjr7KOTJYvM44Ts2HbQQlQzF2qPtuvR2jjx/G"], ["created_at", "2017-08-08 15:07:13.198999"], ["updated_at", "2017-08-08 15:07:13.198999"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:07:13 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:07:13.204319"], ["last_sign_in_at", "2017-08-08 15:07:13.204319"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:07:13.204762"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:07:13.208848"], ["updated_at", "2017-08-08 15:07:13.208848"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 18:07:13 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:07:13.215854"], ["updated_at", "2017-08-08 15:07:13.215854"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 8ms (Views: 1.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$NxqLd1TWlulFMuFB6iBa2.7qi8UWAYBfCKaoHLO4ynyBo3IVr0KAu"], ["created_at", "2017-08-08 15:07:13.228298"], ["updated_at", "2017-08-08 15:07:13.228298"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:07:13 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:07:13.233844"], ["last_sign_in_at", "2017-08-08 15:07:13.233844"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:07:13.234279"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:07:13.238875"], ["updated_at", "2017-08-08 15:07:13.238875"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts/980190963" for 127.0.0.1 at 2017-08-08 18:07:13 +0300
Processing by AccountsController#update as JSON
  Parameters: {"account"=>{"balance"=>"60000"}, "id"=>"980190963"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 60000.0], ["updated_at", "2017-08-08 15:07:13.244823"], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 7ms (ActiveRecord: 0.4ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$u7/bbOs5mkqZbxByqDy49ehH08RqDVBCNfG7ksUX3CRN8.l45Y/C."], ["created_at", "2017-08-08 15:07:13.255591"], ["updated_at", "2017-08-08 15:07:13.255591"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:07:13 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:07:13.261228"], ["last_sign_in_at", "2017-08-08 15:07:13.261228"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:07:13.261646"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:07:13.266206"], ["updated_at", "2017-08-08 15:07:13.266206"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 18:07:13 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 8ms (Views: 1.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 18:07:13 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 18:07:13 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (1.3ms)
Completed 200 OK in 408ms (Views: 407.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$w96krBcxDDiPQvQmZ1rnreezmNGZ5c6VfVDW4aQlo7xg7mc09EJ7a"], ["created_at", "2017-08-08 15:07:13.714173"], ["updated_at", "2017-08-08 15:07:13.714173"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:07:13 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:07:13.719874"], ["last_sign_in_at", "2017-08-08 15:07:13.719874"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:07:13.720300"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 18:07:13 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.2ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$mjVBFLoCDQpjIkp1TY9uu.rIJAbKz5mVc2pCMcEYpOw49KZ0wgjqu"], ["created_at", "2017-08-08 15:07:13.734968"], ["updated_at", "2017-08-08 15:07:13.734968"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:07:13 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:07:13.740789"], ["last_sign_in_at", "2017-08-08 15:07:13.740789"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:07:13.741317"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 18:07:13 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.4ms)
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 18:07:13 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 18:07:13 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 9ms (Views: 8.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$hJhKIb52Inv4Ivn46cANee0CAbne/7Cd6BMDgGHi80YlcKKDKOV7."], ["created_at", "2017-08-08 15:07:13.772746"], ["updated_at", "2017-08-08 15:07:13.772746"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:07:13 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:07:13.779003"], ["last_sign_in_at", "2017-08-08 15:07:13.779003"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:07:13.779387"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 18:07:13 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.2ms)
Completed 302 Found in 3ms (Views: 2.6ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 18:07:13 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 15:07:21.677456', '2017-08-08 15:07:21.677456', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 15:07:21.677456', '2017-08-08 15:07:21.677456', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 15:07:21.680559', '2017-08-08 15:07:21.680559', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 15:07:21.680559', '2017-08-08 15:07:21.680559', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 15:07:21.682200', '2017-08-08 15:07:21.682200', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 15:07:21.682200', '2017-08-08 15:07:21.682200', 298486374)[0m
  [1m[35m (202.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
TransactionsControllerTest: test_should_get_only_user's_transactions
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$rNrKGLpbcw9gIqUoUz6IgOO68NaEWuqhit03skreowQ5yDGeN88uq"], ["created_at", "2017-08-08 15:07:21.982374"], ["updated_at", "2017-08-08 15:07:21.982374"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:07:21 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:07:22.046138"], ["last_sign_in_at", "2017-08-08 15:07:22.046138"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:07:22.046837"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 33ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:07:22.076716"], ["updated_at", "2017-08-08 15:07:22.076716"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["ammount", 400.0], ["description", "test"], ["made_on_date", "2017-08-08"], ["currency", "USD"], ["account_id", 980190963], ["user_id", 2], ["created_at", "2017-08-08 15:07:22.090366"], ["updated_at", "2017-08-08 15:07:22.090366"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/transactions" for 127.0.0.1 at 2017-08-08 18:07:22 +0300
Processing by TransactionsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Load (0.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
TransactionsControllerTest: test_should_create_transaction
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$6A98FXIBSahr56mLg6mm5edT.eMhmTqV55BTlD09FVPg.bpqFOE1W"], ["created_at", "2017-08-08 15:07:22.106860"], ["updated_at", "2017-08-08 15:07:22.106860"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:07:22 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:07:22.113988"], ["last_sign_in_at", "2017-08-08 15:07:22.113988"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:07:22.114547"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:07:22.118731"], ["updated_at", "2017-08-08 15:07:22.118731"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["ammount", 400.0], ["description", "test"], ["made_on_date", "2017-08-08"], ["currency", "USD"], ["account_id", 980190963], ["user_id", 2], ["created_at", "2017-08-08 15:07:22.121676"], ["updated_at", "2017-08-08 15:07:22.121676"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
Started POST "/api/transactions" for 127.0.0.1 at 2017-08-08 18:07:22 +0300
Processing by TransactionsController#create as JSON
  Parameters: {"transaction"=>{"ammount"=>"400", "description"=>"test", "made_on_date"=>"2017-08-08", "account_id"=>"980190963", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["ammount", 400.0], ["description", "test"], ["made_on_date", "2017-08-08"], ["currency", "USD"], ["account_id", 980190963], ["user_id", 2], ["created_at", "2017-08-08 15:07:22.128886"], ["updated_at", "2017-08-08 15:07:22.128886"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 9ms (Views: 1.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$s8pPEmBxqvFT.lRN3arCRu9JHvfX7u1MxUC1NE2wpiiY66Vf7hWP."], ["created_at", "2017-08-08 15:07:22.141161"], ["updated_at", "2017-08-08 15:07:22.141161"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:07:22 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:07:22.147837"], ["last_sign_in_at", "2017-08-08 15:07:22.147837"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:07:22.148292"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:07:22.152661"], ["updated_at", "2017-08-08 15:07:22.152661"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts/980190963" for 127.0.0.1 at 2017-08-08 18:07:22 +0300
Processing by AccountsController#update as JSON
  Parameters: {"account"=>{"balance"=>"60000"}, "id"=>"980190963"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 60000.0], ["updated_at", "2017-08-08 15:07:22.159194"], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 6ms (ActiveRecord: 0.5ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$chLpJTYfDcRmbnvZ9Q4FReWgItoptpF4lATSXdkO32O1bHx9f4DpS"], ["created_at", "2017-08-08 15:07:22.170443"], ["updated_at", "2017-08-08 15:07:22.170443"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:07:22 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:07:22.176077"], ["last_sign_in_at", "2017-08-08 15:07:22.176077"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:07:22.176533"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:07:22.180676"], ["updated_at", "2017-08-08 15:07:22.180676"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-08 18:07:22 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$Za18dBTthdv3soFChM7pp.RXsx9/5A.js2PVVthPbvkApYKv45K86"], ["created_at", "2017-08-08 15:07:22.194593"], ["updated_at", "2017-08-08 15:07:22.194593"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:07:22 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:07:22.201095"], ["last_sign_in_at", "2017-08-08 15:07:22.201095"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:07:22.201558"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:07:22.205503"], ["updated_at", "2017-08-08 15:07:22.205503"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-08 18:07:22 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 15:07:22.210718"], ["updated_at", "2017-08-08 15:07:22.210718"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 6ms (Views: 0.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$hm7sxsidsBSlTDsbdnKBQujzrKWuqeFWGGBzhfG/NBj7kQmW3IHh6"], ["created_at", "2017-08-08 15:07:22.221496"], ["updated_at", "2017-08-08 15:07:22.221496"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:07:22 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:07:22.235215"], ["last_sign_in_at", "2017-08-08 15:07:22.235215"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:07:22.235590"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 18:07:22 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.7ms)
Completed 200 OK in 399ms (Views: 397.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 18:07:22 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.6ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$FUuyvG2pvgPAkbCYLNxOKOlWMF5PdFSfzhd2ksVNRICxxLeXGpKai"], ["created_at", "2017-08-08 15:07:22.651511"], ["updated_at", "2017-08-08 15:07:22.651511"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:07:22 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:07:22.656968"], ["last_sign_in_at", "2017-08-08 15:07:22.656968"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:07:22.657361"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 18:07:22 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.2ms)
Completed 200 OK in 22ms (Views: 20.3ms | ActiveRecord: 0.1ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-08 18:07:22 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-08 18:07:22 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-08 18:07:22 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$oheK8HfEH86sBfGm70spuuIe641rOyKoCkOCwBsgZLZsnvkLF1iIi"], ["created_at", "2017-08-08 15:07:22.699712"], ["updated_at", "2017-08-08 15:07:22.699712"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-08 18:07:22 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 15:07:22.705533"], ["last_sign_in_at", "2017-08-08 15:07:22.705533"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 15:07:22.706034"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-08-08 18:07:22 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (0.9ms)
Completed 302 Found in 3ms (Views: 2.2ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-08 18:07:22 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 21:09:41.779964', '2017-08-08 21:09:41.779964', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-08 21:09:41.779964', '2017-08-08 21:09:41.779964', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 21:09:41.782716', '2017-08-08 21:09:41.782716', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-08 21:09:41.782716', '2017-08-08 21:09:41.782716', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.0ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 21:09:41.784291', '2017-08-08 21:09:41.784291', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-08 21:09:41.784291', '2017-08-08 21:09:41.784291', 298486374)[0m
  [1m[35m (88.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-09 00:09:41 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.8ms)
Completed 200 OK in 386ms (Views: 379.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-09 00:09:42 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-09 00:09:42 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$0fKfvua.8BT/mwYIVYIJ5Os8h3.u9fGcqzm/UkHpXPrQZUPML7X/a"], ["created_at", "2017-08-08 21:09:42.406541"], ["updated_at", "2017-08-08 21:09:42.406541"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-09 00:09:42 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 21:09:42.421209"], ["last_sign_in_at", "2017-08-08 21:09:42.421209"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 21:09:42.421698"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 30ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-09 00:09:42 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.0ms)
Completed 302 Found in 3ms (Views: 2.2ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-09 00:09:42 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$K6Pn1FrRaR5rSSKECjlJCe0kvPUL93hlDt8INh7KAsFSCeQ.CfVKG"], ["created_at", "2017-08-08 21:09:42.463332"], ["updated_at", "2017-08-08 21:09:42.463332"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-09 00:09:42 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 21:09:42.468346"], ["last_sign_in_at", "2017-08-08 21:09:42.468346"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 21:09:42.468744"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-09 00:09:42 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$r2JvxSXsMSoiUDAStQCSi.OPwyyUQZTMngAq6Xa92Xs53gFFShW8K"], ["created_at", "2017-08-08 21:09:42.481744"], ["updated_at", "2017-08-08 21:09:42.481744"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-09 00:09:42 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 21:09:42.487042"], ["last_sign_in_at", "2017-08-08 21:09:42.487042"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 21:09:42.487515"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-09 00:09:42 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-09 00:09:42 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
TransactionsControllerTest: test_should_create_transaction
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$aGsl4pr75kmggQ8MP4dB7uN.sKpU8RoHk/Xpryw/chKFlB7/bDb9G"], ["created_at", "2017-08-08 21:09:42.504282"], ["updated_at", "2017-08-08 21:09:42.504282"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-09 00:09:42 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 21:09:42.509336"], ["last_sign_in_at", "2017-08-08 21:09:42.509336"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 21:09:42.509818"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 21:09:42.527261"], ["updated_at", "2017-08-08 21:09:42.527261"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["ammount", 400.0], ["description", "test"], ["made_on_date", "2017-08-08"], ["currency", "USD"], ["account_id", 980190963], ["user_id", 2], ["created_at", "2017-08-08 21:09:42.539346"], ["updated_at", "2017-08-08 21:09:42.539346"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
Started POST "/api/transactions" for 127.0.0.1 at 2017-08-09 00:09:42 +0300
Processing by TransactionsController#create as JSON
  Parameters: {"transaction"=>{"ammount"=>"400", "description"=>"test", "made_on_date"=>"2017-08-08", "account_id"=>"980190963", "currency"=>"USD"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["ammount", 400.0], ["description", "test"], ["made_on_date", "2017-08-08"], ["currency", "USD"], ["account_id", 980190963], ["user_id", 2], ["created_at", "2017-08-08 21:09:42.546812"], ["updated_at", "2017-08-08 21:09:42.546812"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 7ms (Views: 0.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
TransactionsControllerTest: test_should_get_only_user's_transactions
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$w//Ud7uipGGv.Y2b6nS4rOOHpqic5IGr6X3qP/Vdj3e.fQdwVGNwe"], ["created_at", "2017-08-08 21:09:42.557519"], ["updated_at", "2017-08-08 21:09:42.557519"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-09 00:09:42 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 21:09:42.563107"], ["last_sign_in_at", "2017-08-08 21:09:42.563107"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 21:09:42.563486"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 21:09:42.567911"], ["updated_at", "2017-08-08 21:09:42.567911"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.0ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["ammount", 400.0], ["description", "test"], ["made_on_date", "2017-08-08"], ["currency", "USD"], ["account_id", 980190963], ["user_id", 2], ["created_at", "2017-08-08 21:09:42.570577"], ["updated_at", "2017-08-08 21:09:42.570577"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/transactions" for 127.0.0.1 at 2017-08-09 00:09:42 +0300
Processing by TransactionsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Load (0.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$jT.mBD38AW5xZ0pyAWP03ePJ979ZX77twfFDJ90et0KH0bzvFDToK"], ["created_at", "2017-08-08 21:09:42.583547"], ["updated_at", "2017-08-08 21:09:42.583547"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-09 00:09:42 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 21:09:42.588869"], ["last_sign_in_at", "2017-08-08 21:09:42.588869"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 21:09:42.589206"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 21:09:42.592960"], ["updated_at", "2017-08-08 21:09:42.592960"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-09 00:09:42 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 21:09:42.598739"], ["updated_at", "2017-08-08 21:09:42.598739"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 5ms (Views: 0.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$111hQD5H3lv4FdTr4KL/U.EUA0GK3ZulZFvZXOyt95P88UDCsmi1W"], ["created_at", "2017-08-08 21:09:42.608853"], ["updated_at", "2017-08-08 21:09:42.608853"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-09 00:09:42 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 21:09:42.614608"], ["last_sign_in_at", "2017-08-08 21:09:42.614608"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 21:09:42.615000"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 21:09:42.619219"], ["updated_at", "2017-08-08 21:09:42.619219"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts/980190963" for 127.0.0.1 at 2017-08-09 00:09:42 +0300
Processing by AccountsController#update as JSON
  Parameters: {"account"=>{"balance"=>"60000"}, "id"=>"980190963"}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 60000.0], ["updated_at", "2017-08-08 21:09:42.623521"], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 5ms (ActiveRecord: 0.3ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$8aCCx.4WQEYPnLed5bzeaOPGUwSZmZCL7EF2uDTrsB5Y9xl8yqJpC"], ["created_at", "2017-08-08 21:09:42.633029"], ["updated_at", "2017-08-08 21:09:42.633029"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-09 00:09:42 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-08 21:09:42.638157"], ["last_sign_in_at", "2017-08-08 21:09:42.638157"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-08 21:09:42.638529"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-08 21:09:42.642176"], ["updated_at", "2017-08-08 21:09:42.642176"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-09 00:09:42 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-09 05:36:24.169408', '2017-08-09 05:36:24.169408', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-09 05:36:24.169408', '2017-08-09 05:36:24.169408', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-09 05:36:24.175857', '2017-08-09 05:36:24.175857', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-09 05:36:24.175857', '2017-08-09 05:36:24.175857', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-09 05:36:24.177887', '2017-08-09 05:36:24.177887', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-09 05:36:24.177887', '2017-08-09 05:36:24.177887', 298486374)[0m
  [1m[35m (55.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$/pwr65gfcKnskifRunJML.oHcVISk0rmHvvetlXc1SulFnPOpOvIm"], ["created_at", "2017-08-09 05:36:24.605285"], ["updated_at", "2017-08-09 05:36:24.605285"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-09 08:36:24 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-09 05:36:24.834424"], ["last_sign_in_at", "2017-08-09 05:36:24.834424"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-09 05:36:24.835048"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 134ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-09 05:36:24.984398"], ["updated_at", "2017-08-09 05:36:24.984398"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-09 08:36:24 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-09 05:36:25.002576"], ["updated_at", "2017-08-09 05:36:25.002576"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 27ms (Views: 19.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$nVc8TpIRWygRbfzTs3Sv3.xm7kFZEMfj/abTlSTkxv8TldXLdafta"], ["created_at", "2017-08-09 05:36:25.034951"], ["updated_at", "2017-08-09 05:36:25.034951"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-09 08:36:25 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-09 05:36:25.040380"], ["last_sign_in_at", "2017-08-09 05:36:25.040380"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-09 05:36:25.040863"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 15ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-09 05:36:25.055226"], ["updated_at", "2017-08-09 05:36:25.055226"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts/980190963" for 127.0.0.1 at 2017-08-09 08:36:25 +0300
Processing by AccountsController#update as JSON
  Parameters: {"account"=>{"balance"=>"60000"}, "id"=>"980190963"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 60000.0], ["updated_at", "2017-08-09 05:36:25.074060"], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 19ms (ActiveRecord: 0.5ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$HDplu.lH7wQNcnmtLdwKQuOUWkqqdQYIWV93E88JmYyBspqfPPBHG"], ["created_at", "2017-08-09 05:36:25.083782"], ["updated_at", "2017-08-09 05:36:25.083782"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-09 08:36:25 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-09 05:36:25.089164"], ["last_sign_in_at", "2017-08-09 05:36:25.089164"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-09 05:36:25.089736"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-09 05:36:25.094011"], ["updated_at", "2017-08-09 05:36:25.094011"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-09 08:36:25 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
TransactionsControllerTest: test_should_create_transaction
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$IE2GJldFDX1JniK/IVeYAeUfar17nNZ3lJBJ8vNG4xJd4G2GHJbvm"], ["created_at", "2017-08-09 05:36:25.106784"], ["updated_at", "2017-08-09 05:36:25.106784"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-09 08:36:25 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-09 05:36:25.111675"], ["last_sign_in_at", "2017-08-09 05:36:25.111675"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-09 05:36:25.112079"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-09 05:36:25.116099"], ["updated_at", "2017-08-09 05:36:25.116099"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["ammount", 400.0], ["description", "test"], ["made_on_date", "2017-08-08"], ["currency", "USD"], ["account_id", 980190963], ["user_id", 2], ["created_at", "2017-08-09 05:36:25.128203"], ["updated_at", "2017-08-09 05:36:25.128203"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
Started POST "/api/transactions" for 127.0.0.1 at 2017-08-09 08:36:25 +0300
Processing by TransactionsController#create as JSON
  Parameters: {"transaction"=>{"ammount"=>"400", "description"=>"test", "made_on_date"=>"2017-08-08", "account_id"=>"980190963", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["ammount", 400.0], ["description", "test"], ["made_on_date", "2017-08-08"], ["currency", "USD"], ["account_id", 980190963], ["user_id", 2], ["created_at", "2017-08-09 05:36:25.150337"], ["updated_at", "2017-08-09 05:36:25.150337"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 8ms (Views: 0.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
TransactionsControllerTest: test_should_get_only_user's_transactions
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$uXmJFYP6fQKVgfPyNFKV0uCSi3r22eCGZvVgNpbH7DoGWrT.QXvAm"], ["created_at", "2017-08-09 05:36:25.160827"], ["updated_at", "2017-08-09 05:36:25.160827"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-09 08:36:25 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-09 05:36:25.165893"], ["last_sign_in_at", "2017-08-09 05:36:25.165893"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-09 05:36:25.166313"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-09 05:36:25.170994"], ["updated_at", "2017-08-09 05:36:25.170994"], ["currency", "USD"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["ammount", 400.0], ["description", "test"], ["made_on_date", "2017-08-08"], ["currency", "USD"], ["account_id", 980190963], ["user_id", 2], ["created_at", "2017-08-09 05:36:25.173979"], ["updated_at", "2017-08-09 05:36:25.173979"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/transactions" for 127.0.0.1 at 2017-08-09 08:36:25 +0300
Processing by TransactionsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Load (0.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-09 08:36:25 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$YrEDCF3rqzjE2rqbKGClU.ItVZdkRzVdOuiXVFHQGQA1RPgCMap0K"], ["created_at", "2017-08-09 05:36:25.224887"], ["updated_at", "2017-08-09 05:36:25.224887"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-09 08:36:25 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-09 05:36:25.230028"], ["last_sign_in_at", "2017-08-09 05:36:25.230028"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-09 05:36:25.230448"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-09 08:36:25 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (10.1ms)
Completed 200 OK in 7751ms (Views: 7749.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$lzSn2FRaXQq9ttDIz26BFeeLYgXLbpfXVJuSA6blHVXIGngE.0TDG"], ["created_at", "2017-08-09 05:36:32.994214"], ["updated_at", "2017-08-09 05:36:32.994214"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-09 08:36:32 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-09 05:36:32.999515"], ["last_sign_in_at", "2017-08-09 05:36:32.999515"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-09 05:36:32.999983"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-09 08:36:33 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-09 08:36:33 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-09 08:36:33 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.8ms)
Completed 200 OK in 12ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-09 08:36:33 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$Jr5lqBjsHxXJFvOJOK.88.NQUjL0KYCKpLEQkiI37GMMk/r7Z8qSW"], ["created_at", "2017-08-09 05:36:33.035721"], ["updated_at", "2017-08-09 05:36:33.035721"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-09 08:36:33 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-09 05:36:33.040609"], ["last_sign_in_at", "2017-08-09 05:36:33.040609"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-09 05:36:33.041071"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-08-09 08:36:33 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.2ms)
Completed 302 Found in 4ms (Views: 2.9ms | ActiveRecord: 0.2ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-09 08:36:33 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 20ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-09 05:38:34.543470', '2017-08-09 05:38:34.543470', 980190962, 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "created_at", "updated_at", "id", "account_id", "user_id") VALUES (9.99, 'MyText', '2017-08-02', 'MyString', '2017-08-09 05:38:34.543470', '2017-08-09 05:38:34.543470', 298486374, 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "accounts"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-09 05:38:34.546426', '2017-08-09 05:38:34.546426', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, '2017-08-09 05:38:34.546426', '2017-08-09 05:38:34.546426', 298486374, 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "currencies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-09 05:38:34.548314', '2017-08-09 05:38:34.548314', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "currencies" ("symbol", "name", "code", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', '2017-08-09 05:38:34.548314', '2017-08-09 05:38:34.548314', 298486374)[0m
  [1m[35m (61.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PagesControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-09 08:38:34 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (3.8ms)
Completed 200 OK in 355ms (Views: 348.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_accounts_page
----------------------------------------------------------------------------------------
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-09 08:38:35 +0300
Processing by PagesController#accounts as HTML
Completed 401 Unauthorized in 6ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
PagesControllerTest: test_user_is_redirected_to_sign_in_page_when_visiting_transactions_page
--------------------------------------------------------------------------------------------
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-09 08:38:35 +0300
Processing by PagesController#transactions as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
PagesControllerTest: test_should_get_transactions
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$.BU/tFaLYnUNdA3Kvbfsb.Q75083y6PFu1KyWPlEAOs1nZBSMoah2"], ["created_at", "2017-08-09 05:38:35.185092"], ["updated_at", "2017-08-09 05:38:35.185092"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-09 08:38:35 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-09 05:38:35.209792"], ["last_sign_in_at", "2017-08-09 05:38:35.209792"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-09 05:38:35.211066"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 19ms (ActiveRecord: 0.6ms)
Started GET "/pages/transactions" for 127.0.0.1 at 2017-08-09 08:38:35 +0300
Processing by PagesController#transactions as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/transactions.html.erb within layouts/application
  Rendered pages/transactions.html.erb within layouts/application (0.3ms)
Completed 200 OK in 5ms (Views: 2.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PagesControllerTest: test_user_redirected_on_sign_in_and_sign_out
-----------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-08-09 08:38:35 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$NEwez3gDpA7qsTpUeg6NDu.vkLhfEhcEEuaQLcRwC4NuNjTFNrSwe"], ["created_at", "2017-08-09 05:38:35.240606"], ["updated_at", "2017-08-09 05:38:35.240606"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-09 08:38:35 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-09 05:38:35.246997"], ["last_sign_in_at", "2017-08-09 05:38:35.246997"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-09 05:38:35.247691"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
Started GET "/" for 127.0.0.1 at 2017-08-09 08:38:35 +0300
Processing by PagesController#home as HTML
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://www.example.com/pages/accounts
  Rendered pages/home.html.erb within layouts/application (1.1ms)
Completed 302 Found in 3ms (Views: 2.5ms | ActiveRecord: 0.3ms)
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-08-09 08:38:35 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PagesControllerTest: test_should_get_accounts
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "david@gmail.com"], ["encrypted_password", "$2a$04$bvHWmpeOxPh8Ll44bhaiK.iqIFTZfuTRFkGt3IWUHjpUMcgFlU.Pq"], ["created_at", "2017-08-09 05:38:35.269898"], ["updated_at", "2017-08-09 05:38:35.269898"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=david%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-09 08:38:35 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"david@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "david@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-09 05:38:35.276818"], ["last_sign_in_at", "2017-08-09 05:38:35.276818"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-09 05:38:35.277395"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
Started GET "/pages/accounts" for 127.0.0.1 at 2017-08-09 08:38:35 +0300
Processing by PagesController#accounts as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering pages/accounts.html.erb within layouts/application
  Rendered pages/accounts.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
AccountsControllerTest: test_should_change_account_balance
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$hQvRl4L8Kdr0gTQMKXhRnOTQpIfRiEpWzYciHaG6M5v9zYxQxPvo6"], ["created_at", "2017-08-09 05:38:35.295449"], ["updated_at", "2017-08-09 05:38:35.295449"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-09 08:38:35 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-09 05:38:35.302685"], ["last_sign_in_at", "2017-08-09 05:38:35.302685"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-09 05:38:35.303327"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-09 05:38:35.352213"], ["updated_at", "2017-08-09 05:38:35.352213"], ["currency", "USD"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/accounts/980190963" for 127.0.0.1 at 2017-08-09 08:38:35 +0300
Processing by AccountsController#update as JSON
  Parameters: {"account"=>{"balance"=>"60000"}, "id"=>"980190963"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = ?, "updated_at" = ? WHERE "accounts"."id" = ?[0m  [["balance", 60000.0], ["updated_at", "2017-08-09 05:38:35.364428"], ["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 8ms (ActiveRecord: 0.6ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
AccountsControllerTest: test_should_create_account
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$wUn0eXjdu6oVLrEyEChE0e/4X9h38A8snOrQxcih8mmgJJRgbAGL2"], ["created_at", "2017-08-09 05:38:35.376111"], ["updated_at", "2017-08-09 05:38:35.376111"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-09 08:38:35 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-09 05:38:35.382304"], ["last_sign_in_at", "2017-08-09 05:38:35.382304"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-09 05:38:35.382893"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-09 05:38:35.388024"], ["updated_at", "2017-08-09 05:38:35.388024"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
Started POST "/api/accounts" for 127.0.0.1 at 2017-08-09 08:38:35 +0300
Processing by AccountsController#create as JSON
  Parameters: {"account"=>{"name"=>"Lorem ipsum", "balance"=>"4000", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lorem ipsum"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-09 05:38:35.395672"], ["updated_at", "2017-08-09 05:38:35.395672"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 9ms (Views: 1.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
AccountsControllerTest: test_should_get_only_user's_accounts
------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$cl13nLyGogyEX4qgL/a73eKiQa7yAWMufgOkmlKW2bMrJA7SzNlOy"], ["created_at", "2017-08-09 05:38:35.411687"], ["updated_at", "2017-08-09 05:38:35.411687"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-09 08:38:35 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-09 05:38:35.421582"], ["last_sign_in_at", "2017-08-09 05:38:35.421582"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-09 05:38:35.422646"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-09 05:38:35.429836"], ["updated_at", "2017-08-09 05:38:35.429836"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/accounts" for 127.0.0.1 at 2017-08-09 08:38:35 +0300
Processing by AccountsController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 7ms (Views: 1.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
TransactionsControllerTest: test_should_create_transaction
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$CoH80WQEM5KcCmcmwXQvPeBYfusHV/f/KNfrTlMDJqhY7RyIWxxxu"], ["created_at", "2017-08-09 05:38:35.450271"], ["updated_at", "2017-08-09 05:38:35.450271"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-09 08:38:35 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-09 05:38:35.456055"], ["last_sign_in_at", "2017-08-09 05:38:35.456055"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-09 05:38:35.456565"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-09 05:38:35.461193"], ["updated_at", "2017-08-09 05:38:35.461193"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["ammount", 400.0], ["description", "test"], ["made_on_date", "2017-08-08"], ["currency", "USD"], ["account_id", 980190963], ["user_id", 2], ["created_at", "2017-08-09 05:38:35.473617"], ["updated_at", "2017-08-09 05:38:35.473617"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
Started POST "/api/transactions" for 127.0.0.1 at 2017-08-09 08:38:35 +0300
Processing by TransactionsController#create as JSON
  Parameters: {"transaction"=>{"ammount"=>"400", "description"=>"test", "made_on_date"=>"2017-08-08", "account_id"=>"980190963", "currency"=>"USD"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["ammount", 400.0], ["description", "test"], ["made_on_date", "2017-08-08"], ["currency", "USD"], ["account_id", 980190963], ["user_id", 2], ["created_at", "2017-08-09 05:38:35.482083"], ["updated_at", "2017-08-09 05:38:35.482083"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 7ms (Views: 1.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
TransactionsControllerTest: test_should_get_only_user's_transactions
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "example@gmail.com"], ["encrypted_password", "$2a$04$K5tDe2TVhypg.vdHDFj/qeMJJ5JBTiHorKyks4Z2yv1Cmtu1/lCd."], ["created_at", "2017-08-09 05:38:35.492984"], ["updated_at", "2017-08-09 05:38:35.492984"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/sign_in?user%5Bemail%5D=example%40gmail.com&user%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-08-09 08:38:35 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"example@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "example@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", "2017-08-09 05:38:35.498748"], ["last_sign_in_at", "2017-08-09 05:38:35.498748"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-08-09 05:38:35.499180"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "balance", "user_id", "created_at", "updated_at", "currency") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["balance", 4000.0], ["user_id", 2], ["created_at", "2017-08-09 05:38:35.503868"], ["updated_at", "2017-08-09 05:38:35.503868"], ["currency", "USD"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ammount", "description", "made_on_date", "currency", "account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["ammount", 400.0], ["description", "test"], ["made_on_date", "2017-08-08"], ["currency", "USD"], ["account_id", 980190963], ["user_id", 2], ["created_at", "2017-08-09 05:38:35.507370"], ["updated_at", "2017-08-09 05:38:35.507370"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/transactions" for 127.0.0.1 at 2017-08-09 08:38:35 +0300
Processing by TransactionsController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Load (0.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
